<html><head><meta charset="UTF-8"><script> /* PrismJS 1.29.0
https://prismjs.com/download.html#themes=prism&languages=markup+css+clike+javascript+actionscript+apacheconf+aspnet+bash+basic+bnf+brainfuck+c+csharp+cpp+cmake+coffeescript+docker+erb+ftl+go+go-module+gradle+groovy+haml+haskell+http+hpkp+hsts+ini+java+javadoc+javadoclike+javastacktrace+json+json5+jsonp+jsstacktrace+js-templates+kotlin+makefile+markup-templating+mermaid+nginx+objectivec+php+phpdoc+php-extras+plant-uml+powershell+python+cshtml+regex+ruby+scala+shell-session+smarty+sql+swift+textile+twig+typescript+vbnet+velocity+yaml&plugins=highlight-keywords+toolbar */
var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(e){var n=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,t=0,r={},a={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(n){return n instanceof i?new i(n.type,e(n.content),n.alias):Array.isArray(n)?n.map(e):n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function e(n,t){var r,i;switch(t=t||{},a.util.type(n)){case"Object":if(i=a.util.objId(n),t[i])return t[i];for(var l in r={},t[i]=r,n)n.hasOwnProperty(l)&&(r[l]=e(n[l],t));return r;case"Array":return i=a.util.objId(n),t[i]?t[i]:(r=[],t[i]=r,n.forEach((function(n,a){r[a]=e(n,t)})),r);default:return n}},getLanguage:function(e){for(;e;){var t=n.exec(e.className);if(t)return t[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,t){e.className=e.className.replace(RegExp(n,"gi"),""),e.classList.add("language-"+t)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(r.stack)||[])[1];if(e){var n=document.getElementsByTagName("script");for(var t in n)if(n[t].src==e)return n[t]}return null}},isActive:function(e,n,t){for(var r="no-"+n;e;){var a=e.classList;if(a.contains(n))return!0;if(a.contains(r))return!1;e=e.parentElement}return!!t}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,n){var t=a.util.clone(a.languages[e]);for(var r in n)t[r]=n[r];return t},insertBefore:function(e,n,t,r){var i=(r=r||a.languages)[e],l={};for(var o in i)if(i.hasOwnProperty(o)){if(o==n)for(var s in t)t.hasOwnProperty(s)&&(l[s]=t[s]);t.hasOwnProperty(o)||(l[o]=i[o])}var u=r[e];return r[e]=l,a.languages.DFS(a.languages,(function(n,t){t===u&&n!=e&&(this[n]=l)})),l},DFS:function e(n,t,r,i){i=i||{};var l=a.util.objId;for(var o in n)if(n.hasOwnProperty(o)){t.call(n,o,n[o],r||o);var s=n[o],u=a.util.type(s);"Object"!==u||i[l(s)]?"Array"!==u||i[l(s)]||(i[l(s)]=!0,e(s,t,o,i)):(i[l(s)]=!0,e(s,t,null,i))}}},plugins:{},highlightAll:function(e,n){a.highlightAllUnder(document,e,n)},highlightAllUnder:function(e,n,t){var r={callback:t,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),a.hooks.run("before-all-elements-highlight",r);for(var i,l=0;i=r.elements[l++];)a.highlightElement(i,!0===n,r.callback)},highlightElement:function(n,t,r){var i=a.util.getLanguage(n),l=a.languages[i];a.util.setLanguage(n,i);var o=n.parentElement;o&&"pre"===o.nodeName.toLowerCase()&&a.util.setLanguage(o,i);var s={element:n,language:i,grammar:l,code:n.textContent};function u(e){s.highlightedCode=e,a.hooks.run("before-insert",s),s.element.innerHTML=s.highlightedCode,a.hooks.run("after-highlight",s),a.hooks.run("complete",s),r&&r.call(s.element)}if(a.hooks.run("before-sanity-check",s),(o=s.element.parentElement)&&"pre"===o.nodeName.toLowerCase()&&!o.hasAttribute("tabindex")&&o.setAttribute("tabindex","0"),!s.code)return a.hooks.run("complete",s),void(r&&r.call(s.element));if(a.hooks.run("before-highlight",s),s.grammar)if(t&&e.Worker){var c=new Worker(a.filename);c.onmessage=function(e){u(e.data)},c.postMessage(JSON.stringify({language:s.language,code:s.code,immediateClose:!0}))}else u(a.highlight(s.code,s.grammar,s.language));else u(a.util.encode(s.code))},highlight:function(e,n,t){var r={code:e,grammar:n,language:t};if(a.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=a.tokenize(r.code,r.grammar),a.hooks.run("after-tokenize",r),i.stringify(a.util.encode(r.tokens),r.language)},tokenize:function(e,n){var t=n.rest;if(t){for(var r in t)n[r]=t[r];delete n.rest}var a=new s;return u(a,a.head,e),o(e,a,n,a.head,0),function(e){for(var n=[],t=e.head.next;t!==e.tail;)n.push(t.value),t=t.next;return n}(a)},hooks:{all:{},add:function(e,n){var t=a.hooks.all;t[e]=t[e]||[],t[e].push(n)},run:function(e,n){var t=a.hooks.all[e];if(t&&t.length)for(var r,i=0;r=t[i++];)r(n)}},Token:i};function i(e,n,t,r){this.type=e,this.content=n,this.alias=t,this.length=0|(r||"").length}function l(e,n,t,r){e.lastIndex=n;var a=e.exec(t);if(a&&r&&a[1]){var i=a[1].length;a.index+=i,a[0]=a[0].slice(i)}return a}function o(e,n,t,r,s,g){for(var f in t)if(t.hasOwnProperty(f)&&t[f]){var h=t[f];h=Array.isArray(h)?h:[h];for(var d=0;d<h.length;++d){if(g&&g.cause==f+","+d)return;var v=h[d],p=v.inside,m=!!v.lookbehind,y=!!v.greedy,k=v.alias;if(y&&!v.pattern.global){var x=v.pattern.toString().match(/[imsuy]*$/)[0];v.pattern=RegExp(v.pattern.source,x+"g")}for(var b=v.pattern||v,w=r.next,A=s;w!==n.tail&&!(g&&A>=g.reach);A+=w.value.length,w=w.next){var E=w.value;if(n.length>e.length)return;if(!(E instanceof i)){var P,L=1;if(y){if(!(P=l(b,A,e,m))||P.index>=e.length)break;var S=P.index,O=P.index+P[0].length,j=A;for(j+=w.value.length;S>=j;)j+=(w=w.next).value.length;if(A=j-=w.value.length,w.value instanceof i)continue;for(var C=w;C!==n.tail&&(j<O||"string"==typeof C.value);C=C.next)L++,j+=C.value.length;L--,E=e.slice(A,j),P.index-=A}else if(!(P=l(b,0,E,m)))continue;S=P.index;var N=P[0],_=E.slice(0,S),M=E.slice(S+N.length),W=A+E.length;g&&W>g.reach&&(g.reach=W);var z=w.prev;if(_&&(z=u(n,z,_),A+=_.length),c(n,z,L),w=u(n,z,new i(f,p?a.tokenize(N,p):N,k,N)),M&&u(n,w,M),L>1){var I={cause:f+","+d,reach:W};o(e,n,t,w.prev,A,I),g&&I.reach>g.reach&&(g.reach=I.reach)}}}}}}function s(){var e={value:null,prev:null,next:null},n={value:null,prev:e,next:null};e.next=n,this.head=e,this.tail=n,this.length=0}function u(e,n,t){var r=n.next,a={value:t,prev:n,next:r};return n.next=a,r.prev=a,e.length++,a}function c(e,n,t){for(var r=n.next,a=0;a<t&&r!==e.tail;a++)r=r.next;n.next=r,r.prev=n,e.length-=a}if(e.Prism=a,i.stringify=function e(n,t){if("string"==typeof n)return n;if(Array.isArray(n)){var r="";return n.forEach((function(n){r+=e(n,t)})),r}var i={type:n.type,content:e(n.content,t),tag:"span",classes:["token",n.type],attributes:{},language:t},l=n.alias;l&&(Array.isArray(l)?Array.prototype.push.apply(i.classes,l):i.classes.push(l)),a.hooks.run("wrap",i);var o="";for(var s in i.attributes)o+=" "+s+'="'+(i.attributes[s]||"").replace(/"/g,"&quot;")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+o+">"+i.content+"</"+i.tag+">"},!e.document)return e.addEventListener?(a.disableWorkerMessageHandler||e.addEventListener("message",(function(n){var t=JSON.parse(n.data),r=t.language,i=t.code,l=t.immediateClose;e.postMessage(a.highlight(i,a.languages[r],r)),l&&e.close()}),!1),a):a;var g=a.util.currentScript();function f(){a.manual||a.highlightAll()}if(g&&(a.filename=g.src,g.hasAttribute("data-manual")&&(a.manual=!0)),!a.manual){var h=document.readyState;"loading"===h||"interactive"===h&&g&&g.defer?document.addEventListener("DOMContentLoaded",f):window.requestAnimationFrame?window.requestAnimationFrame(f):window.setTimeout(f,16)}return a}(_self);"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism);
Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",(function(a){"entity"===a.type&&(a.attributes.title=a.content.replace(/&amp;/,"&"))})),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(a,e){var s={};s["language-"+e]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[e]},s.cdata=/^<!\[CDATA\[|\]\]>$/i;var t={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:s}};t["language-"+e]={pattern:/[\s\S]+/,inside:Prism.languages[e]};var n={};n[a]={pattern:RegExp("(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[^])*?(?=</__>)".replace(/__/g,(function(){return a})),"i"),lookbehind:!0,greedy:!0,inside:t},Prism.languages.insertBefore("markup","cdata",n)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(a,e){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp("(^|[\"'\\s])(?:"+a+")\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))","i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:Prism.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml;
!function(s){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;s.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:[^;{\\s\"']|\\s+(?!\\s)|"+e.source+")*?(?:;|(?=\\s*\\{))"),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|(?:[^\\\\\r\n()\"']|\\\\[^])*)\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},s.languages.css.atrule.inside.rest=s.languages.css;var t=s.languages.markup;t&&(t.tag.addInlined("style","css"),t.tag.addAttribute("style","css"))}(Prism);
Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};
Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp("(^|[^\\w$])(?:NaN|Infinity|0[bB][01]+(?:_[01]+)*n?|0[oO][0-7]+(?:_[0-7]+)*n?|0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?|\\d+(?:_\\d+)*n|(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?)(?![\\w$])"),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp("((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)/(?:(?:\\[(?:[^\\]\\\\\r\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\r\n])+/[dgimyus]{0,7}|(?:\\[(?:[^[\\]\\\\\r\n]|\\\\.|\\[(?:[^[\\]\\\\\r\n]|\\\\.|\\[(?:[^[\\]\\\\\r\n]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\r\n])+/[dgimyus]{0,7}v[dgimyus]{0,7})(?=(?:\\s|/\\*(?:[^*]|\\*(?!/))*\\*/)*(?:$|[\r\n,.;:})\\]]|//))"),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute("on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)","javascript")),Prism.languages.js=Prism.languages.javascript;
Prism.languages.actionscript=Prism.languages.extend("javascript",{keyword:/\b(?:as|break|case|catch|class|const|default|delete|do|dynamic|each|else|extends|final|finally|for|function|get|if|implements|import|in|include|instanceof|interface|internal|is|namespace|native|new|null|override|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|use|var|void|while|with)\b/,operator:/\+\+|--|(?:[+\-*\/%^]|&&?|\|\|?|<<?|>>?>?|[!=]=?)=?|[~?@]/}),Prism.languages.actionscript["class-name"].alias="function",delete Prism.languages.actionscript.parameter,delete Prism.languages.actionscript["literal-property"],Prism.languages.markup&&Prism.languages.insertBefore("actionscript","string",{xml:{pattern:/(^|[^.])<\/?\w+(?:\s+[^\s>\/=]+=("|')(?:\\[\s\S]|(?!\2)[^\\])*\2)*\s*\/?>/,lookbehind:!0,inside:Prism.languages.markup}});
Prism.languages.apacheconf={comment:/#.*/,"directive-inline":{pattern:/(^[\t ]*)\b(?:AcceptFilter|AcceptPathInfo|AccessFileName|Action|Add(?:Alt|AltByEncoding|AltByType|Charset|DefaultCharset|Description|Encoding|Handler|Icon|IconByEncoding|IconByType|InputFilter|Language|ModuleInfo|OutputFilter|OutputFilterByType|Type)|Alias|AliasMatch|Allow(?:CONNECT|EncodedSlashes|Methods|Override|OverrideList)?|Anonymous(?:_LogEmail|_MustGiveEmail|_NoUserID|_VerifyEmail)?|AsyncRequestWorkerFactor|Auth(?:BasicAuthoritative|BasicFake|BasicProvider|BasicUseDigestAlgorithm|DBDUserPWQuery|DBDUserRealmQuery|DBMGroupFile|DBMType|DBMUserFile|Digest(?:Algorithm|Domain|NonceLifetime|Provider|Qop|ShmemSize)|Form(?:Authoritative|Body|DisableNoStore|FakeBasicAuth|Location|LoginRequiredLocation|LoginSuccessLocation|LogoutLocation|Method|Mimetype|Password|Provider|SitePassphrase|Size|Username)|GroupFile|LDAP(?:AuthorizePrefix|BindAuthoritative|BindDN|BindPassword|CharsetConfig|CompareAsUser|CompareDNOnServer|DereferenceAliases|GroupAttribute|GroupAttributeIsDN|InitialBindAsUser|InitialBindPattern|MaxSubGroupDepth|RemoteUserAttribute|RemoteUserIsDN|SearchAsUser|SubGroupAttribute|SubGroupClass|Url)|Merging|Name|nCache(?:Context|Enable|ProvideFor|SOCache|Timeout)|nzFcgiCheckAuthnProvider|nzFcgiDefineProvider|Type|UserFile|zDBDLoginToReferer|zDBDQuery|zDBDRedirectQuery|zDBMType|zSendForbiddenOnFailure)|BalancerGrowth|BalancerInherit|BalancerMember|BalancerPersist|BrowserMatch|BrowserMatchNoCase|BufferedLogs|BufferSize|Cache(?:DefaultExpire|DetailHeader|DirLength|DirLevels|Disable|Enable|File|Header|IgnoreCacheControl|IgnoreHeaders|IgnoreNoLastMod|IgnoreQueryString|IgnoreURLSessionIdentifiers|KeyBaseURL|LastModifiedFactor|Lock|LockMaxAge|LockPath|MaxExpire|MaxFileSize|MinExpire|MinFileSize|NegotiatedDocs|QuickHandler|ReadSize|ReadTime|Root|Socache(?:MaxSize|MaxTime|MinTime|ReadSize|ReadTime)?|StaleOnError|StoreExpired|StoreNoStore|StorePrivate)|CGIDScriptTimeout|CGIMapExtension|CharsetDefault|CharsetOptions|CharsetSourceEnc|CheckCaseOnly|CheckSpelling|ChrootDir|ContentDigest|CookieDomain|CookieExpires|CookieName|CookieStyle|CookieTracking|CoreDumpDirectory|CustomLog|Dav|DavDepthInfinity|DavGenericLockDB|DavLockDB|DavMinTimeout|DBDExptime|DBDInitSQL|DBDKeep|DBDMax|DBDMin|DBDParams|DBDPersist|DBDPrepareSQL|DBDriver|DefaultIcon|DefaultLanguage|DefaultRuntimeDir|DefaultType|Define|Deflate(?:BufferSize|CompressionLevel|FilterNote|InflateLimitRequestBody|InflateRatio(?:Burst|Limit)|MemLevel|WindowSize)|Deny|DirectoryCheckHandler|DirectoryIndex|DirectoryIndexRedirect|DirectorySlash|DocumentRoot|DTracePrivileges|DumpIOInput|DumpIOOutput|EnableExceptionHook|EnableMMAP|EnableSendfile|Error|ErrorDocument|ErrorLog|ErrorLogFormat|Example|ExpiresActive|ExpiresByType|ExpiresDefault|ExtendedStatus|ExtFilterDefine|ExtFilterOptions|FallbackResource|FileETag|FilterChain|FilterDeclare|FilterProtocol|FilterProvider|FilterTrace|ForceLanguagePriority|ForceType|ForensicLog|GprofDir|GracefulShutdownTimeout|Group|Header|HeaderName|Heartbeat(?:Address|Listen|MaxServers|Storage)|HostnameLookups|IdentityCheck|IdentityCheckTimeout|ImapBase|ImapDefault|ImapMenu|Include|IncludeOptional|Index(?:HeadInsert|Ignore|IgnoreReset|Options|OrderDefault|StyleSheet)|InputSed|ISAPI(?:AppendLogToErrors|AppendLogToQuery|CacheFile|FakeAsync|LogNotSupported|ReadAheadBuffer)|KeepAlive|KeepAliveTimeout|KeptBodySize|LanguagePriority|LDAP(?:CacheEntries|CacheTTL|ConnectionPoolTTL|ConnectionTimeout|LibraryDebug|OpCacheEntries|OpCacheTTL|ReferralHopLimit|Referrals|Retries|RetryDelay|SharedCacheFile|SharedCacheSize|Timeout|TrustedClientCert|TrustedGlobalCert|TrustedMode|VerifyServerCert)|Limit(?:InternalRecursion|Request(?:Body|Fields|FieldSize|Line)|XMLRequestBody)|Listen|ListenBackLog|LoadFile|LoadModule|LogFormat|LogLevel|LogMessage|LuaAuthzProvider|LuaCodeCache|Lua(?:Hook(?:AccessChecker|AuthChecker|CheckUserID|Fixups|InsertFilter|Log|MapToStorage|TranslateName|TypeChecker)|Inherit|InputFilter|MapHandler|OutputFilter|PackageCPath|PackagePath|QuickHandler|Root|Scope)|Max(?:ConnectionsPerChild|KeepAliveRequests|MemFree|RangeOverlaps|RangeReversals|Ranges|RequestWorkers|SpareServers|SpareThreads|Threads)|MergeTrailers|MetaDir|MetaFiles|MetaSuffix|MimeMagicFile|MinSpareServers|MinSpareThreads|MMapFile|ModemStandard|ModMimeUsePathInfo|MultiviewsMatch|Mutex|NameVirtualHost|NoProxy|NWSSLTrustedCerts|NWSSLUpgradeable|Options|Order|OutputSed|PassEnv|PidFile|PrivilegesMode|Protocol|ProtocolEcho|Proxy(?:AddHeaders|BadHeader|Block|Domain|ErrorOverride|ExpressDBMFile|ExpressDBMType|ExpressEnable|FtpDirCharset|FtpEscapeWildcards|FtpListOnWildcard|HTML(?:BufSize|CharsetOut|DocType|Enable|Events|Extended|Fixups|Interp|Links|Meta|StripComments|URLMap)|IOBufferSize|MaxForwards|Pass(?:Inherit|InterpolateEnv|Match|Reverse|ReverseCookieDomain|ReverseCookiePath)?|PreserveHost|ReceiveBufferSize|Remote|RemoteMatch|Requests|SCGIInternalRedirect|SCGISendfile|Set|SourceAddress|Status|Timeout|Via)|ReadmeName|ReceiveBufferSize|Redirect|RedirectMatch|RedirectPermanent|RedirectTemp|ReflectorHeader|RemoteIP(?:Header|InternalProxy|InternalProxyList|ProxiesHeader|TrustedProxy|TrustedProxyList)|RemoveCharset|RemoveEncoding|RemoveHandler|RemoveInputFilter|RemoveLanguage|RemoveOutputFilter|RemoveType|RequestHeader|RequestReadTimeout|Require|Rewrite(?:Base|Cond|Engine|Map|Options|Rule)|RLimitCPU|RLimitMEM|RLimitNPROC|Satisfy|ScoreBoardFile|Script(?:Alias|AliasMatch|InterpreterSource|Log|LogBuffer|LogLength|Sock)?|SecureListen|SeeRequestTail|SendBufferSize|Server(?:Admin|Alias|Limit|Name|Path|Root|Signature|Tokens)|Session(?:Cookie(?:Name|Name2|Remove)|Crypto(?:Cipher|Driver|Passphrase|PassphraseFile)|DBD(?:CookieName|CookieName2|CookieRemove|DeleteLabel|InsertLabel|PerUser|SelectLabel|UpdateLabel)|Env|Exclude|Header|Include|MaxAge)?|SetEnv|SetEnvIf|SetEnvIfExpr|SetEnvIfNoCase|SetHandler|SetInputFilter|SetOutputFilter|SSIEndTag|SSIErrorMsg|SSIETag|SSILastModified|SSILegacyExprParser|SSIStartTag|SSITimeFormat|SSIUndefinedEcho|SSL(?:CACertificateFile|CACertificatePath|CADNRequestFile|CADNRequestPath|CARevocationCheck|CARevocationFile|CARevocationPath|CertificateChainFile|CertificateFile|CertificateKeyFile|CipherSuite|Compression|CryptoDevice|Engine|FIPS|HonorCipherOrder|InsecureRenegotiation|OCSP(?:DefaultResponder|Enable|OverrideResponder|ResponderTimeout|ResponseMaxAge|ResponseTimeSkew|UseRequestNonce)|OpenSSLConfCmd|Options|PassPhraseDialog|Protocol|Proxy(?:CACertificateFile|CACertificatePath|CARevocation(?:Check|File|Path)|CheckPeer(?:CN|Expire|Name)|CipherSuite|Engine|MachineCertificate(?:ChainFile|File|Path)|Protocol|Verify|VerifyDepth)|RandomSeed|RenegBufferSize|Require|RequireSSL|Session(?:Cache|CacheTimeout|TicketKeyFile|Tickets)|SRPUnknownUserSeed|SRPVerifierFile|Stapling(?:Cache|ErrorCacheTimeout|FakeTryLater|ForceURL|ResponderTimeout|ResponseMaxAge|ResponseTimeSkew|ReturnResponderErrors|StandardCacheTimeout)|StrictSNIVHostCheck|UserName|UseStapling|VerifyClient|VerifyDepth)|StartServers|StartThreads|Substitute|Suexec|SuexecUserGroup|ThreadLimit|ThreadsPerChild|ThreadStackSize|TimeOut|TraceEnable|TransferLog|TypesConfig|UnDefine|UndefMacro|UnsetEnv|Use|UseCanonicalName|UseCanonicalPhysicalPort|User|UserDir|VHostCGIMode|VHostCGIPrivs|VHostGroup|VHostPrivs|VHostSecure|VHostUser|Virtual(?:DocumentRoot|ScriptAlias)(?:IP)?|WatchdogInterval|XBitHack|xml2EncAlias|xml2EncDefault|xml2StartParse)\b/im,lookbehind:!0,alias:"property"},"directive-block":{pattern:/<\/?\b(?:Auth[nz]ProviderAlias|Directory|DirectoryMatch|Else|ElseIf|Files|FilesMatch|If|IfDefine|IfModule|IfVersion|Limit|LimitExcept|Location|LocationMatch|Macro|Proxy|Require(?:All|Any|None)|VirtualHost)\b.*>/i,inside:{"directive-block":{pattern:/^<\/?\w+/,inside:{punctuation:/^<\/?/},alias:"tag"},"directive-block-parameter":{pattern:/.*[^>]/,inside:{punctuation:/:/,string:{pattern:/("|').*\1/,inside:{variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/}}},alias:"attr-value"},punctuation:/>/},alias:"tag"},"directive-flags":{pattern:/\[(?:[\w=],?)+\]/,alias:"keyword"},string:{pattern:/("|').*\1/,inside:{variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/}},variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/,regex:/\^?.*\$|\^.*\$?/};
!function(e){function n(e,n){return e.replace(/<<(\d+)>>/g,(function(e,s){return"(?:"+n[+s]+")"}))}function s(e,s,a){return RegExp(n(e,s),a||"")}function a(e,n){for(var s=0;s<n;s++)e=e.replace(/<<self>>/g,(function(){return"(?:"+e+")"}));return e.replace(/<<self>>/g,"[^\\s\\S]")}var t="bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",r="class enum interface record struct",i="add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",o="abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield";function l(e){return"\\b(?:"+e.trim().replace(/ /g,"|")+")\\b"}var d=l(r),p=RegExp(l(t+" "+r+" "+i+" "+o)),c=l(r+" "+i+" "+o),u=l(t+" "+r+" "+o),g=a("<(?:[^<>;=+\\-*/%&|^]|<<self>>)*>",2),b=a("\\((?:[^()]|<<self>>)*\\)",2),h="@?\\b[A-Za-z_]\\w*\\b",f=n("<<0>>(?:\\s*<<1>>)?",[h,g]),m=n("(?!<<0>>)<<1>>(?:\\s*\\.\\s*<<1>>)*",[c,f]),k="\\[\\s*(?:,\\s*)*\\]",y=n("<<0>>(?:\\s*(?:\\?\\s*)?<<1>>)*(?:\\s*\\?)?",[m,k]),w=n("[^,()<>[\\];=+\\-*/%&|^]|<<0>>|<<1>>|<<2>>",[g,b,k]),v=n("\\(<<0>>+(?:,<<0>>+)+\\)",[w]),x=n("(?:<<0>>|<<1>>)(?:\\s*(?:\\?\\s*)?<<2>>)*(?:\\s*\\?)?",[v,m,k]),$={keyword:p,punctuation:/[<>()?,.:[\]]/},_="'(?:[^\r\n'\\\\]|\\\\.|\\\\[Uux][\\da-fA-F]{1,8})'",B='"(?:\\\\.|[^\\\\"\r\n])*"';e.languages.csharp=e.languages.extend("clike",{string:[{pattern:s("(^|[^$\\\\])<<0>>",['@"(?:""|\\\\[^]|[^\\\\"])*"(?!")']),lookbehind:!0,greedy:!0},{pattern:s("(^|[^@$\\\\])<<0>>",[B]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:s("(\\busing\\s+static\\s+)<<0>>(?=\\s*;)",[m]),lookbehind:!0,inside:$},{pattern:s("(\\busing\\s+<<0>>\\s*=\\s*)<<1>>(?=\\s*;)",[h,x]),lookbehind:!0,inside:$},{pattern:s("(\\busing\\s+)<<0>>(?=\\s*=)",[h]),lookbehind:!0},{pattern:s("(\\b<<0>>\\s+)<<1>>",[d,f]),lookbehind:!0,inside:$},{pattern:s("(\\bcatch\\s*\\(\\s*)<<0>>",[m]),lookbehind:!0,inside:$},{pattern:s("(\\bwhere\\s+)<<0>>",[h]),lookbehind:!0},{pattern:s("(\\b(?:is(?:\\s+not)?|as)\\s+)<<0>>",[y]),lookbehind:!0,inside:$},{pattern:s("\\b<<0>>(?=\\s+(?!<<1>>|with\\s*\\{)<<2>>(?:\\s*[=,;:{)\\]]|\\s+(?:in|when)\\b))",[x,u,h]),inside:$}],keyword:p,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),e.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),e.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:s("([(,]\\s*)<<0>>(?=\\s*:)",[h]),lookbehind:!0,alias:"punctuation"}}),e.languages.insertBefore("csharp","class-name",{namespace:{pattern:s("(\\b(?:namespace|using)\\s+)<<0>>(?:\\s*\\.\\s*<<0>>)*(?=\\s*[;{])",[h]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:s("(\\b(?:default|sizeof|typeof)\\s*\\(\\s*(?!\\s))(?:[^()\\s]|\\s(?!\\s)|<<0>>)*(?=\\s*\\))",[b]),lookbehind:!0,alias:"class-name",inside:$},"return-type":{pattern:s("<<0>>(?=\\s+(?:<<1>>\\s*(?:=>|[({]|\\.\\s*this\\s*\\[)|this\\s*\\[))",[x,m]),inside:$,alias:"class-name"},"constructor-invocation":{pattern:s("(\\bnew\\s+)<<0>>(?=\\s*[[({])",[x]),lookbehind:!0,inside:$,alias:"class-name"},"generic-method":{pattern:s("<<0>>\\s*<<1>>(?=\\s*\\()",[h,g]),inside:{function:s("^<<0>>",[h]),generic:{pattern:RegExp(g),alias:"class-name",inside:$}}},"type-list":{pattern:s("\\b((?:<<0>>\\s+<<1>>|record\\s+<<1>>\\s*<<5>>|where\\s+<<2>>)\\s*:\\s*)(?:<<3>>|<<4>>|<<1>>\\s*<<5>>|<<6>>)(?:\\s*,\\s*(?:<<3>>|<<4>>|<<6>>))*(?=\\s*(?:where|[{;]|=>|$))",[d,f,h,x,p.source,b,"\\bnew\\s*\\(\\s*\\)"]),lookbehind:!0,inside:{"record-arguments":{pattern:s("(^(?!new\\s*\\()<<0>>\\s*)<<1>>",[f,b]),lookbehind:!0,greedy:!0,inside:e.languages.csharp},keyword:p,"class-name":{pattern:RegExp(x),greedy:!0,inside:$},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var E=B+"|"+_,R=n("/(?![*/])|//[^\r\n]*[\r\n]|/\\*(?:[^*]|\\*(?!/))*\\*/|<<0>>",[E]),z=a(n("[^\"'/()]|<<0>>|\\(<<self>>*\\)",[R]),2),S="\\b(?:assembly|event|field|method|module|param|property|return|type)\\b",j=n("<<0>>(?:\\s*\\(<<1>>*\\))?",[m,z]);e.languages.insertBefore("csharp","class-name",{attribute:{pattern:s("((?:^|[^\\s\\w>)?])\\s*\\[\\s*)(?:<<0>>\\s*:\\s*)?<<1>>(?:\\s*,\\s*<<1>>)*(?=\\s*\\])",[S,j]),lookbehind:!0,greedy:!0,inside:{target:{pattern:s("^<<0>>(?=\\s*:)",[S]),alias:"keyword"},"attribute-arguments":{pattern:s("\\(<<0>>*\\)",[z]),inside:e.languages.csharp},"class-name":{pattern:RegExp(m),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var A=":[^}\r\n]+",F=a(n("[^\"'/()]|<<0>>|\\(<<self>>*\\)",[R]),2),P=n("\\{(?!\\{)(?:(?![}:])<<0>>)*<<1>>?\\}",[F,A]),U=a(n("[^\"'/()]|/(?!\\*)|/\\*(?:[^*]|\\*(?!/))*\\*/|<<0>>|\\(<<self>>*\\)",[E]),2),Z=n("\\{(?!\\{)(?:(?![}:])<<0>>)*<<1>>?\\}",[U,A]);function q(n,a){return{interpolation:{pattern:s("((?:^|[^{])(?:\\{\\{)*)<<0>>",[n]),lookbehind:!0,inside:{"format-string":{pattern:s("(^\\{(?:(?![}:])<<0>>)*)<<1>>(?=\\}$)",[a,A]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:e.languages.csharp}}},string:/[\s\S]+/}}e.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:s('(^|[^\\\\])(?:\\$@|@\\$)"(?:""|\\\\[^]|\\{\\{|<<0>>|[^\\\\{"])*"',[P]),lookbehind:!0,greedy:!0,inside:q(P,F)},{pattern:s('(^|[^@\\\\])\\$"(?:\\\\.|\\{\\{|<<0>>|[^\\\\"{])*"',[Z]),lookbehind:!0,greedy:!0,inside:q(Z,U)}],char:{pattern:RegExp(_),greedy:!0}}),e.languages.dotnet=e.languages.cs=e.languages.csharp}(Prism);
Prism.languages.aspnet=Prism.languages.extend("markup",{"page-directive":{pattern:/<%\s*@.*%>/,alias:"tag",inside:{"page-directive":{pattern:/<%\s*@\s*(?:Assembly|Control|Implements|Import|Master(?:Type)?|OutputCache|Page|PreviousPageType|Reference|Register)?|%>/i,alias:"tag"},rest:Prism.languages.markup.tag.inside}},directive:{pattern:/<%.*%>/,alias:"tag",inside:{directive:{pattern:/<%\s*?[$=%#:]{0,2}|%>/,alias:"tag"},rest:Prism.languages.csharp}}}),Prism.languages.aspnet.tag.pattern=/<(?!%)\/?[^\s>\/]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/,Prism.languages.insertBefore("inside","punctuation",{directive:Prism.languages.aspnet.directive},Prism.languages.aspnet.tag.inside["attr-value"]),Prism.languages.insertBefore("aspnet","comment",{"asp-comment":{pattern:/<%--[\s\S]*?--%>/,alias:["asp","comment"]}}),Prism.languages.insertBefore("aspnet",Prism.languages.javascript?"script":"tag",{"asp-script":{pattern:/(<script(?=.*runat=['"]?server\b)[^>]*>)[\s\S]*?(?=<\/script>)/i,lookbehind:!0,alias:["asp","script"],inside:Prism.languages.csharp||{}}});
!function(e){var t="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",a={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},n={bash:a,environment:{pattern:RegExp("\\$"+t),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+t),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+t),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:n},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:a}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:n},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:n.entity}}],environment:{pattern:RegExp("\\$?"+t),alias:"constant"},variable:n.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},a.inside=e.languages.bash;for(var s=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],o=n.variable[1].inside,i=0;i<s.length;i++)o[s[i]]=e.languages.bash[s[i]];e.languages.sh=e.languages.bash,e.languages.shell=e.languages.bash}(Prism);
Prism.languages.basic={comment:{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},string:{pattern:/"(?:""|[!#$%&'()*,\/:;<=>?^\w +\-.])*"/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:AS|BEEP|BLOAD|BSAVE|CALL(?: ABSOLUTE)?|CASE|CHAIN|CHDIR|CLEAR|CLOSE|CLS|COM|COMMON|CONST|DATA|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DIM|DO|DOUBLE|ELSE|ELSEIF|END|ENVIRON|ERASE|ERROR|EXIT|FIELD|FILES|FOR|FUNCTION|GET|GOSUB|GOTO|IF|INPUT|INTEGER|IOCTL|KEY|KILL|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|MKDIR|NAME|NEXT|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPTION BASE|OUT|POKE|PUT|READ|REDIM|REM|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SELECT CASE|SHARED|SHELL|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|SUB|SWAP|SYSTEM|THEN|TIMER|TO|TROFF|TRON|TYPE|UNLOCK|UNTIL|USING|VIEW PRINT|WAIT|WEND|WHILE|WRITE)(?:\$|\b)/i,function:/\b(?:ABS|ACCESS|ACOS|ANGLE|AREA|ARITHMETIC|ARRAY|ASIN|ASK|AT|ATN|BASE|BEGIN|BREAK|CAUSE|CEIL|CHR|CLIP|COLLATE|COLOR|CON|COS|COSH|COT|CSC|DATE|DATUM|DEBUG|DECIMAL|DEF|DEG|DEGREES|DELETE|DET|DEVICE|DISPLAY|DOT|ELAPSED|EPS|ERASABLE|EXLINE|EXP|EXTERNAL|EXTYPE|FILETYPE|FIXED|FP|GO|GRAPH|HANDLER|IDN|IMAGE|IN|INT|INTERNAL|IP|IS|KEYED|LBOUND|LCASE|LEFT|LEN|LENGTH|LET|LINE|LINES|LOG|LOG10|LOG2|LTRIM|MARGIN|MAT|MAX|MAXNUM|MID|MIN|MISSING|MOD|NATIVE|NUL|NUMERIC|OF|OPTION|ORD|ORGANIZATION|OUTIN|OUTPUT|PI|POINT|POINTER|POINTS|POS|PRINT|PROGRAM|PROMPT|RAD|RADIANS|RANDOMIZE|RECORD|RECSIZE|RECTYPE|RELATIVE|REMAINDER|REPEAT|REST|RETRY|REWRITE|RIGHT|RND|ROUND|RTRIM|SAME|SEC|SELECT|SEQUENTIAL|SET|SETTER|SGN|SIN|SINH|SIZE|SKIP|SQR|STANDARD|STATUS|STR|STREAM|STYLE|TAB|TAN|TANH|TEMPLATE|TEXT|THERE|TIME|TIMEOUT|TRACE|TRANSFORM|TRUNCATE|UBOUND|UCASE|USE|VAL|VARIABLE|VIEWPORT|WHEN|WINDOW|WITH|ZER|ZONEWIDTH)(?:\$|\b)/i,operator:/<[=>]?|>=?|[+\-*\/^=&]|\b(?:AND|EQV|IMP|NOT|OR|XOR)\b/i,punctuation:/[,;:()]/};
Prism.languages.bnf={string:{pattern:/"[^\r\n"]*"|'[^\r\n']*'/},definition:{pattern:/<[^<>\r\n\t]+>(?=\s*::=)/,alias:["rule","keyword"],inside:{punctuation:/^<|>$/}},rule:{pattern:/<[^<>\r\n\t]+>/,inside:{punctuation:/^<|>$/}},operator:/::=|[|()[\]{}*+?]|\.{3}/},Prism.languages.rbnf=Prism.languages.bnf;
Prism.languages.brainfuck={pointer:{pattern:/<|>/,alias:"keyword"},increment:{pattern:/\+/,alias:"inserted"},decrement:{pattern:/-/,alias:"deleted"},branching:{pattern:/\[|\]/,alias:"important"},operator:/[.,]/,comment:/\S+/};
Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}}),Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Prism.languages.c.boolean;
!function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n="\\b(?!<keyword>)\\w+(?:\\s*\\.\\s*\\w+)*\\b".replace(/<keyword>/g,(function(){return t.source}));e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp("(\\b(?:class|concept|enum|struct|typename)\\s+)(?!<keyword>)\\w+".replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp('(\\b(?:import|module)\\s+)(?:"(?:\\\\(?:\r\n|[^])|[^"\\\\\r\n])*"|<[^<>\r\n]*>|'+"<mod-name>(?:\\s*:\\s*<mod-name>)?|:\\s*<mod-name>".replace(/<mod-name>/g,(function(){return n}))+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(Prism);
Prism.languages.cmake={comment:/#.*/,string:{pattern:/"(?:[^\\"]|\\.)*"/,greedy:!0,inside:{interpolation:{pattern:/\$\{(?:[^{}$]|\$\{[^{}$]*\})*\}/,inside:{punctuation:/\$\{|\}/,variable:/\w+/}}}},variable:/\b(?:CMAKE_\w+|\w+_(?:(?:BINARY|SOURCE)_DIR|DESCRIPTION|HOMEPAGE_URL|ROOT|VERSION(?:_MAJOR|_MINOR|_PATCH|_TWEAK)?)|(?:ANDROID|APPLE|BORLAND|BUILD_SHARED_LIBS|CACHE|CPACK_(?:ABSOLUTE_DESTINATION_FILES|COMPONENT_INCLUDE_TOPLEVEL_DIRECTORY|ERROR_ON_ABSOLUTE_INSTALL_DESTINATION|INCLUDE_TOPLEVEL_DIRECTORY|INSTALL_DEFAULT_DIRECTORY_PERMISSIONS|INSTALL_SCRIPT|PACKAGING_INSTALL_PREFIX|SET_DESTDIR|WARN_ON_ABSOLUTE_INSTALL_DESTINATION)|CTEST_(?:BINARY_DIRECTORY|BUILD_COMMAND|BUILD_NAME|BZR_COMMAND|BZR_UPDATE_OPTIONS|CHANGE_ID|CHECKOUT_COMMAND|CONFIGURATION_TYPE|CONFIGURE_COMMAND|COVERAGE_COMMAND|COVERAGE_EXTRA_FLAGS|CURL_OPTIONS|CUSTOM_(?:COVERAGE_EXCLUDE|ERROR_EXCEPTION|ERROR_MATCH|ERROR_POST_CONTEXT|ERROR_PRE_CONTEXT|MAXIMUM_FAILED_TEST_OUTPUT_SIZE|MAXIMUM_NUMBER_OF_(?:ERRORS|WARNINGS)|MAXIMUM_PASSED_TEST_OUTPUT_SIZE|MEMCHECK_IGNORE|POST_MEMCHECK|POST_TEST|PRE_MEMCHECK|PRE_TEST|TESTS_IGNORE|WARNING_EXCEPTION|WARNING_MATCH)|CVS_CHECKOUT|CVS_COMMAND|CVS_UPDATE_OPTIONS|DROP_LOCATION|DROP_METHOD|DROP_SITE|DROP_SITE_CDASH|DROP_SITE_PASSWORD|DROP_SITE_USER|EXTRA_COVERAGE_GLOB|GIT_COMMAND|GIT_INIT_SUBMODULES|GIT_UPDATE_CUSTOM|GIT_UPDATE_OPTIONS|HG_COMMAND|HG_UPDATE_OPTIONS|LABELS_FOR_SUBPROJECTS|MEMORYCHECK_(?:COMMAND|COMMAND_OPTIONS|SANITIZER_OPTIONS|SUPPRESSIONS_FILE|TYPE)|NIGHTLY_START_TIME|P4_CLIENT|P4_COMMAND|P4_OPTIONS|P4_UPDATE_OPTIONS|RUN_CURRENT_SCRIPT|SCP_COMMAND|SITE|SOURCE_DIRECTORY|SUBMIT_URL|SVN_COMMAND|SVN_OPTIONS|SVN_UPDATE_OPTIONS|TEST_LOAD|TEST_TIMEOUT|TRIGGER_SITE|UPDATE_COMMAND|UPDATE_OPTIONS|UPDATE_VERSION_ONLY|USE_LAUNCHERS)|CYGWIN|ENV|EXECUTABLE_OUTPUT_PATH|GHS-MULTI|IOS|LIBRARY_OUTPUT_PATH|MINGW|MSVC(?:10|11|12|14|60|70|71|80|90|_IDE|_TOOLSET_VERSION|_VERSION)?|MSYS|PROJECT_NAME|UNIX|WIN32|WINCE|WINDOWS_PHONE|WINDOWS_STORE|XCODE))\b/,property:/\b(?:cxx_\w+|(?:ARCHIVE_OUTPUT_(?:DIRECTORY|NAME)|COMPILE_DEFINITIONS|COMPILE_PDB_NAME|COMPILE_PDB_OUTPUT_DIRECTORY|EXCLUDE_FROM_DEFAULT_BUILD|IMPORTED_(?:IMPLIB|LIBNAME|LINK_DEPENDENT_LIBRARIES|LINK_INTERFACE_LANGUAGES|LINK_INTERFACE_LIBRARIES|LINK_INTERFACE_MULTIPLICITY|LOCATION|NO_SONAME|OBJECTS|SONAME)|INTERPROCEDURAL_OPTIMIZATION|LIBRARY_OUTPUT_DIRECTORY|LIBRARY_OUTPUT_NAME|LINK_FLAGS|LINK_INTERFACE_LIBRARIES|LINK_INTERFACE_MULTIPLICITY|LOCATION|MAP_IMPORTED_CONFIG|OSX_ARCHITECTURES|OUTPUT_NAME|PDB_NAME|PDB_OUTPUT_DIRECTORY|RUNTIME_OUTPUT_DIRECTORY|RUNTIME_OUTPUT_NAME|STATIC_LIBRARY_FLAGS|VS_CSHARP|VS_DOTNET_REFERENCEPROP|VS_DOTNET_REFERENCE|VS_GLOBAL_SECTION_POST|VS_GLOBAL_SECTION_PRE|VS_GLOBAL|XCODE_ATTRIBUTE)_\w+|\w+_(?:CLANG_TIDY|COMPILER_LAUNCHER|CPPCHECK|CPPLINT|INCLUDE_WHAT_YOU_USE|OUTPUT_NAME|POSTFIX|VISIBILITY_PRESET)|ABSTRACT|ADDITIONAL_MAKE_CLEAN_FILES|ADVANCED|ALIASED_TARGET|ALLOW_DUPLICATE_CUSTOM_TARGETS|ANDROID_(?:ANT_ADDITIONAL_OPTIONS|API|API_MIN|ARCH|ASSETS_DIRECTORIES|GUI|JAR_DEPENDENCIES|NATIVE_LIB_DEPENDENCIES|NATIVE_LIB_DIRECTORIES|PROCESS_MAX|PROGUARD|PROGUARD_CONFIG_PATH|SECURE_PROPS_PATH|SKIP_ANT_STEP|STL_TYPE)|ARCHIVE_OUTPUT_DIRECTORY|ATTACHED_FILES|ATTACHED_FILES_ON_FAIL|AUTOGEN_(?:BUILD_DIR|ORIGIN_DEPENDS|PARALLEL|SOURCE_GROUP|TARGETS_FOLDER|TARGET_DEPENDS)|AUTOMOC|AUTOMOC_(?:COMPILER_PREDEFINES|DEPEND_FILTERS|EXECUTABLE|MACRO_NAMES|MOC_OPTIONS|SOURCE_GROUP|TARGETS_FOLDER)|AUTORCC|AUTORCC_EXECUTABLE|AUTORCC_OPTIONS|AUTORCC_SOURCE_GROUP|AUTOUIC|AUTOUIC_EXECUTABLE|AUTOUIC_OPTIONS|AUTOUIC_SEARCH_PATHS|BINARY_DIR|BUILDSYSTEM_TARGETS|BUILD_RPATH|BUILD_RPATH_USE_ORIGIN|BUILD_WITH_INSTALL_NAME_DIR|BUILD_WITH_INSTALL_RPATH|BUNDLE|BUNDLE_EXTENSION|CACHE_VARIABLES|CLEAN_NO_CUSTOM|COMMON_LANGUAGE_RUNTIME|COMPATIBLE_INTERFACE_(?:BOOL|NUMBER_MAX|NUMBER_MIN|STRING)|COMPILE_(?:DEFINITIONS|FEATURES|FLAGS|OPTIONS|PDB_NAME|PDB_OUTPUT_DIRECTORY)|COST|CPACK_DESKTOP_SHORTCUTS|CPACK_NEVER_OVERWRITE|CPACK_PERMANENT|CPACK_STARTUP_SHORTCUTS|CPACK_START_MENU_SHORTCUTS|CPACK_WIX_ACL|CROSSCOMPILING_EMULATOR|CUDA_EXTENSIONS|CUDA_PTX_COMPILATION|CUDA_RESOLVE_DEVICE_SYMBOLS|CUDA_SEPARABLE_COMPILATION|CUDA_STANDARD|CUDA_STANDARD_REQUIRED|CXX_EXTENSIONS|CXX_STANDARD|CXX_STANDARD_REQUIRED|C_EXTENSIONS|C_STANDARD|C_STANDARD_REQUIRED|DEBUG_CONFIGURATIONS|DEFINE_SYMBOL|DEFINITIONS|DEPENDS|DEPLOYMENT_ADDITIONAL_FILES|DEPLOYMENT_REMOTE_DIRECTORY|DISABLED|DISABLED_FEATURES|ECLIPSE_EXTRA_CPROJECT_CONTENTS|ECLIPSE_EXTRA_NATURES|ENABLED_FEATURES|ENABLED_LANGUAGES|ENABLE_EXPORTS|ENVIRONMENT|EXCLUDE_FROM_ALL|EXCLUDE_FROM_DEFAULT_BUILD|EXPORT_NAME|EXPORT_PROPERTIES|EXTERNAL_OBJECT|EchoString|FAIL_REGULAR_EXPRESSION|FIND_LIBRARY_USE_LIB32_PATHS|FIND_LIBRARY_USE_LIB64_PATHS|FIND_LIBRARY_USE_LIBX32_PATHS|FIND_LIBRARY_USE_OPENBSD_VERSIONING|FIXTURES_CLEANUP|FIXTURES_REQUIRED|FIXTURES_SETUP|FOLDER|FRAMEWORK|Fortran_FORMAT|Fortran_MODULE_DIRECTORY|GENERATED|GENERATOR_FILE_NAME|GENERATOR_IS_MULTI_CONFIG|GHS_INTEGRITY_APP|GHS_NO_SOURCE_GROUP_FILE|GLOBAL_DEPENDS_DEBUG_MODE|GLOBAL_DEPENDS_NO_CYCLES|GNUtoMS|HAS_CXX|HEADER_FILE_ONLY|HELPSTRING|IMPLICIT_DEPENDS_INCLUDE_TRANSFORM|IMPORTED|IMPORTED_(?:COMMON_LANGUAGE_RUNTIME|CONFIGURATIONS|GLOBAL|IMPLIB|LIBNAME|LINK_DEPENDENT_LIBRARIES|LINK_INTERFACE_(?:LANGUAGES|LIBRARIES|MULTIPLICITY)|LOCATION|NO_SONAME|OBJECTS|SONAME)|IMPORT_PREFIX|IMPORT_SUFFIX|INCLUDE_DIRECTORIES|INCLUDE_REGULAR_EXPRESSION|INSTALL_NAME_DIR|INSTALL_RPATH|INSTALL_RPATH_USE_LINK_PATH|INTERFACE_(?:AUTOUIC_OPTIONS|COMPILE_DEFINITIONS|COMPILE_FEATURES|COMPILE_OPTIONS|INCLUDE_DIRECTORIES|LINK_DEPENDS|LINK_DIRECTORIES|LINK_LIBRARIES|LINK_OPTIONS|POSITION_INDEPENDENT_CODE|SOURCES|SYSTEM_INCLUDE_DIRECTORIES)|INTERPROCEDURAL_OPTIMIZATION|IN_TRY_COMPILE|IOS_INSTALL_COMBINED|JOB_POOLS|JOB_POOL_COMPILE|JOB_POOL_LINK|KEEP_EXTENSION|LABELS|LANGUAGE|LIBRARY_OUTPUT_DIRECTORY|LINKER_LANGUAGE|LINK_(?:DEPENDS|DEPENDS_NO_SHARED|DIRECTORIES|FLAGS|INTERFACE_LIBRARIES|INTERFACE_MULTIPLICITY|LIBRARIES|OPTIONS|SEARCH_END_STATIC|SEARCH_START_STATIC|WHAT_YOU_USE)|LISTFILE_STACK|LOCATION|MACOSX_BUNDLE|MACOSX_BUNDLE_INFO_PLIST|MACOSX_FRAMEWORK_INFO_PLIST|MACOSX_PACKAGE_LOCATION|MACOSX_RPATH|MACROS|MANUALLY_ADDED_DEPENDENCIES|MEASUREMENT|MODIFIED|NAME|NO_SONAME|NO_SYSTEM_FROM_IMPORTED|OBJECT_DEPENDS|OBJECT_OUTPUTS|OSX_ARCHITECTURES|OUTPUT_NAME|PACKAGES_FOUND|PACKAGES_NOT_FOUND|PARENT_DIRECTORY|PASS_REGULAR_EXPRESSION|PDB_NAME|PDB_OUTPUT_DIRECTORY|POSITION_INDEPENDENT_CODE|POST_INSTALL_SCRIPT|PREDEFINED_TARGETS_FOLDER|PREFIX|PRE_INSTALL_SCRIPT|PRIVATE_HEADER|PROCESSORS|PROCESSOR_AFFINITY|PROJECT_LABEL|PUBLIC_HEADER|REPORT_UNDEFINED_PROPERTIES|REQUIRED_FILES|RESOURCE|RESOURCE_LOCK|RULE_LAUNCH_COMPILE|RULE_LAUNCH_CUSTOM|RULE_LAUNCH_LINK|RULE_MESSAGES|RUNTIME_OUTPUT_DIRECTORY|RUN_SERIAL|SKIP_AUTOGEN|SKIP_AUTOMOC|SKIP_AUTORCC|SKIP_AUTOUIC|SKIP_BUILD_RPATH|SKIP_RETURN_CODE|SOURCES|SOURCE_DIR|SOVERSION|STATIC_LIBRARY_FLAGS|STATIC_LIBRARY_OPTIONS|STRINGS|SUBDIRECTORIES|SUFFIX|SYMBOLIC|TARGET_ARCHIVES_MAY_BE_SHARED_LIBS|TARGET_MESSAGES|TARGET_SUPPORTS_SHARED_LIBS|TESTS|TEST_INCLUDE_FILE|TEST_INCLUDE_FILES|TIMEOUT|TIMEOUT_AFTER_MATCH|TYPE|USE_FOLDERS|VALUE|VARIABLES|VERSION|VISIBILITY_INLINES_HIDDEN|VS_(?:CONFIGURATION_TYPE|COPY_TO_OUT_DIR|DEBUGGER_(?:COMMAND|COMMAND_ARGUMENTS|ENVIRONMENT|WORKING_DIRECTORY)|DEPLOYMENT_CONTENT|DEPLOYMENT_LOCATION|DOTNET_REFERENCES|DOTNET_REFERENCES_COPY_LOCAL|INCLUDE_IN_VSIX|IOT_STARTUP_TASK|KEYWORD|RESOURCE_GENERATOR|SCC_AUXPATH|SCC_LOCALPATH|SCC_PROJECTNAME|SCC_PROVIDER|SDK_REFERENCES|SHADER_(?:DISABLE_OPTIMIZATIONS|ENABLE_DEBUG|ENTRYPOINT|FLAGS|MODEL|OBJECT_FILE_NAME|OUTPUT_HEADER_FILE|TYPE|VARIABLE_NAME)|STARTUP_PROJECT|TOOL_OVERRIDE|USER_PROPS|WINRT_COMPONENT|WINRT_EXTENSIONS|WINRT_REFERENCES|XAML_TYPE)|WILL_FAIL|WIN32_EXECUTABLE|WINDOWS_EXPORT_ALL_SYMBOLS|WORKING_DIRECTORY|WRAP_EXCLUDE|XCODE_(?:EMIT_EFFECTIVE_PLATFORM_NAME|EXPLICIT_FILE_TYPE|FILE_ATTRIBUTES|LAST_KNOWN_FILE_TYPE|PRODUCT_TYPE|SCHEME_(?:ADDRESS_SANITIZER|ADDRESS_SANITIZER_USE_AFTER_RETURN|ARGUMENTS|DISABLE_MAIN_THREAD_CHECKER|DYNAMIC_LIBRARY_LOADS|DYNAMIC_LINKER_API_USAGE|ENVIRONMENT|EXECUTABLE|GUARD_MALLOC|MAIN_THREAD_CHECKER_STOP|MALLOC_GUARD_EDGES|MALLOC_SCRIBBLE|MALLOC_STACK|THREAD_SANITIZER(?:_STOP)?|UNDEFINED_BEHAVIOUR_SANITIZER(?:_STOP)?|ZOMBIE_OBJECTS))|XCTEST)\b/,keyword:/\b(?:add_compile_definitions|add_compile_options|add_custom_command|add_custom_target|add_definitions|add_dependencies|add_executable|add_library|add_link_options|add_subdirectory|add_test|aux_source_directory|break|build_command|build_name|cmake_host_system_information|cmake_minimum_required|cmake_parse_arguments|cmake_policy|configure_file|continue|create_test_sourcelist|ctest_build|ctest_configure|ctest_coverage|ctest_empty_binary_directory|ctest_memcheck|ctest_read_custom_files|ctest_run_script|ctest_sleep|ctest_start|ctest_submit|ctest_test|ctest_update|ctest_upload|define_property|else|elseif|enable_language|enable_testing|endforeach|endfunction|endif|endmacro|endwhile|exec_program|execute_process|export|export_library_dependencies|file|find_file|find_library|find_package|find_path|find_program|fltk_wrap_ui|foreach|function|get_cmake_property|get_directory_property|get_filename_component|get_property|get_source_file_property|get_target_property|get_test_property|if|include|include_directories|include_external_msproject|include_guard|include_regular_expression|install|install_files|install_programs|install_targets|link_directories|link_libraries|list|load_cache|load_command|macro|make_directory|mark_as_advanced|math|message|option|output_required_files|project|qt_wrap_cpp|qt_wrap_ui|remove|remove_definitions|return|separate_arguments|set|set_directory_properties|set_property|set_source_files_properties|set_target_properties|set_tests_properties|site_name|source_group|string|subdir_depends|subdirs|target_compile_definitions|target_compile_features|target_compile_options|target_include_directories|target_link_directories|target_link_libraries|target_link_options|target_sources|try_compile|try_run|unset|use_mangled_mesa|utility_source|variable_requires|variable_watch|while|write_file)(?=\s*\()\b/,boolean:/\b(?:FALSE|OFF|ON|TRUE)\b/,namespace:/\b(?:INTERFACE|PRIVATE|PROPERTIES|PUBLIC|SHARED|STATIC|TARGET_OBJECTS)\b/,operator:/\b(?:AND|DEFINED|EQUAL|GREATER|LESS|MATCHES|NOT|OR|STREQUAL|STRGREATER|STRLESS|VERSION_EQUAL|VERSION_GREATER|VERSION_LESS)\b/,inserted:{pattern:/\b\w+::\w+\b/,alias:"class-name"},number:/\b\d+(?:\.\d+)*\b/,function:/\b[a-z_]\w*(?=\s*\()\b/i,punctuation:/[()>}]|\$[<{]/};
!function(e){var t=/#(?!\{).+/,n={pattern:/#\{[^}]+\}/,alias:"variable"};e.languages.coffeescript=e.languages.extend("javascript",{comment:t,string:[{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,inside:{interpolation:n}}],keyword:/\b(?:and|break|by|catch|class|continue|debugger|delete|do|each|else|extend|extends|false|finally|for|if|in|instanceof|is|isnt|let|loop|namespace|new|no|not|null|of|off|on|or|own|return|super|switch|then|this|throw|true|try|typeof|undefined|unless|until|when|while|window|with|yes|yield)\b/,"class-member":{pattern:/@(?!\d)\w+/,alias:"variable"}}),e.languages.insertBefore("coffeescript","comment",{"multiline-comment":{pattern:/###[\s\S]+?###/,alias:"comment"},"block-regex":{pattern:/\/{3}[\s\S]*?\/{3}/,alias:"regex",inside:{comment:t,interpolation:n}}}),e.languages.insertBefore("coffeescript","string",{"inline-javascript":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},script:{pattern:/[\s\S]+/,alias:"language-javascript",inside:e.languages.javascript}}},"multiline-string":[{pattern:/'''[\s\S]*?'''/,greedy:!0,alias:"string"},{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string",inside:{interpolation:n}}]}),e.languages.insertBefore("coffeescript","keyword",{property:/(?!\d)\w+(?=\s*:(?!:))/}),delete e.languages.coffeescript["template-string"],e.languages.coffee=e.languages.coffeescript}(Prism);
!function(e){var n="(?:[ \t]+(?![ \t])(?:<SP_BS>)?|<SP_BS>)".replace(/<SP_BS>/g,(function(){return"\\\\[\r\n](?:\\s|\\\\[\r\n]|#.*(?!.))*(?![\\s#]|\\\\[\r\n])"})),r="\"(?:[^\"\\\\\r\n]|\\\\(?:\r\n|[^]))*\"|'(?:[^'\\\\\r\n]|\\\\(?:\r\n|[^]))*'",t="--[\\w-]+=(?:<STR>|(?![\"'])(?:[^\\s\\\\]|\\\\.)+)".replace(/<STR>/g,(function(){return r})),o={pattern:RegExp(r),greedy:!0},i={pattern:/(^[ \t]*)#.*/m,lookbehind:!0,greedy:!0};function a(e,r){return e=e.replace(/<OPT>/g,(function(){return t})).replace(/<SP>/g,(function(){return n})),RegExp(e,r)}e.languages.docker={instruction:{pattern:/(^[ \t]*)(?:ADD|ARG|CMD|COPY|ENTRYPOINT|ENV|EXPOSE|FROM|HEALTHCHECK|LABEL|MAINTAINER|ONBUILD|RUN|SHELL|STOPSIGNAL|USER|VOLUME|WORKDIR)(?=\s)(?:\\.|[^\r\n\\])*(?:\\$(?:\s|#.*$)*(?![\s#])(?:\\.|[^\r\n\\])*)*/im,lookbehind:!0,greedy:!0,inside:{options:{pattern:a("(^(?:ONBUILD<SP>)?\\w+<SP>)<OPT>(?:<SP><OPT>)*","i"),lookbehind:!0,greedy:!0,inside:{property:{pattern:/(^|\s)--[\w-]+/,lookbehind:!0},string:[o,{pattern:/(=)(?!["'])(?:[^\s\\]|\\.)+/,lookbehind:!0}],operator:/\\$/m,punctuation:/=/}},keyword:[{pattern:a("(^(?:ONBUILD<SP>)?HEALTHCHECK<SP>(?:<OPT><SP>)*)(?:CMD|NONE)\\b","i"),lookbehind:!0,greedy:!0},{pattern:a("(^(?:ONBUILD<SP>)?FROM<SP>(?:<OPT><SP>)*(?!--)[^ \t\\\\]+<SP>)AS","i"),lookbehind:!0,greedy:!0},{pattern:a("(^ONBUILD<SP>)\\w+","i"),lookbehind:!0,greedy:!0},{pattern:/^\w+/,greedy:!0}],comment:i,string:o,variable:/\$(?:\w+|\{[^{}"'\\]*\})/,operator:/\\$/m}},comment:i},e.languages.dockerfile=e.languages.docker}(Prism);
!function(e){e.languages.ruby=e.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),e.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var n={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:e.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete e.languages.ruby.function;var t="(?:"+["([^a-zA-Z0-9\\s{(\\[<=])(?:(?!\\1)[^\\\\]|\\\\[^])*\\1","\\((?:[^()\\\\]|\\\\[^]|\\((?:[^()\\\\]|\\\\[^])*\\))*\\)","\\{(?:[^{}\\\\]|\\\\[^]|\\{(?:[^{}\\\\]|\\\\[^])*\\})*\\}","\\[(?:[^\\[\\]\\\\]|\\\\[^]|\\[(?:[^\\[\\]\\\\]|\\\\[^])*\\])*\\]","<(?:[^<>\\\\]|\\\\[^]|<(?:[^<>\\\\]|\\\\[^])*>)*>"].join("|")+")",i='(?:"(?:\\\\.|[^"\\\\\r\n])*"|(?:\\b[a-zA-Z_]\\w*|[^\\s\0-\\x7F]+)[?!]?|\\$.)';e.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp("%r"+t+"[egimnosux]{0,6}"),greedy:!0,inside:{interpolation:n,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:n,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp("(^|[^:]):"+i),lookbehind:!0,greedy:!0},{pattern:RegExp("([\r\n{(,][ \t]*)"+i+"(?=:(?!:))"),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),e.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp("%[qQiIwWs]?"+t),greedy:!0,inside:{interpolation:n,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:n,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:n,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp("%x"+t),greedy:!0,inside:{interpolation:n,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:n,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete e.languages.ruby.string,e.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),e.languages.rb=e.languages.ruby}(Prism);
!function(e){function n(e,n){return"___"+e.toUpperCase()+n+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(t,a,r,o){if(t.language===a){var c=t.tokenStack=[];t.code=t.code.replace(r,(function(e){if("function"==typeof o&&!o(e))return e;for(var r,i=c.length;-1!==t.code.indexOf(r=n(a,i));)++i;return c[i]=e,r})),t.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(t,a){if(t.language===a&&t.tokenStack){t.grammar=e.languages[a];var r=0,o=Object.keys(t.tokenStack);!function c(i){for(var u=0;u<i.length&&!(r>=o.length);u++){var g=i[u];if("string"==typeof g||g.content&&"string"==typeof g.content){var l=o[r],s=t.tokenStack[l],f="string"==typeof g?g:g.content,p=n(a,l),k=f.indexOf(p);if(k>-1){++r;var m=f.substring(0,k),d=new e.Token(a,e.tokenize(s,t.grammar),"language-"+a,s),h=f.substring(k+p.length),v=[];m&&v.push.apply(v,c([m])),v.push(d),h&&v.push.apply(v,c([h])),"string"==typeof g?i.splice.apply(i,[u,1].concat(v)):g.content=v}}else g.content&&c(g.content)}return i}(t.tokens)}}}})}(Prism);
!function(e){e.languages.erb={delimiter:{pattern:/^(\s*)<%=?|%>(?=\s*$)/,lookbehind:!0,alias:"punctuation"},ruby:{pattern:/\s*\S[\s\S]*/,alias:"language-ruby",inside:e.languages.ruby}},e.hooks.add("before-tokenize",(function(n){e.languages["markup-templating"].buildPlaceholders(n,"erb",/<%=?(?:[^\r\n]|[\r\n](?!=begin)|[\r\n]=begin\s(?:[^\r\n]|[\r\n](?!=end))*[\r\n]=end)+?%>/g)})),e.hooks.add("after-tokenize",(function(n){e.languages["markup-templating"].tokenizePlaceholders(n,"erb")}))}(Prism);
!function(e){for(var t="[^<()\"']|\\((?:<expr>)*\\)|<(?!#--)|<#--(?:[^-]|-(?!->))*--\x3e|\"(?:[^\\\\\"]|\\\\.)*\"|'(?:[^\\\\']|\\\\.)*'",n=0;n<2;n++)t=t.replace(/<expr>/g,(function(){return t}));t=t.replace(/<expr>/g,"[^\\s\\S]");var i={comment:/<#--[\s\S]*?-->/,string:[{pattern:/\br("|')(?:(?!\1)[^\\]|\\.)*\1/,greedy:!0},{pattern:RegExp("(\"|')(?:(?!\\1|\\$\\{)[^\\\\]|\\\\.|\\$\\{(?:(?!\\})(?:<expr>))*\\})*\\1".replace(/<expr>/g,(function(){return t}))),greedy:!0,inside:{interpolation:{pattern:RegExp("((?:^|[^\\\\])(?:\\\\\\\\)*)\\$\\{(?:(?!\\})(?:<expr>))*\\}".replace(/<expr>/g,(function(){return t}))),lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:null}}}}],keyword:/\b(?:as)\b/,boolean:/\b(?:false|true)\b/,"builtin-function":{pattern:/((?:^|[^?])\?\s*)\w+/,lookbehind:!0,alias:"function"},function:/\b\w+(?=\s*\()/,number:/\b\d+(?:\.\d+)?\b/,operator:/\.\.[<*!]?|->|--|\+\+|&&|\|\||\?{1,2}|[-+*/%!=<>]=?|\b(?:gt|gte|lt|lte)\b/,punctuation:/[,;.:()[\]{}]/};i.string[1].inside.interpolation.inside.rest=i,e.languages.ftl={"ftl-comment":{pattern:/^<#--[\s\S]*/,alias:"comment"},"ftl-directive":{pattern:/^<[\s\S]+>$/,inside:{directive:{pattern:/(^<\/?)[#@][a-z]\w*/i,lookbehind:!0,alias:"keyword"},punctuation:/^<\/?|\/?>$/,content:{pattern:/\s*\S[\s\S]*/,alias:"ftl",inside:i}}},"ftl-interpolation":{pattern:/^\$\{[\s\S]*\}$/,inside:{punctuation:/^\$\{|\}$/,content:{pattern:/\s*\S[\s\S]*/,alias:"ftl",inside:i}}}},e.hooks.add("before-tokenize",(function(n){var i=RegExp("<#--[^]*?--\x3e|</?[#@][a-zA-Z](?:<expr>)*?>|\\$\\{(?:<expr>)*?\\}".replace(/<expr>/g,(function(){return t})),"gi");e.languages["markup-templating"].buildPlaceholders(n,"ftl",i)})),e.hooks.add("after-tokenize",(function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"ftl")}))}(Prism);
Prism.languages.go=Prism.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/}),Prism.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}}),delete Prism.languages.go["class-name"];
Prism.languages["go-mod"]=Prism.languages["go-module"]={comment:{pattern:/\/\/.*/,greedy:!0},version:{pattern:/(^|[\s()[\],])v\d+\.\d+\.\d+(?:[+-][-+.\w]*)?(?![^\s()[\],])/,lookbehind:!0,alias:"number"},"go-version":{pattern:/((?:^|\s)go\s+)\d+(?:\.\d+){1,2}/,lookbehind:!0,alias:"number"},keyword:{pattern:/^([ \t]*)(?:exclude|go|module|replace|require|retract)\b/m,lookbehind:!0},operator:/=>/,punctuation:/[()[\],]/};
!function(e){var n={pattern:/((?:^|[^\\$])(?:\\{2})*)\$(?:\w+|\{[^{}]*\})/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}};e.languages.gradle=e.languages.extend("clike",{string:{pattern:/'''(?:[^\\]|\\[\s\S])*?'''|'(?:\\.|[^\\'\r\n])*'/,greedy:!0},keyword:/\b(?:apply|def|dependencies|else|if|implementation|import|plugin|plugins|project|repositories|repository|sourceSets|tasks|val)\b/,number:/\b(?:0b[01_]+|0x[\da-f_]+(?:\.[\da-f_p\-]+)?|[\d_]+(?:\.[\d_]+)?(?:e[+-]?\d+)?)[glidf]?\b/i,operator:{pattern:/(^|[^.])(?:~|==?~?|\?[.:]?|\*(?:[.=]|\*=?)?|\.[@&]|\.\.<|\.\.(?!\.)|-[-=>]?|\+[+=]?|!=?|<(?:<=?|=>?)?|>(?:>>?=?|=)?|&[&=]?|\|[|=]?|\/=?|\^=?|%=?)/,lookbehind:!0},punctuation:/\.+|[{}[\];(),:$]/}),e.languages.insertBefore("gradle","string",{shebang:{pattern:/#!.+/,alias:"comment",greedy:!0},"interpolation-string":{pattern:/"""(?:[^\\]|\\[\s\S])*?"""|(["/])(?:\\.|(?!\1)[^\\\r\n])*\1|\$\/(?:[^/$]|\$(?:[/$]|(?![/$]))|\/(?!\$))*\/\$/,greedy:!0,inside:{interpolation:n,string:/[\s\S]+/}}}),e.languages.insertBefore("gradle","punctuation",{"spock-block":/\b(?:and|cleanup|expect|given|setup|then|when|where):/}),e.languages.insertBefore("gradle","function",{annotation:{pattern:/(^|[^.])@\w+/,lookbehind:!0,alias:"punctuation"}}),n.inside.expression.inside=e.languages.gradle}(Prism);
!function(e){var n={pattern:/((?:^|[^\\$])(?:\\{2})*)\$(?:\w+|\{[^{}]*\})/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}};e.languages.groovy=e.languages.extend("clike",{string:{pattern:/'''(?:[^\\]|\\[\s\S])*?'''|'(?:\\.|[^\\'\r\n])*'/,greedy:!0},keyword:/\b(?:abstract|as|assert|boolean|break|byte|case|catch|char|class|const|continue|def|default|do|double|else|enum|extends|final|finally|float|for|goto|if|implements|import|in|instanceof|int|interface|long|native|new|package|private|protected|public|return|short|static|strictfp|super|switch|synchronized|this|throw|throws|trait|transient|try|void|volatile|while)\b/,number:/\b(?:0b[01_]+|0x[\da-f_]+(?:\.[\da-f_p\-]+)?|[\d_]+(?:\.[\d_]+)?(?:e[+-]?\d+)?)[glidf]?\b/i,operator:{pattern:/(^|[^.])(?:~|==?~?|\?[.:]?|\*(?:[.=]|\*=?)?|\.[@&]|\.\.<|\.\.(?!\.)|-[-=>]?|\+[+=]?|!=?|<(?:<=?|=>?)?|>(?:>>?=?|=)?|&[&=]?|\|[|=]?|\/=?|\^=?|%=?)/,lookbehind:!0},punctuation:/\.+|[{}[\];(),:$]/}),e.languages.insertBefore("groovy","string",{shebang:{pattern:/#!.+/,alias:"comment",greedy:!0},"interpolation-string":{pattern:/"""(?:[^\\]|\\[\s\S])*?"""|(["/])(?:\\.|(?!\1)[^\\\r\n])*\1|\$\/(?:[^/$]|\$(?:[/$]|(?![/$]))|\/(?!\$))*\/\$/,greedy:!0,inside:{interpolation:n,string:/[\s\S]+/}}}),e.languages.insertBefore("groovy","punctuation",{"spock-block":/\b(?:and|cleanup|expect|given|setup|then|when|where):/}),e.languages.insertBefore("groovy","function",{annotation:{pattern:/(^|[^.])@\w+/,lookbehind:!0,alias:"punctuation"}}),n.inside.expression.inside=e.languages.groovy}(Prism);
!function(n){n.languages.haml={"multiline-comment":{pattern:/((?:^|\r?\n|\r)([\t ]*))(?:\/|-#).*(?:(?:\r?\n|\r)\2[\t ].+)*/,lookbehind:!0,alias:"comment"},"multiline-code":[{pattern:/((?:^|\r?\n|\r)([\t ]*)(?:[~-]|[&!]?=)).*,[\t ]*(?:(?:\r?\n|\r)\2[\t ].*,[\t ]*)*(?:(?:\r?\n|\r)\2[\t ].+)/,lookbehind:!0,inside:n.languages.ruby},{pattern:/((?:^|\r?\n|\r)([\t ]*)(?:[~-]|[&!]?=)).*\|[\t ]*(?:(?:\r?\n|\r)\2[\t ].*\|[\t ]*)*/,lookbehind:!0,inside:n.languages.ruby}],filter:{pattern:/((?:^|\r?\n|\r)([\t ]*)):[\w-]+(?:(?:\r?\n|\r)(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/,lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"symbol"}}},markup:{pattern:/((?:^|\r?\n|\r)[\t ]*)<.+/,lookbehind:!0,inside:n.languages.markup},doctype:{pattern:/((?:^|\r?\n|\r)[\t ]*)!!!(?: .+)?/,lookbehind:!0},tag:{pattern:/((?:^|\r?\n|\r)[\t ]*)[%.#][\w\-#.]*[\w\-](?:\([^)]+\)|\{(?:\{[^}]+\}|[^{}])+\}|\[[^\]]+\])*[\/<>]*/,lookbehind:!0,inside:{attributes:[{pattern:/(^|[^#])\{(?:\{[^}]+\}|[^{}])+\}/,lookbehind:!0,inside:n.languages.ruby},{pattern:/\([^)]+\)/,inside:{"attr-value":{pattern:/(=\s*)(?:"(?:\\.|[^\\"\r\n])*"|[^)\s]+)/,lookbehind:!0},"attr-name":/[\w:-]+(?=\s*!?=|\s*[,)])/,punctuation:/[=(),]/}},{pattern:/\[[^\]]+\]/,inside:n.languages.ruby}],punctuation:/[<>]/}},code:{pattern:/((?:^|\r?\n|\r)[\t ]*(?:[~-]|[&!]?=)).+/,lookbehind:!0,inside:n.languages.ruby},interpolation:{pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"},ruby:{pattern:/[\s\S]+/,inside:n.languages.ruby}}},punctuation:{pattern:/((?:^|\r?\n|\r)[\t ]*)[~=\-&!]+/,lookbehind:!0}};for(var e=["css",{filter:"coffee",language:"coffeescript"},"erb","javascript","less","markdown","ruby","scss","textile"],t={},r=0,a=e.length;r<a;r++){var i=e[r];i="string"==typeof i?{filter:i,language:i}:i,n.languages[i.language]&&(t["filter-"+i.filter]={pattern:RegExp("((?:^|\\r?\\n|\\r)([\\t ]*)):{{filter_name}}(?:(?:\\r?\\n|\\r)(?:\\2[\\t ].+|\\s*?(?=\\r?\\n|\\r)))+".replace("{{filter_name}}",(function(){return i.filter}))),lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"symbol"},text:{pattern:/[\s\S]+/,alias:[i.language,"language-"+i.language],inside:n.languages[i.language]}}})}n.languages.insertBefore("haml","filter",t)}(Prism);
Prism.languages.haskell={comment:{pattern:/(^|[^-!#$%*+=?&@|~.:<>^\\\/])(?:--(?:(?=.)[^-!#$%*+=?&@|~.:<>^\\\/].*|$)|\{-[\s\S]*?-\})/m,lookbehind:!0},char:{pattern:/'(?:[^\\']|\\(?:[abfnrtv\\"'&]|\^[A-Z@[\]^_]|ACK|BEL|BS|CAN|CR|DC1|DC2|DC3|DC4|DEL|DLE|EM|ENQ|EOT|ESC|ETB|ETX|FF|FS|GS|HT|LF|NAK|NUL|RS|SI|SO|SOH|SP|STX|SUB|SYN|US|VT|\d+|o[0-7]+|x[0-9a-fA-F]+))'/,alias:"string"},string:{pattern:/"(?:[^\\"]|\\(?:\S|\s+\\))*"/,greedy:!0},keyword:/\b(?:case|class|data|deriving|do|else|if|in|infixl|infixr|instance|let|module|newtype|of|primitive|then|type|where)\b/,"import-statement":{pattern:/(^[\t ]*)import\s+(?:qualified\s+)?(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*(?:\s+as\s+(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*)?(?:\s+hiding\b)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|hiding|import|qualified)\b/,punctuation:/\./}},builtin:/\b(?:abs|acos|acosh|all|and|any|appendFile|approxRational|asTypeOf|asin|asinh|atan|atan2|atanh|basicIORun|break|catch|ceiling|chr|compare|concat|concatMap|const|cos|cosh|curry|cycle|decodeFloat|denominator|digitToInt|div|divMod|drop|dropWhile|either|elem|encodeFloat|enumFrom|enumFromThen|enumFromThenTo|enumFromTo|error|even|exp|exponent|fail|filter|flip|floatDigits|floatRadix|floatRange|floor|fmap|foldl|foldl1|foldr|foldr1|fromDouble|fromEnum|fromInt|fromInteger|fromIntegral|fromRational|fst|gcd|getChar|getContents|getLine|group|head|id|inRange|index|init|intToDigit|interact|ioError|isAlpha|isAlphaNum|isAscii|isControl|isDenormalized|isDigit|isHexDigit|isIEEE|isInfinite|isLower|isNaN|isNegativeZero|isOctDigit|isPrint|isSpace|isUpper|iterate|last|lcm|length|lex|lexDigits|lexLitChar|lines|log|logBase|lookup|map|mapM|mapM_|max|maxBound|maximum|maybe|min|minBound|minimum|mod|negate|not|notElem|null|numerator|odd|or|ord|otherwise|pack|pi|pred|primExitWith|print|product|properFraction|putChar|putStr|putStrLn|quot|quotRem|range|rangeSize|read|readDec|readFile|readFloat|readHex|readIO|readInt|readList|readLitChar|readLn|readOct|readParen|readSigned|reads|readsPrec|realToFrac|recip|rem|repeat|replicate|return|reverse|round|scaleFloat|scanl|scanl1|scanr|scanr1|seq|sequence|sequence_|show|showChar|showInt|showList|showLitChar|showParen|showSigned|showString|shows|showsPrec|significand|signum|sin|sinh|snd|sort|span|splitAt|sqrt|subtract|succ|sum|tail|take|takeWhile|tan|tanh|threadToIOResult|toEnum|toInt|toInteger|toLower|toRational|toUpper|truncate|uncurry|undefined|unlines|until|unwords|unzip|unzip3|userError|words|writeFile|zip|zip3|zipWith|zipWith3)\b/,number:/\b(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|0o[0-7]+|0x[0-9a-f]+)\b/i,operator:[{pattern:/`(?:[A-Z][\w']*\.)*[_a-z][\w']*`/,greedy:!0},{pattern:/(\s)\.(?=\s)/,lookbehind:!0},/[-!#$%*+=?&@|~:<>^\\\/][-!#$%*+=?&@|~.:<>^\\\/]*|\.[-!#$%*+=?&@|~.:<>^\\\/]+/],hvariable:{pattern:/\b(?:[A-Z][\w']*\.)*[_a-z][\w']*/,inside:{punctuation:/\./}},constant:{pattern:/\b(?:[A-Z][\w']*\.)*[A-Z][\w']*/,inside:{punctuation:/\./}},punctuation:/[{}[\];(),.:]/},Prism.languages.hs=Prism.languages.haskell;
!function(t){function a(t){return RegExp("(^(?:"+t+"):[ \t]*(?![ \t]))[^]+","i")}t.languages.http={"request-line":{pattern:/^(?:CONNECT|DELETE|GET|HEAD|OPTIONS|PATCH|POST|PRI|PUT|SEARCH|TRACE)\s(?:https?:\/\/|\/)\S*\sHTTP\/[\d.]+/m,inside:{method:{pattern:/^[A-Z]+\b/,alias:"property"},"request-target":{pattern:/^(\s)(?:https?:\/\/|\/)\S*(?=\s)/,lookbehind:!0,alias:"url",inside:t.languages.uri},"http-version":{pattern:/^(\s)HTTP\/[\d.]+/,lookbehind:!0,alias:"property"}}},"response-status":{pattern:/^HTTP\/[\d.]+ \d+ .+/m,inside:{"http-version":{pattern:/^HTTP\/[\d.]+/,alias:"property"},"status-code":{pattern:/^(\s)\d+(?=\s)/,lookbehind:!0,alias:"number"},"reason-phrase":{pattern:/^(\s).+/,lookbehind:!0,alias:"string"}}},header:{pattern:/^[\w-]+:.+(?:(?:\r\n?|\n)[ \t].+)*/m,inside:{"header-value":[{pattern:a("Content-Security-Policy"),lookbehind:!0,alias:["csp","languages-csp"],inside:t.languages.csp},{pattern:a("Public-Key-Pins(?:-Report-Only)?"),lookbehind:!0,alias:["hpkp","languages-hpkp"],inside:t.languages.hpkp},{pattern:a("Strict-Transport-Security"),lookbehind:!0,alias:["hsts","languages-hsts"],inside:t.languages.hsts},{pattern:a("[^:]+"),lookbehind:!0}],"header-name":{pattern:/^[^:]+/,alias:"keyword"},punctuation:/^:/}}};var e,n=t.languages,s={"application/javascript":n.javascript,"application/json":n.json||n.javascript,"application/xml":n.xml,"text/xml":n.xml,"text/html":n.html,"text/css":n.css,"text/plain":n.plain},i={"application/json":!0,"application/xml":!0};function r(t){var a=t.replace(/^[a-z]+\//,"");return"(?:"+t+"|\\w+/(?:[\\w.-]+\\+)+"+a+"(?![+\\w.-]))"}for(var p in s)if(s[p]){e=e||{};var l=i[p]?r(p):p;e[p.replace(/\//g,"-")]={pattern:RegExp("(content-type:\\s*"+l+"(?:(?:\r\n?|\n)[\\w-].*)*(?:\r(?:\n|(?!\n))|\n))[^ \t\\w-][^]*","i"),lookbehind:!0,inside:s[p]}}e&&t.languages.insertBefore("http","header",e)}(Prism);
Prism.languages.hpkp={directive:{pattern:/\b(?:includeSubDomains|max-age|pin-sha256|preload|report-to|report-uri|strict)(?=[\s;=]|$)/i,alias:"property"},operator:/=/,punctuation:/;/};
Prism.languages.hsts={directive:{pattern:/\b(?:includeSubDomains|max-age|preload)(?=[\s;=]|$)/i,alias:"property"},operator:/=/,punctuation:/;/};
Prism.languages.ini={comment:{pattern:/(^[ \f\t\v]*)[#;][^\n\r]*/m,lookbehind:!0},section:{pattern:/(^[ \f\t\v]*)\[[^\n\r\]]*\]?/m,lookbehind:!0,inside:{"section-name":{pattern:/(^\[[ \f\t\v]*)[^ \f\t\v\]]+(?:[ \f\t\v]+[^ \f\t\v\]]+)*/,lookbehind:!0,alias:"selector"},punctuation:/\[|\]/}},key:{pattern:/(^[ \f\t\v]*)[^ \f\n\r\t\v=]+(?:[ \f\t\v]+[^ \f\n\r\t\v=]+)*(?=[ \f\t\v]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/(=[ \f\t\v]*)[^ \f\n\r\t\v]+(?:[ \f\t\v]+[^ \f\n\r\t\v]+)*/,lookbehind:!0,alias:"attr-value",inside:{"inner-value":{pattern:/^("|').+(?=\1$)/,lookbehind:!0}}},punctuation:/=/};
!function(e){var n=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,t="(?:[a-z]\\w*\\s*\\.\\s*)*(?:[A-Z]\\w*\\s*\\.\\s*)*",s={pattern:RegExp("(^|[^\\w.])"+t+"[A-Z](?:[\\d_A-Z]*[a-z]\\w*)?\\b"),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[s,{pattern:RegExp("(^|[^\\w.])"+t+"[A-Z]\\w*(?=\\s+\\w+\\s*[;,=()]|\\s*(?:\\[[\\s,]*\\]\\s*)?::\\s*new\\b)"),lookbehind:!0,inside:s.inside},{pattern:RegExp("(\\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\\s+)"+t+"[A-Z]\\w*\\b"),lookbehind:!0,inside:s.inside}],keyword:n,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":s,keyword:n,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp("(\\bimport\\s+)"+t+"(?:[A-Z]\\w*|\\*)(?=\\s*;)"),lookbehind:!0,inside:{namespace:s.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp("(\\bimport\\s+static\\s+)"+t+"(?:\\w+|\\*)(?=\\s*;)"),lookbehind:!0,alias:"static",inside:{namespace:s.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp("(\\b(?:exports|import(?:\\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\\s+)(?!<keyword>)[a-z]\\w*(?:\\.[a-z]\\w*)*\\.?".replace(/<keyword>/g,(function(){return n.source}))),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism);
!function(e){var a=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,t=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],i=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,n=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,s=/[{}\[\](),:;]/;e.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:a,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:t,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:i,operator:n,punctuation:s};var l={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:e.languages.php},r=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:l}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:l}}];e.languages.insertBefore("php","variable",{string:r,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:a,string:r,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:t,number:i,operator:n,punctuation:s}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),e.hooks.add("before-tokenize",(function(a){/<\?/.test(a.code)&&e.languages["markup-templating"].buildPlaceholders(a,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g)})),e.hooks.add("after-tokenize",(function(a){e.languages["markup-templating"].tokenizePlaceholders(a,"php")}))}(Prism);
!function(a){var e=a.languages.javadoclike={parameter:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*@(?:arg|arguments|param)\s+)\w+/m,lookbehind:!0},keyword:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*|\{)@[a-z][a-zA-Z-]+\b/m,lookbehind:!0},punctuation:/[{}]/};Object.defineProperty(e,"addSupport",{value:function(e,n){"string"==typeof e&&(e=[e]),e.forEach((function(e){!function(e,n){var t="doc-comment",r=a.languages[e];if(r){var o=r[t];if(o||(o=(r=a.languages.insertBefore(e,"comment",{"doc-comment":{pattern:/(^|[^\\])\/\*\*[^/][\s\S]*?(?:\*\/|$)/,lookbehind:!0,alias:"comment"}}))[t]),o instanceof RegExp&&(o=r[t]={pattern:o}),Array.isArray(o))for(var i=0,s=o.length;i<s;i++)o[i]instanceof RegExp&&(o[i]={pattern:o[i]}),n(o[i]);else n(o)}}(e,(function(a){a.inside||(a.inside={}),a.inside.rest=n}))}))}}),e.addSupport(["java","javascript","php"],e)}(Prism);
!function(a){var e=/(^(?:[\t ]*(?:\*\s*)*))[^*\s].*$/m,n="(?:\\b[a-zA-Z]\\w+\\s*\\.\\s*)*\\b[A-Z]\\w*(?:\\s*<mem>)?|<mem>".replace(/<mem>/g,(function(){return"#\\s*\\w+(?:\\s*\\([^()]*\\))?"}));a.languages.javadoc=a.languages.extend("javadoclike",{}),a.languages.insertBefore("javadoc","keyword",{reference:{pattern:RegExp("(@(?:exception|link|linkplain|see|throws|value)\\s+(?:\\*\\s*)?)(?:"+n+")"),lookbehind:!0,inside:{function:{pattern:/(#\s*)\w+(?=\s*\()/,lookbehind:!0},field:{pattern:/(#\s*)\w+/,lookbehind:!0},namespace:{pattern:/\b(?:[a-z]\w*\s*\.\s*)+/,inside:{punctuation:/\./}},"class-name":/\b[A-Z]\w*/,keyword:a.languages.java.keyword,punctuation:/[#()[\],.]/}},"class-name":{pattern:/(@param\s+)<[A-Z]\w*>/,lookbehind:!0,inside:{punctuation:/[.<>]/}},"code-section":[{pattern:/(\{@code\s+(?!\s))(?:[^\s{}]|\s+(?![\s}])|\{(?:[^{}]|\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\})*\})+(?=\s*\})/,lookbehind:!0,inside:{code:{pattern:e,lookbehind:!0,inside:a.languages.java,alias:"language-java"}}},{pattern:/(<(code|pre|tt)>(?!<code>)\s*)\S(?:\S|\s+\S)*?(?=\s*<\/\2>)/,lookbehind:!0,inside:{line:{pattern:e,lookbehind:!0,inside:{tag:a.languages.markup.tag,entity:a.languages.markup.entity,code:{pattern:/.+/,inside:a.languages.java,alias:"language-java"}}}}}],tag:a.languages.markup.tag,entity:a.languages.markup.entity}),a.languages.javadoclike.addSupport("java",a.languages.javadoc)}(Prism);
Prism.languages.javastacktrace={summary:{pattern:/^([\t ]*)(?:(?:Caused by:|Suppressed:|Exception in thread "[^"]*")[\t ]+)?[\w$.]+(?::.*)?$/m,lookbehind:!0,inside:{keyword:{pattern:/^([\t ]*)(?:(?:Caused by|Suppressed)(?=:)|Exception in thread)/m,lookbehind:!0},string:{pattern:/^(\s*)"[^"]*"/,lookbehind:!0},exceptions:{pattern:/^(:?\s*)[\w$.]+(?=:|$)/,lookbehind:!0,inside:{"class-name":/[\w$]+$/,namespace:/\b[a-z]\w*\b/,punctuation:/\./}},message:{pattern:/(:\s*)\S.*/,lookbehind:!0,alias:"string"},punctuation:/:/}},"stack-frame":{pattern:/^([\t ]*)at (?:[\w$./]|@[\w$.+-]*\/)+(?:<init>)?\([^()]*\)/m,lookbehind:!0,inside:{keyword:{pattern:/^(\s*)at(?= )/,lookbehind:!0},source:[{pattern:/(\()\w+\.\w+:\d+(?=\))/,lookbehind:!0,inside:{file:/^\w+\.\w+/,punctuation:/:/,"line-number":{pattern:/\b\d+\b/,alias:"number"}}},{pattern:/(\()[^()]*(?=\))/,lookbehind:!0,inside:{keyword:/^(?:Native Method|Unknown Source)$/}}],"class-name":/[\w$]+(?=\.(?:<init>|[\w$]+)\()/,function:/(?:<init>|[\w$]+)(?=\()/,"class-loader":{pattern:/(\s)[a-z]\w*(?:\.[a-z]\w*)*(?=\/[\w@$.]*\/)/,lookbehind:!0,alias:"namespace",inside:{punctuation:/\./}},module:{pattern:/([\s/])[a-z]\w*(?:\.[a-z]\w*)*(?:@[\w$.+-]*)?(?=\/)/,lookbehind:!0,inside:{version:{pattern:/(@)[\s\S]+/,lookbehind:!0,alias:"number"},punctuation:/[@.]/}},namespace:{pattern:/(?:\b[a-z]\w*\.)+/,inside:{punctuation:/\./}},punctuation:/[()/.]/}},more:{pattern:/^([\t ]*)\.{3} \d+ [a-z]+(?: [a-z]+)*/m,lookbehind:!0,inside:{punctuation:/\.{3}/,number:/\d+/,keyword:/\b[a-z]+(?: [a-z]+)*\b/}}};
Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},Prism.languages.webmanifest=Prism.languages.json;
!function(n){var e=/("|')(?:\\(?:\r\n?|\n|.)|(?!\1)[^\\\r\n])*\1/;n.languages.json5=n.languages.extend("json",{property:[{pattern:RegExp(e.source+"(?=\\s*:)"),greedy:!0},{pattern:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/,alias:"unquoted"}],string:{pattern:e,greedy:!0},number:/[+-]?\b(?:NaN|Infinity|0x[a-fA-F\d]+)\b|[+-]?(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+\b)?/})}(Prism);
Prism.languages.jsonp=Prism.languages.extend("json",{punctuation:/[{}[\]();,.]/}),Prism.languages.insertBefore("jsonp","punctuation",{function:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*\()/});
Prism.languages.jsstacktrace={"error-message":{pattern:/^\S.*/m,alias:"string"},"stack-frame":{pattern:/(^[ \t]+)at[ \t].*/m,lookbehind:!0,inside:{"not-my-code":{pattern:/^at[ \t]+(?!\s)(?:node\.js|<unknown>|.*(?:node_modules|\(<anonymous>\)|\(<unknown>|<anonymous>$|\(internal\/|\(node\.js)).*/m,alias:"comment"},filename:{pattern:/(\bat\s+(?!\s)|\()(?:[a-zA-Z]:)?[^():]+(?=:)/,lookbehind:!0,alias:"url"},function:{pattern:/(\bat\s+(?:new\s+)?)(?!\s)[_$a-zA-Z\xA0-\uFFFF<][.$\w\xA0-\uFFFF<>]*/,lookbehind:!0,inside:{punctuation:/\./}},punctuation:/[()]/,keyword:/\b(?:at|new)\b/,alias:{pattern:/\[(?:as\s+)?(?!\s)[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\]/,alias:"variable"},"line-number":{pattern:/:\d+(?::\d+)?\b/,alias:"number",inside:{punctuation:/:/}}}}};
!function(e){var t=e.languages.javascript["template-string"],n=t.pattern.source,r=t.inside.interpolation,a=r.inside["interpolation-punctuation"],i=r.pattern.source;function o(t,r){if(e.languages[t])return{pattern:RegExp("((?:"+r+")\\s*)"+n),lookbehind:!0,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},"embedded-code":{pattern:/[\s\S]+/,alias:t}}}}function s(e,t){return"___"+t.toUpperCase()+"_"+e+"___"}function p(t,n,r){var a={code:t,grammar:n,language:r};return e.hooks.run("before-tokenize",a),a.tokens=e.tokenize(a.code,a.grammar),e.hooks.run("after-tokenize",a),a.tokens}function l(t){var n={};n["interpolation-punctuation"]=a;var i=e.tokenize(t,n);if(3===i.length){var o=[1,1];o.push.apply(o,p(i[1],e.languages.javascript,"javascript")),i.splice.apply(i,o)}return new e.Token("interpolation",i,r.alias,t)}function g(t,n,r){var a=e.tokenize(t,{interpolation:{pattern:RegExp(i),lookbehind:!0}}),o=0,g={},u=p(a.map((function(e){if("string"==typeof e)return e;for(var n,a=e.content;-1!==t.indexOf(n=s(o++,r)););return g[n]=a,n})).join(""),n,r),c=Object.keys(g);return o=0,function e(t){for(var n=0;n<t.length;n++){if(o>=c.length)return;var r=t[n];if("string"==typeof r||"string"==typeof r.content){var a=c[o],i="string"==typeof r?r:r.content,s=i.indexOf(a);if(-1!==s){++o;var p=i.substring(0,s),u=l(g[a]),f=i.substring(s+a.length),y=[];if(p&&y.push(p),y.push(u),f){var v=[f];e(v),y.push.apply(y,v)}"string"==typeof r?(t.splice.apply(t,[n,1].concat(y)),n+=y.length-1):r.content=y}}else{var d=r.content;Array.isArray(d)?e(d):e([d])}}}(u),new e.Token(r,u,"language-"+r,t)}e.languages.javascript["template-string"]=[o("css","\\b(?:styled(?:\\([^)]*\\))?(?:\\s*\\.\\s*\\w+(?:\\([^)]*\\))*)*|css(?:\\s*\\.\\s*(?:global|resolve))?|createGlobalStyle|keyframes)"),o("html","\\bhtml|\\.\\s*(?:inner|outer)HTML\\s*\\+?="),o("svg","\\bsvg"),o("markdown","\\b(?:markdown|md)"),o("graphql","\\b(?:gql|graphql(?:\\s*\\.\\s*experimental)?)"),o("sql","\\bsql"),t].filter(Boolean);var u={javascript:!0,js:!0,typescript:!0,ts:!0,jsx:!0,tsx:!0};function c(e){return"string"==typeof e?e:Array.isArray(e)?e.map(c).join(""):c(e.content)}e.hooks.add("after-tokenize",(function(t){t.language in u&&function t(n){for(var r=0,a=n.length;r<a;r++){var i=n[r];if("string"!=typeof i){var o=i.content;if(Array.isArray(o))if("template-string"===i.type){var s=o[1];if(3===o.length&&"string"!=typeof s&&"embedded-code"===s.type){var p=c(s),l=s.alias,u=Array.isArray(l)?l[0]:l,f=e.languages[u];if(!f)continue;o[1]=g(p,f,u)}}else t(o);else"string"!=typeof o&&t([o])}}}(t.tokens)}))}(Prism);
!function(n){n.languages.kotlin=n.languages.extend("clike",{keyword:{pattern:/(^|[^.])\b(?:abstract|actual|annotation|as|break|by|catch|class|companion|const|constructor|continue|crossinline|data|do|dynamic|else|enum|expect|external|final|finally|for|fun|get|if|import|in|infix|init|inline|inner|interface|internal|is|lateinit|noinline|null|object|open|operator|out|override|package|private|protected|public|reified|return|sealed|set|super|suspend|tailrec|this|throw|to|try|typealias|val|var|vararg|when|where|while)\b/,lookbehind:!0},function:[{pattern:/(?:`[^\r\n`]+`|\b\w+)(?=\s*\()/,greedy:!0},{pattern:/(\.)(?:`[^\r\n`]+`|\w+)(?=\s*\{)/,lookbehind:!0,greedy:!0}],number:/\b(?:0[xX][\da-fA-F]+(?:_[\da-fA-F]+)*|0[bB][01]+(?:_[01]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?[fFL]?)\b/,operator:/\+[+=]?|-[-=>]?|==?=?|!(?:!|==?)?|[\/*%<>]=?|[?:]:?|\.\.|&&|\|\||\b(?:and|inv|or|shl|shr|ushr|xor)\b/}),delete n.languages.kotlin["class-name"];var e={"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:n.languages.kotlin}};n.languages.insertBefore("kotlin","string",{"string-literal":[{pattern:/"""(?:[^$]|\$(?:(?!\{)|\{[^{}]*\}))*?"""/,alias:"multiline",inside:{interpolation:{pattern:/\$(?:[a-z_]\w*|\{[^{}]*\})/i,inside:e},string:/[\s\S]+/}},{pattern:/"(?:[^"\\\r\n$]|\\.|\$(?:(?!\{)|\{[^{}]*\}))*"/,alias:"singleline",inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:[a-z_]\w*|\{[^{}]*\})/i,lookbehind:!0,inside:e},string:/[\s\S]+/}}],char:{pattern:/'(?:[^'\\\r\n]|\\(?:.|u[a-fA-F0-9]{0,4}))'/,greedy:!0}}),delete n.languages.kotlin.string,n.languages.insertBefore("kotlin","keyword",{annotation:{pattern:/\B@(?:\w+:)?(?:[A-Z]\w*|\[[^\]]+\])/,alias:"builtin"}}),n.languages.insertBefore("kotlin","function",{label:{pattern:/\b\w+@|@\w+\b/,alias:"symbol"}}),n.languages.kt=n.languages.kotlin,n.languages.kts=n.languages.kotlin}(Prism);
Prism.languages.makefile={comment:{pattern:/(^|[^\\])#(?:\\(?:\r\n|[\s\S])|[^\\\r\n])*/,lookbehind:!0},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"builtin-target":{pattern:/\.[A-Z][^:#=\s]+(?=\s*:(?!=))/,alias:"builtin"},target:{pattern:/^(?:[^:=\s]|[ \t]+(?![\s:]))+(?=\s*:(?!=))/m,alias:"symbol",inside:{variable:/\$+(?:(?!\$)[^(){}:#=\s]+|(?=[({]))/}},variable:/\$+(?:(?!\$)[^(){}:#=\s]+|\([@*%<^+?][DF]\)|(?=[({]))/,keyword:/-include\b|\b(?:define|else|endef|endif|export|ifn?def|ifn?eq|include|override|private|sinclude|undefine|unexport|vpath)\b/,function:{pattern:/(\()(?:abspath|addsuffix|and|basename|call|dir|error|eval|file|filter(?:-out)?|findstring|firstword|flavor|foreach|guile|if|info|join|lastword|load|notdir|or|origin|patsubst|realpath|shell|sort|strip|subst|suffix|value|warning|wildcard|word(?:list|s)?)(?=[ \t])/,lookbehind:!0},operator:/(?:::|[?:+!])?=|[|@]/,punctuation:/[:;(){}]/};
Prism.languages.mermaid={comment:{pattern:/%%.*/,greedy:!0},style:{pattern:/^([ \t]*(?:classDef|linkStyle|style)[ \t]+[\w$-]+[ \t]+)\w.*[^\s;]/m,lookbehind:!0,inside:{property:/\b\w[\w-]*(?=[ \t]*:)/,operator:/:/,punctuation:/,/}},"inter-arrow-label":{pattern:/([^<>ox.=-])(?:-[-.]|==)(?![<>ox.=-])[ \t]*(?:"[^"\r\n]*"|[^\s".=-](?:[^\r\n.=-]*[^\s.=-])?)[ \t]*(?:\.+->?|--+[->]|==+[=>])(?![<>ox.=-])/,lookbehind:!0,greedy:!0,inside:{arrow:{pattern:/(?:\.+->?|--+[->]|==+[=>])$/,alias:"operator"},label:{pattern:/^([\s\S]{2}[ \t]*)\S(?:[\s\S]*\S)?/,lookbehind:!0,alias:"property"},"arrow-head":{pattern:/^\S+/,alias:["arrow","operator"]}}},arrow:[{pattern:/(^|[^{}|o.-])[|}][|o](?:--|\.\.)[|o][|{](?![{}|o.-])/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>ox.=-])(?:[<ox](?:==+|--+|-\.*-)[>ox]?|(?:==+|--+|-\.*-)[>ox]|===+|---+|-\.+-)(?![<>ox.=-])/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>()x-])(?:--?(?:>>|[x>)])(?![<>()x])|(?:<<|[x<(])--?(?!-))/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>|*o.-])(?:[*o]--|--[*o]|<\|?(?:--|\.\.)|(?:--|\.\.)\|?>|--|\.\.)(?![<>|*o.-])/,lookbehind:!0,alias:"operator"}],label:{pattern:/(^|[^|<])\|(?:[^\r\n"|]|"[^"\r\n]*")+\|/,lookbehind:!0,greedy:!0,alias:"property"},text:{pattern:/(?:[(\[{]+|\b>)(?:[^\r\n"()\[\]{}]|"[^"\r\n]*")+(?:[)\]}]+|>)/,alias:"string"},string:{pattern:/"[^"\r\n]*"/,greedy:!0},annotation:{pattern:/<<(?:abstract|choice|enumeration|fork|interface|join|service)>>|\[\[(?:choice|fork|join)\]\]/i,alias:"important"},keyword:[{pattern:/(^[ \t]*)(?:action|callback|class|classDef|classDiagram|click|direction|erDiagram|flowchart|gantt|gitGraph|graph|journey|link|linkStyle|pie|requirementDiagram|sequenceDiagram|stateDiagram|stateDiagram-v2|style|subgraph)(?![\w$-])/m,lookbehind:!0,greedy:!0},{pattern:/(^[ \t]*)(?:activate|alt|and|as|autonumber|deactivate|else|end(?:[ \t]+note)?|loop|opt|par|participant|rect|state|note[ \t]+(?:over|(?:left|right)[ \t]+of))(?![\w$-])/im,lookbehind:!0,greedy:!0}],entity:/#[a-z0-9]+;/,operator:{pattern:/(\w[ \t]*)&(?=[ \t]*\w)|:::|:/,lookbehind:!0},punctuation:/[(){};]/};
!function(e){var n=/\$(?:\w[a-z\d]*(?:_[^\x00-\x1F\s"'\\()$]*)?|\{[^}\s"'\\]+\})/i;e.languages.nginx={comment:{pattern:/(^|[\s{};])#.*/,lookbehind:!0,greedy:!0},directive:{pattern:/(^|\s)\w(?:[^;{}"'\\\s]|\\.|"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\s+(?:#.*(?!.)|(?![#\s])))*?(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:{string:{pattern:/((?:^|[^\\])(?:\\\\)*)(?:"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')/,lookbehind:!0,greedy:!0,inside:{escape:{pattern:/\\["'\\nrt]/,alias:"entity"},variable:n}},comment:{pattern:/(\s)#.*/,lookbehind:!0,greedy:!0},keyword:{pattern:/^\S+/,greedy:!0},boolean:{pattern:/(\s)(?:off|on)(?!\S)/,lookbehind:!0},number:{pattern:/(\s)\d+[a-z]*(?!\S)/i,lookbehind:!0},variable:n}},punctuation:/[{};]/}}(Prism);
Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete Prism.languages.objectivec["class-name"],Prism.languages.objc=Prism.languages.objectivec;
!function(a){var e="(?:\\b[a-zA-Z]\\w*|[|\\\\[\\]])+";a.languages.phpdoc=a.languages.extend("javadoclike",{parameter:{pattern:RegExp("(@(?:global|param|property(?:-read|-write)?|var)\\s+(?:"+e+"\\s+)?)\\$\\w+"),lookbehind:!0}}),a.languages.insertBefore("phpdoc","keyword",{"class-name":[{pattern:RegExp("(@(?:global|package|param|property(?:-read|-write)?|return|subpackage|throws|var)\\s+)"+e),lookbehind:!0,inside:{keyword:/\b(?:array|bool|boolean|callback|double|false|float|int|integer|mixed|null|object|resource|self|string|true|void)\b/,punctuation:/[|\\[\]()]/}}]}),a.languages.javadoclike.addSupport("php",a.languages.phpdoc)}(Prism);
Prism.languages.insertBefore("php","variable",{this:{pattern:/\$this\b/,alias:"keyword"},global:/\$(?:GLOBALS|HTTP_RAW_POST_DATA|_(?:COOKIE|ENV|FILES|GET|POST|REQUEST|SERVER|SESSION)|argc|argv|http_response_header|php_errormsg)\b/,scope:{pattern:/\b[\w\\]+::/,inside:{keyword:/\b(?:parent|self|static)\b/,punctuation:/::|\\/}}});
!function(e){var t=/\$\w+|%[a-z]+%/;e.languages["plant-uml"]={comment:{pattern:/(^[ \t]*)(?:'.*|\/'[\s\S]*?'\/)/m,lookbehind:!0,greedy:!0},preprocessor:{pattern:/(^[ \t]*)!.*/m,lookbehind:!0,greedy:!0,alias:"property",inside:{variable:t}},delimiter:{pattern:/(^[ \t]*)@(?:end|start)uml\b/m,lookbehind:!0,greedy:!0,alias:"punctuation"},arrow:{pattern:RegExp("(^|[^-.<>?|\\\\[\\]ox])[[?]?[ox]?(?:(?:-+(?:[drlu]|do|down|le|left|ri|right|up)-+|\\.+(?:[drlu]|do|down|le|left|ri|right|up)\\.+|-+(?:\\[[^[\\]]*\\]-*)?|\\[[^[\\]]*\\]-+|\\.+(?:\\[[^[\\]]*\\]\\.*)?|\\[[^[\\]]*\\]\\.+)(?:>{1,2}|/{1,2}|\\\\{1,2}|\\|>|[#*^+{xo])|(?:<{1,2}|/{1,2}|\\\\{1,2}|<\\||[#*^+}xo])(?:-+(?:[drlu]|do|down|le|left|ri|right|up)-+|\\.+(?:[drlu]|do|down|le|left|ri|right|up)\\.+|-+(?:\\[[^[\\]]*\\]-*)?|\\[[^[\\]]*\\]-+|\\.+(?:\\[[^[\\]]*\\]\\.*)?|\\[[^[\\]]*\\]\\.+)(?:(?:>{1,2}|/{1,2}|\\\\{1,2}|\\|>|[#*^+{xo]))?)[ox]?[\\]?]?(?![-.<>?|\\\\\\]ox])"),lookbehind:!0,greedy:!0,alias:"operator",inside:{expression:{pattern:/(\[)[^[\]]+(?=\])/,lookbehind:!0,inside:null},punctuation:/\[(?=$|\])|^\]/}},string:{pattern:/"[^"]*"/,greedy:!0},text:{pattern:/(\[[ \t]*[\r\n]+(?![\r\n]))[^\]]*(?=\])/,lookbehind:!0,greedy:!0,alias:"string"},keyword:[{pattern:/^([ \t]*)(?:abstract\s+class|end\s+(?:box|fork|group|merge|note|ref|split|title)|(?:fork|split)(?:\s+again)?|activate|actor|agent|alt|annotation|artifact|autoactivate|autonumber|backward|binary|boundary|box|break|caption|card|case|circle|class|clock|cloud|collections|component|concise|control|create|critical|database|deactivate|destroy|detach|diamond|else|elseif|end|end[hr]note|endif|endswitch|endwhile|entity|enum|file|folder|footer|frame|group|[hr]?note|header|hexagon|hide|if|interface|label|legend|loop|map|namespace|network|newpage|node|nwdiag|object|opt|package|page|par|participant|person|queue|rectangle|ref|remove|repeat|restore|return|robust|scale|set|show|skinparam|stack|start|state|stop|storage|switch|title|together|usecase|usecase\/|while)(?=\s|$)/m,lookbehind:!0,greedy:!0},/\b(?:elseif|equals|not|while)(?=\s*\()/,/\b(?:as|is|then)\b/],divider:{pattern:/^==.+==$/m,greedy:!0,alias:"important"},time:{pattern:/@(?:\d+(?:[:/]\d+){2}|[+-]?\d+|:[a-z]\w*(?:[+-]\d+)?)\b/i,greedy:!0,alias:"number"},color:{pattern:/#(?:[a-z_]+|[a-fA-F0-9]+)\b/,alias:"symbol"},variable:t,punctuation:/[:,;()[\]{}]|\.{3}/},e.languages["plant-uml"].arrow.inside.expression.inside=e.languages["plant-uml"],e.languages.plantuml=e.languages["plant-uml"]}(Prism);
!function(e){var i=e.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};i.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:i},boolean:i.boolean,variable:i.variable}}(Prism);
Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python;
!function(e){function s(e,s){for(var a=0;a<s;a++)e=e.replace(/<self>/g,(function(){return"(?:"+e+")"}));return e.replace(/<self>/g,"[^\\s\\S]").replace(/<str>/g,'(?:@(?!")|"(?:[^\r\n\\\\"]|\\\\.)*"|@"(?:[^\\\\"]|""|\\\\[^])*"(?!")|\'(?:(?:[^\r\n\'\\\\]|\\\\.|\\\\[Uux][\\da-fA-F]{1,8})\'|(?=[^\\\\](?!\'))))').replace(/<comment>/g,"(?:/(?![/*])|//.*[\r\n]|/\\*[^*]*(?:\\*(?!/)[^*]*)*\\*/)")}var a=s("\\((?:[^()'\"@/]|<str>|<comment>|<self>)*\\)",2),t=s("\\[(?:[^\\[\\]'\"@/]|<str>|<comment>|<self>)*\\]",1),r=s("\\{(?:[^{}'\"@/]|<str>|<comment>|<self>)*\\}",2),n="@(?:await\\b\\s*)?(?:(?!await\\b)\\w+\\b|"+a+")(?:[?!]?\\.\\w+\\b|(?:"+s("<(?:[^<>'\"@/]|<comment>|<self>)*>",1)+")?"+a+"|"+t+")*(?![?!\\.(\\[]|<(?!/))",l="(?:\"[^\"@]*\"|'[^'@]*'|[^\\s'\"@>=]+(?=[\\s>])|[\"'][^\"'@]*(?:(?:@(?![\\w()])|"+n+")[^\"'@]*)+[\"'])",i="(?:\\s(?:\\s*[^\\s>/=]+(?:\\s*=\\s*<tagAttrValue>|(?=[\\s/>])))+)?".replace(/<tagAttrValue>/,l),g="(?!\\d)[^\\s>/=$<%]+"+i+"\\s*/?>",o="\\B@?(?:<([a-zA-Z][\\w:]*)"+i+"\\s*>(?:[^<]|</?(?!\\1\\b)"+g+"|"+s("<\\1"+i+"\\s*>(?:[^<]|</?(?!\\1\\b)"+g+"|<self>)*</\\1\\s*>",2)+")*</\\1\\s*>|<"+g+")";e.languages.cshtml=e.languages.extend("markup",{});var c={pattern:/\S[\s\S]*/,alias:"language-csharp",inside:e.languages.insertBefore("csharp","string",{html:{pattern:RegExp(o),greedy:!0,inside:e.languages.cshtml}},{csharp:e.languages.extend("csharp",{})})},p={pattern:RegExp("(^|[^@])"+n),lookbehind:!0,greedy:!0,alias:"variable",inside:{keyword:/^@/,csharp:c}};e.languages.cshtml.tag.pattern=RegExp("</?"+g),e.languages.cshtml.tag.inside["attr-value"].pattern=RegExp("=\\s*"+l),e.languages.insertBefore("inside","punctuation",{value:p},e.languages.cshtml.tag.inside["attr-value"]),e.languages.insertBefore("cshtml","prolog",{"razor-comment":{pattern:/@\*[\s\S]*?\*@/,greedy:!0,alias:"comment"},block:{pattern:RegExp("(^|[^@])@(?:"+[r,"(?:code|functions)\\s*"+r,"(?:for|foreach|lock|switch|using|while)\\s*"+a+"\\s*"+r,"do\\s*"+r+"\\s*while\\s*"+a+"(?:\\s*;)?","try\\s*"+r+"\\s*catch\\s*"+a+"\\s*"+r+"\\s*finally\\s*"+r,"if\\s*"+a+"\\s*"+r+"(?:\\s*else(?:\\s+if\\s*"+a+")?\\s*"+r+")*","helper\\s+\\w+\\s*"+a+"\\s*"+r].join("|")+")"),lookbehind:!0,greedy:!0,inside:{keyword:/^@\w*/,csharp:c}},directive:{pattern:/^([ \t]*)@(?:addTagHelper|attribute|implements|inherits|inject|layout|model|namespace|page|preservewhitespace|removeTagHelper|section|tagHelperPrefix|using)(?=\s).*/m,lookbehind:!0,greedy:!0,inside:{keyword:/^@\w+/,csharp:c}},value:p,"delegate-operator":{pattern:/(^|[^@])@(?=<)/,lookbehind:!0,alias:"operator"}}),e.languages.razor=e.languages.cshtml}(Prism);
!function(a){var e={pattern:/\\[\\(){}[\]^$+*?|.]/,alias:"escape"},n=/\\(?:x[\da-fA-F]{2}|u[\da-fA-F]{4}|u\{[\da-fA-F]+\}|0[0-7]{0,2}|[123][0-7]{2}|c[a-zA-Z]|.)/,t="(?:[^\\\\-]|"+n.source+")",s=RegExp(t+"-"+t),i={pattern:/(<|')[^<>']+(?=[>']$)/,lookbehind:!0,alias:"variable"};a.languages.regex={"char-class":{pattern:/((?:^|[^\\])(?:\\\\)*)\[(?:[^\\\]]|\\[\s\S])*\]/,lookbehind:!0,inside:{"char-class-negation":{pattern:/(^\[)\^/,lookbehind:!0,alias:"operator"},"char-class-punctuation":{pattern:/^\[|\]$/,alias:"punctuation"},range:{pattern:s,inside:{escape:n,"range-punctuation":{pattern:/-/,alias:"operator"}}},"special-escape":e,"char-set":{pattern:/\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},escape:n}},"special-escape":e,"char-set":{pattern:/\.|\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},backreference:[{pattern:/\\(?![123][0-7]{2})[1-9]/,alias:"keyword"},{pattern:/\\k<[^<>']+>/,alias:"keyword",inside:{"group-name":i}}],anchor:{pattern:/[$^]|\\[ABbGZz]/,alias:"function"},escape:n,group:[{pattern:/\((?:\?(?:<[^<>']+>|'[^<>']+'|[>:]|<?[=!]|[idmnsuxU]+(?:-[idmnsuxU]+)?:?))?/,alias:"punctuation",inside:{"group-name":i}},{pattern:/\)/,alias:"punctuation"}],quantifier:{pattern:/(?:[+*?]|\{\d+(?:,\d*)?\})[?+]?/,alias:"number"},alternation:{pattern:/\|/,alias:"keyword"}}}(Prism);
Prism.languages.scala=Prism.languages.extend("java",{"triple-quoted-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:/<-|=>|\b(?:abstract|case|catch|class|def|derives|do|else|enum|extends|extension|final|finally|for|forSome|given|if|implicit|import|infix|inline|lazy|match|new|null|object|opaque|open|override|package|private|protected|return|sealed|self|super|this|throw|trait|transparent|try|type|using|val|var|while|with|yield)\b/,number:/\b0x(?:[\da-f]*\.)?[\da-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e\d+)?[dfl]?/i,builtin:/\b(?:Any|AnyRef|AnyVal|Boolean|Byte|Char|Double|Float|Int|Long|Nothing|Short|String|Unit)\b/,symbol:/'[^\d\s\\]\w*/}),Prism.languages.insertBefore("scala","triple-quoted-string",{"string-interpolation":{pattern:/\b[a-z]\w*(?:"""(?:[^$]|\$(?:[^{]|\{(?:[^{}]|\{[^{}]*\})*\}))*?"""|"(?:[^$"\r\n]|\$(?:[^{]|\{(?:[^{}]|\{[^{}]*\})*\}))*")/i,greedy:!0,inside:{id:{pattern:/^\w+/,greedy:!0,alias:"function"},escape:{pattern:/\\\$"|\$[$"]/,greedy:!0,alias:"symbol"},interpolation:{pattern:/\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,greedy:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:Prism.languages.scala}}},string:/[\s\S]+/}}}),delete Prism.languages.scala["class-name"],delete Prism.languages.scala.function,delete Prism.languages.scala.constant;
!function(s){var n=['"(?:\\\\[^]|\\$\\([^)]+\\)|\\$(?!\\()|`[^`]+`|[^"\\\\`$])*"',"'[^']*'","\\$'(?:[^'\\\\]|\\\\[^])*'","<<-?\\s*([\"']?)(\\w+)\\1\\s[^]*?[\r\n]\\2"].join("|");s.languages["shell-session"]={command:{pattern:RegExp('^(?:[^\\s@:$#%*!/\\\\]+@[^\r\n@:$#%*!/\\\\]+(?::[^\0-\\x1F$#%*?"<>:;|]+)?|[/~.][^\0-\\x1F$#%*?"<>@:;|]*)?[$#%](?=\\s)'+"(?:[^\\\\\r\n \t'\"<$]|[ \t](?:(?!#)|#.*$)|\\\\(?:[^\r]|\r\n?)|\\$(?!')|<(?!<)|<<str>>)+".replace(/<<str>>/g,(function(){return n})),"m"),greedy:!0,inside:{info:{pattern:/^[^#$%]+/,alias:"punctuation",inside:{user:/^[^\s@:$#%*!/\\]+@[^\r\n@:$#%*!/\\]+/,punctuation:/:/,path:/[\s\S]+/}},bash:{pattern:/(^[$#%]\s*)\S[\s\S]*/,lookbehind:!0,alias:"language-bash",inside:s.languages.bash},"shell-symbol":{pattern:/^[$#%]/,alias:"important"}}},output:/.(?:.*(?:[\r\n]|.$))*/},s.languages["sh-session"]=s.languages.shellsession=s.languages["shell-session"]}(Prism);
!function(e){e.languages.smarty={comment:{pattern:/^\{\*[\s\S]*?\*\}/,greedy:!0},"embedded-php":{pattern:/^\{php\}[\s\S]*?\{\/php\}/,greedy:!0,inside:{smarty:{pattern:/^\{php\}|\{\/php\}$/,inside:null},php:{pattern:/[\s\S]+/,alias:"language-php",inside:e.languages.php}}},string:[{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0,inside:{interpolation:{pattern:/\{[^{}]*\}|`[^`]*`/,inside:{"interpolation-punctuation":{pattern:/^[{`]|[`}]$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}},variable:/\$\w+/}},{pattern:/'(?:\\.|[^'\\\r\n])*'/,greedy:!0}],keyword:{pattern:/(^\{\/?)[a-z_]\w*\b(?!\()/i,lookbehind:!0,greedy:!0},delimiter:{pattern:/^\{\/?|\}$/,greedy:!0,alias:"punctuation"},number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,variable:[/\$(?!\d)\w+/,/#(?!\d)\w+#/,{pattern:/(\.|->|\w\s*=)(?!\d)\w+\b(?!\()/,lookbehind:!0},{pattern:/(\[)(?!\d)\w+(?=\])/,lookbehind:!0}],function:{pattern:/(\|\s*)@?[a-z_]\w*|\b[a-z_]\w*(?=\()/i,lookbehind:!0},"attr-name":/\b[a-z_]\w*(?=\s*=)/i,boolean:/\b(?:false|no|off|on|true|yes)\b/,punctuation:/[\[\](){}.,:`]|->/,operator:[/[+\-*\/%]|==?=?|[!<>]=?|&&|\|\|?/,/\bis\s+(?:not\s+)?(?:div|even|odd)(?:\s+by)?\b/,/\b(?:and|eq|gt?e|gt|lt?e|lt|mod|neq?|not|or)\b/]},e.languages.smarty["embedded-php"].inside.smarty.inside=e.languages.smarty,e.languages.smarty.string[0].inside.interpolation.inside.expression.inside=e.languages.smarty;var n=/"(?:\\.|[^"\\\r\n])*"|'(?:\\.|[^'\\\r\n])*'/,t=RegExp("\\{\\*[^]*?\\*\\}|\\{php\\}[^]*?\\{/php\\}|"+"\\{(?:[^{}\"']|<str>|\\{(?:[^{}\"']|<str>|\\{(?:[^{}\"']|<str>)*\\})*\\})*\\}".replace(/<str>/g,(function(){return n.source})),"g");e.hooks.add("before-tokenize",(function(n){var a=!1;e.languages["markup-templating"].buildPlaceholders(n,"smarty",t,(function(e){return"{/literal}"===e&&(a=!1),!a&&("{literal}"===e&&(a=!0),!0)}))})),e.hooks.add("after-tokenize",(function(n){e.languages["markup-templating"].tokenizePlaceholders(n,"smarty")}))}(Prism);
Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};
Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp('(^|[^"#])(?:"(?:\\\\(?:\\((?:[^()]|\\([^()]*\\))*\\)|\r\n|[^(])|[^\\\\\r\n"])*"|"""(?:\\\\(?:\\((?:[^()]|\\([^()]*\\))*\\)|[^(])|[^\\\\"]|"(?!""))*""")(?!["#])'),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp('(^|[^"#])(#+)(?:"(?:\\\\(?:#+\\((?:[^()]|\\([^()]*\\))*\\)|\r\n|[^#])|[^\\\\\r\n])*?"|"""(?:\\\\(?:#+\\((?:[^()]|\\([^()]*\\))*\\)|[^#])|[^\\\\])*?""")\\2'),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp("#(?:(?:elseif|if)\\b(?:[ \t]*(?:![ \t]*)?(?:\\b\\w+\\b(?:[ \t]*\\((?:[^()]|\\([^()]*\\))*\\))?|\\((?:[^()]|\\([^()]*\\))*\\))(?:[ \t]*(?:&&|\\|\\|))?)+|(?:else|endif)\\b)"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},Prism.languages.swift["string-literal"].forEach((function(e){e.inside.interpolation.inside=Prism.languages.swift}));
!function(n){function e(n,e){return RegExp(n.replace(/<MOD>/g,(function(){return"(?:\\([^|()\n]+\\)|\\[[^\\]\n]+\\]|\\{[^}\n]+\\})"})).replace(/<PAR>/g,(function(){return"(?:\\)|\\((?![^|()\n]+\\)))"})),e||"")}var i={css:{pattern:/\{[^{}]+\}/,inside:{rest:n.languages.css}},"class-id":{pattern:/(\()[^()]+(?=\))/,lookbehind:!0,alias:"attr-value"},lang:{pattern:/(\[)[^\[\]]+(?=\])/,lookbehind:!0,alias:"attr-value"},punctuation:/[\\\/]\d+|\S/},t=n.languages.textile=n.languages.extend("markup",{phrase:{pattern:/(^|\r|\n)\S[\s\S]*?(?=$|\r?\n\r?\n|\r\r)/,lookbehind:!0,inside:{"block-tag":{pattern:e("^[a-z]\\w*(?:<MOD>|<PAR>|[<>=])*\\."),inside:{modifier:{pattern:e("(^[a-z]\\w*)(?:<MOD>|<PAR>|[<>=])+(?=\\.)"),lookbehind:!0,inside:i},tag:/^[a-z]\w*/,punctuation:/\.$/}},list:{pattern:e("^[*#]+<MOD>*\\s+\\S.*","m"),inside:{modifier:{pattern:e("(^[*#]+)<MOD>+"),lookbehind:!0,inside:i},punctuation:/^[*#]+/}},table:{pattern:e("^(?:(?:<MOD>|<PAR>|[<>=^~])+\\.\\s*)?(?:\\|(?:(?:<MOD>|<PAR>|[<>=^~_]|[\\\\/]\\d+)+\\.|(?!(?:<MOD>|<PAR>|[<>=^~_]|[\\\\/]\\d+)+\\.))[^|]*)+\\|","m"),inside:{modifier:{pattern:e("(^|\\|(?:\r?\n|\r)?)(?:<MOD>|<PAR>|[<>=^~_]|[\\\\/]\\d+)+(?=\\.)"),lookbehind:!0,inside:i},punctuation:/\||^\./}},inline:{pattern:e("(^|[^a-zA-Z\\d])(\\*\\*|__|\\?\\?|[*_%@+\\-^~])<MOD>*.+?\\2(?![a-zA-Z\\d])"),lookbehind:!0,inside:{bold:{pattern:e("(^(\\*\\*?)<MOD>*).+?(?=\\2)"),lookbehind:!0},italic:{pattern:e("(^(__?)<MOD>*).+?(?=\\2)"),lookbehind:!0},cite:{pattern:e("(^\\?\\?<MOD>*).+?(?=\\?\\?)"),lookbehind:!0,alias:"string"},code:{pattern:e("(^@<MOD>*).+?(?=@)"),lookbehind:!0,alias:"keyword"},inserted:{pattern:e("(^\\+<MOD>*).+?(?=\\+)"),lookbehind:!0},deleted:{pattern:e("(^-<MOD>*).+?(?=-)"),lookbehind:!0},span:{pattern:e("(^%<MOD>*).+?(?=%)"),lookbehind:!0},modifier:{pattern:e("(^\\*\\*|__|\\?\\?|[*_%@+\\-^~])<MOD>+"),lookbehind:!0,inside:i},punctuation:/[*_%?@+\-^~]+/}},"link-ref":{pattern:/^\[[^\]]+\]\S+$/m,inside:{string:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0},url:{pattern:/(^\])\S+$/,lookbehind:!0},punctuation:/[\[\]]/}},link:{pattern:e('"<MOD>*[^"]+":.+?(?=[^\\w/]?(?:\\s|$))'),inside:{text:{pattern:e('(^"<MOD>*)[^"]+(?=")'),lookbehind:!0},modifier:{pattern:e('(^")<MOD>+'),lookbehind:!0,inside:i},url:{pattern:/(:).+/,lookbehind:!0},punctuation:/[":]/}},image:{pattern:e("!(?:<MOD>|<PAR>|[<>=])*(?![<>=])[^!\\s()]+(?:\\([^)]+\\))?!(?::.+?(?=[^\\w/]?(?:\\s|$)))?"),inside:{source:{pattern:e("(^!(?:<MOD>|<PAR>|[<>=])*)(?![<>=])[^!\\s()]+(?:\\([^)]+\\))?(?=!)"),lookbehind:!0,alias:"url"},modifier:{pattern:e("(^!)(?:<MOD>|<PAR>|[<>=])+"),lookbehind:!0,inside:i},url:{pattern:/(:).+/,lookbehind:!0},punctuation:/[!:]/}},footnote:{pattern:/\b\[\d+\]/,alias:"comment",inside:{punctuation:/\[|\]/}},acronym:{pattern:/\b[A-Z\d]+\([^)]+\)/,inside:{comment:{pattern:/(\()[^()]+(?=\))/,lookbehind:!0},punctuation:/[()]/}},mark:{pattern:/\b\((?:C|R|TM)\)/,alias:"comment",inside:{punctuation:/[()]/}}}}}),a=t.phrase.inside,o={inline:a.inline,link:a.link,image:a.image,footnote:a.footnote,acronym:a.acronym,mark:a.mark};t.tag.pattern=/<\/?(?!\d)[a-z0-9]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/i;var r=a.inline.inside;r.bold.inside=o,r.italic.inside=o,r.inserted.inside=o,r.deleted.inside=o,r.span.inside=o;var d=a.table.inside;d.inline=o.inline,d.link=o.link,d.image=o.image,d.footnote=o.footnote,d.acronym=o.acronym,d.mark=o.mark}(Prism);
Prism.languages.twig={comment:/^\{#[\s\S]*?#\}$/,"tag-name":{pattern:/(^\{%-?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^\{[{%]-?|-?[%}]\}$/,alias:"punctuation"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,inside:{punctuation:/^['"]|['"]$/}},keyword:/\b(?:even|if|odd)\b/,boolean:/\b(?:false|null|true)\b/,number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,operator:[{pattern:/(\s)(?:and|b-and|b-or|b-xor|ends with|in|is|matches|not|or|same as|starts with)(?=\s)/,lookbehind:!0},/[=<>]=?|!=|\*\*?|\/\/?|\?:?|[-+~%|]/],punctuation:/[()\[\]{}:.,]/},Prism.hooks.add("before-tokenize",(function(e){"twig"===e.language&&Prism.languages["markup-templating"].buildPlaceholders(e,"twig",/\{(?:#[\s\S]*?#|%[\s\S]*?%|\{[\s\S]*?\})\}/g)})),Prism.hooks.add("after-tokenize",(function(e){Prism.languages["markup-templating"].tokenizePlaceholders(e,"twig")}));
!function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript.parameter,delete e.languages.typescript["literal-property"];var s=e.languages.extend("typescript",{});delete s["class-name"],e.languages.typescript["class-name"].inside=s,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:s}}}}),e.languages.ts=e.languages.typescript}(Prism);
Prism.languages.vbnet=Prism.languages.extend("basic",{comment:[{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},{pattern:/(^|[^\\:])'.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(^|[^"])"(?:""|[^"])*"(?!")/,lookbehind:!0,greedy:!0},keyword:/(?:\b(?:ADDHANDLER|ADDRESSOF|ALIAS|AND|ANDALSO|AS|BEEP|BLOAD|BOOLEAN|BSAVE|BYREF|BYTE|BYVAL|CALL(?: ABSOLUTE)?|CASE|CATCH|CBOOL|CBYTE|CCHAR|CDATE|CDBL|CDEC|CHAIN|CHAR|CHDIR|CINT|CLASS|CLEAR|CLNG|CLOSE|CLS|COBJ|COM|COMMON|CONST|CONTINUE|CSBYTE|CSHORT|CSNG|CSTR|CTYPE|CUINT|CULNG|CUSHORT|DATA|DATE|DECIMAL|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DEFAULT|DELEGATE|DIM|DIRECTCAST|DO|DOUBLE|ELSE|ELSEIF|END|ENUM|ENVIRON|ERASE|ERROR|EVENT|EXIT|FALSE|FIELD|FILES|FINALLY|FOR(?: EACH)?|FRIEND|FUNCTION|GET|GETTYPE|GETXMLNAMESPACE|GLOBAL|GOSUB|GOTO|HANDLES|IF|IMPLEMENTS|IMPORTS|IN|INHERITS|INPUT|INTEGER|INTERFACE|IOCTL|IS|ISNOT|KEY|KILL|LET|LIB|LIKE|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|ME|MKDIR|MOD|MODULE|MUSTINHERIT|MUSTOVERRIDE|MYBASE|MYCLASS|NAME|NAMESPACE|NARROWING|NEW|NEXT|NOT|NOTHING|NOTINHERITABLE|NOTOVERRIDABLE|OBJECT|OF|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPERATOR|OPTION(?: BASE)?|OPTIONAL|OR|ORELSE|OUT|OVERLOADS|OVERRIDABLE|OVERRIDES|PARAMARRAY|PARTIAL|POKE|PRIVATE|PROPERTY|PROTECTED|PUBLIC|PUT|RAISEEVENT|READ|READONLY|REDIM|REM|REMOVEHANDLER|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SBYTE|SELECT(?: CASE)?|SET|SHADOWS|SHARED|SHELL|SHORT|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|STRUCTURE|SUB|SWAP|SYNCLOCK|SYSTEM|THEN|THROW|TIMER|TO|TROFF|TRON|TRUE|TRY|TRYCAST|TYPE|TYPEOF|UINTEGER|ULONG|UNLOCK|UNTIL|USHORT|USING|VIEW PRINT|WAIT|WEND|WHEN|WHILE|WIDENING|WITH|WITHEVENTS|WRITE|WRITEONLY|XOR)|\B(?:#CONST|#ELSE|#ELSEIF|#END|#IF))(?:\$|\b)/i,punctuation:/[,;:(){}]/});
!function(e){e.languages.velocity=e.languages.extend("markup",{});var n={variable:{pattern:/(^|[^\\](?:\\\\)*)\$!?(?:[a-z][\w-]*(?:\([^)]*\))?(?:\.[a-z][\w-]*(?:\([^)]*\))?|\[[^\]]+\])*|\{[^}]+\})/i,lookbehind:!0,inside:{}},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},number:/\b\d+\b/,boolean:/\b(?:false|true)\b/,operator:/[=!<>]=?|[+*/%-]|&&|\|\||\.\.|\b(?:eq|g[et]|l[et]|n(?:e|ot))\b/,punctuation:/[(){}[\]:,.]/};n.variable.inside={string:n.string,function:{pattern:/([^\w-])[a-z][\w-]*(?=\()/,lookbehind:!0},number:n.number,boolean:n.boolean,punctuation:n.punctuation},e.languages.insertBefore("velocity","comment",{unparsed:{pattern:/(^|[^\\])#\[\[[\s\S]*?\]\]#/,lookbehind:!0,greedy:!0,inside:{punctuation:/^#\[\[|\]\]#$/}},"velocity-comment":[{pattern:/(^|[^\\])#\*[\s\S]*?\*#/,lookbehind:!0,greedy:!0,alias:"comment"},{pattern:/(^|[^\\])##.*/,lookbehind:!0,greedy:!0,alias:"comment"}],directive:{pattern:/(^|[^\\](?:\\\\)*)#@?(?:[a-z][\w-]*|\{[a-z][\w-]*\})(?:\s*\((?:[^()]|\([^()]*\))*\))?/i,lookbehind:!0,inside:{keyword:{pattern:/^#@?(?:[a-z][\w-]*|\{[a-z][\w-]*\})|\bin\b/,inside:{punctuation:/[{}]/}},rest:n}},variable:n.variable}),e.languages.velocity.tag.inside["attr-value"].inside.rest=e.languages.velocity}(Prism);
!function(e){var n=/[*&][^\s[\]{},]+/,r=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,t="(?:"+r.source+"(?:[ \t]+"+n.source+")?|"+n.source+"(?:[ \t]+"+r.source+")?)",a="(?:[^\\s\\x00-\\x08\\x0e-\\x1f!\"#%&'*,\\-:>?@[\\]`{|}\\x7f-\\x84\\x86-\\x9f\\ud800-\\udfff\\ufffe\\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*".replace(/<PLAIN>/g,(function(){return"[^\\s\\x00-\\x08\\x0e-\\x1f,[\\]{}\\x7f-\\x84\\x86-\\x9f\\ud800-\\udfff\\ufffe\\uffff]"})),d="\"(?:[^\"\\\\\r\n]|\\\\.)*\"|'(?:[^'\\\\\r\n]|\\\\.)*'";function o(e,n){n=(n||"").replace(/m/g,"")+"m";var r="([:\\-,[{]\\s*(?:\\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\\]|\\}|(?:[\r\n]\\s*)?#))".replace(/<<prop>>/g,(function(){return t})).replace(/<<value>>/g,(function(){return e}));return RegExp(r,n)}e.languages.yaml={scalar:{pattern:RegExp("([\\-:]\\s*(?:\\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\\S[^\r\n]*(?:\\2[^\r\n]+)*)".replace(/<<prop>>/g,(function(){return t}))),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp("((?:^|[:\\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\\s*:\\s)".replace(/<<prop>>/g,(function(){return t})).replace(/<<key>>/g,(function(){return"(?:"+a+"|"+d+")"}))),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:o("\\d{4}-\\d\\d?-\\d\\d?(?:[tT]|[ \t]+)\\d\\d?:\\d{2}:\\d{2}(?:\\.\\d*)?(?:[ \t]*(?:Z|[-+]\\d\\d?(?::\\d{2})?))?|\\d{4}-\\d{2}-\\d{2}|\\d\\d?:\\d{2}(?::\\d{2}(?:\\.\\d*)?)?"),lookbehind:!0,alias:"number"},boolean:{pattern:o("false|true","i"),lookbehind:!0,alias:"important"},null:{pattern:o("null|~","i"),lookbehind:!0,alias:"important"},string:{pattern:o(d),lookbehind:!0,greedy:!0},number:{pattern:o("[+-]?(?:0x[\\da-f]+|0o[0-7]+|(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?|\\.inf|\\.nan)","i"),lookbehind:!0},tag:r,important:n,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},e.languages.yml=e.languages.yaml}(Prism);
"undefined"!=typeof Prism&&Prism.hooks.add("wrap",(function(e){"keyword"===e.type&&e.classes.push("keyword-"+e.content)}));
!function(){if("undefined"!=typeof Prism&&"undefined"!=typeof document){var e=[],t={},n=function(){};Prism.plugins.toolbar={};var a=Prism.plugins.toolbar.registerButton=function(n,a){var r;r="function"==typeof a?a:function(e){var t;return"function"==typeof a.onClick?((t=document.createElement("button")).type="button",t.addEventListener("click",(function(){a.onClick.call(this,e)}))):"string"==typeof a.url?(t=document.createElement("a")).href=a.url:t=document.createElement("span"),a.className&&t.classList.add(a.className),t.textContent=a.text,t},n in t?console.warn('There is a button with the key "'+n+'" registered already.'):e.push(t[n]=r)},r=Prism.plugins.toolbar.hook=function(a){var r=a.element.parentNode;if(r&&/pre/i.test(r.nodeName)&&!r.parentNode.classList.contains("code-toolbar")){var o=document.createElement("div");o.classList.add("code-toolbar"),r.parentNode.insertBefore(o,r),o.appendChild(r);var i=document.createElement("div");i.classList.add("toolbar");var l=e,d=function(e){for(;e;){var t=e.getAttribute("data-toolbar-order");if(null!=t)return(t=t.trim()).length?t.split(/\s*,\s*/g):[];e=e.parentElement}}(a.element);d&&(l=d.map((function(e){return t[e]||n}))),l.forEach((function(e){var t=e(a);if(t){var n=document.createElement("div");n.classList.add("toolbar-item"),n.appendChild(t),i.appendChild(n)}})),o.appendChild(i)}};a("label",(function(e){var t=e.element.parentNode;if(t&&/pre/i.test(t.nodeName)&&t.hasAttribute("data-label")){var n,a,r=t.getAttribute("data-label");try{a=document.querySelector("template#"+r)}catch(e){}return a?n=a.content:(t.hasAttribute("data-url")?(n=document.createElement("a")).href=t.getAttribute("data-url"):n=document.createElement("span"),n.textContent=r),n}})),Prism.hooks.add("complete",r)}}();
 </script><style>
        .article {
            position: relative;
            padding-bottom: 24px;
        }
        

        .center {
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
        

        .center-text {
            text-align: center;
        }
        

        .code-block {
            overflow: hidden;
            position: relative;
            padding: 0;
            border-radius: 8px;
            font-variant-ligatures: none;
            background-color: rgba(25, 25, 28, .05);
            word-break: break-all;
        }
        

        .container {
            max-width: 100%;
            overflow: hidden;
            page-break-inside: avoid;
            display: block;
        }
        

        .control {
            color: #19191c;
            font-size: 16px;
            font-weight: 670;
        }
        

        .detached {
            margin-block-start: 0;
            margin-block-end: 0;
            margin-bottom: 8px;
        }
        

        .emphasis {
            color: inherit;
            font-weight: inherit;
            font-style: italic;
        }
        

        .header-row {
            background: #e6e6e6;
        }
        

        .image {
            max-width: 100%; 
            height: auto;
            width: auto;
        }
        

        .image-container {
            max-width: 100vw;
            max-height: 90vh;
        }
        

        .inline-code {
            border-radius: 4px;
            display: inline;
            padding: 2px 1px;
            font-family: JetBrains Sans,monospace;
            background: #e6e6e6;
        }
        

        .list {
            list-style-type: disc;
            padding-left: 0;
            margin-left: 15px;
        }
        

        .list-decimal {
            list-style-type: decimal;
        }
        

        .list-item {
            margin-top: 6px;
            margin-bottom: 6px;
            margin-left: 4px;
        }
        

        .main-title {
            padding-bottom: 24px;
            margin-top: 0;
            font-size: 40px;
            margin-block-start: 0;
            margin-block-end: 0;
        }
        

        .prism {
            page-break-inside: avoid;
        }
        
        /* PrismJS 1.29.0
https://prismjs.com/download.html#themes=prism&languages=markup+css+clike+javascript+abap+abnf+actionscript+ada+agda+al+antlr4+apacheconf+apex+apl+applescript+aql+arduino+arff+armasm+arturo+asciidoc+aspnet+asm6502+asmatmel+autohotkey+autoit+avisynth+avro-idl+awk+bash+basic+batch+bbcode+bbj+bicep+birb+bison+bnf+bqn+brainfuck+brightscript+bro+bsl+c+csharp+cpp+cfscript+chaiscript+cil+cilkc+cilkcpp+clojure+cmake+cobol+coffeescript+concurnas+csp+cooklang+coq+crystal+css-extras+csv+cue+cypher+d+dart+dataweave+dax+dhall+diff+django+dns-zone-file+docker+dot+ebnf+editorconfig+eiffel+ejs+elixir+elm+etlua+erb+erlang+excel-formula+fsharp+factor+false+firestore-security-rules+flow+fortran+ftl+gml+gap+gcode+gdscript+gedcom+gettext+gherkin+git+glsl+gn+linker-script+go+go-module+gradle+graphql+groovy+haml+handlebars+haskell+haxe+hcl+hlsl+hoon+http+hpkp+hsts+ichigojam+icon+icu-message-format+idris+ignore+inform7+ini+io+j+java+javadoc+javadoclike+javastacktrace+jexl+jolie+jq+jsdoc+js-extras+json+json5+jsonp+jsstacktrace+js-templates+julia+keepalived+keyman+kotlin+kumir+kusto+latex+latte+less+lilypond+liquid+lisp+livescript+llvm+log+lolcode+lua+magma+makefile+markdown+markup-templating+mata+matlab+maxscript+mel+mermaid+metafont+mizar+mongodb+monkey+moonscript+n1ql+n4js+nand2tetris-hdl+naniscript+nasm+neon+nevod+nginx+nim+nix+nsis+objectivec+ocaml+odin+opencl+openqasm+oz+parigp+parser+pascal+pascaligo+psl+pcaxis+peoplecode+perl+php+phpdoc+php-extras+plant-uml+plsql+powerquery+powershell+processing+prolog+promql+properties+protobuf+pug+puppet+pure+purebasic+purescript+python+qsharp+q+qml+qore+r+racket+cshtml+jsx+tsx+reason+regex+rego+renpy+rescript+rest+rip+roboconf+robotframework+ruby+rust+sas+sass+scss+scala+scheme+shell-session+smali+smalltalk+smarty+sml+solidity+solution-file+soy+sparql+splunk-spl+sqf+sql+squirrel+stan+stata+iecst+stylus+supercollider+swift+systemd+t4-templating+t4-cs+t4-vb+tap+tcl+tt2+textile+toml+tremor+turtle+twig+typescript+typoscript+unrealscript+uorazor+uri+v+vala+vbnet+velocity+verilog+vhdl+vim+visual-basic+warpscript+wasm+web-idl+wgsl+wiki+wolfram+wren+xeora+xml-doc+xojo+xquery+yaml+yang+zig&plugins=highlight-keywords */
code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre-wrap;word-spacing:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:16px;margin:0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}

        

        :root {
            width: 100%;
            max-width: 100vw;
            padding: 0 0 0 30px;
        }
        
        body {
            font-family: JetBrains Sans,serif;
        }
        
        a {
            overflow-wrap: anywhere;
            width: 100vw;
        }
        
        
        @font-face {
            font-family: JetBrains Sans;
            src: url(https://resources.jetbrains.com/storage/jetbrains-sans/JetBrainsSans-Light.woff2) format("woff2"), url(https://resources.jetbrains.com/storage/jetbrains-sans/JetBrainsSans-Light.woff) format("woff");
            font-weight: 300;
            font-style: normal;
        }

        @font-face {
            font-family: JetBrains Sans;
            src: url(https://resources.jetbrains.com/storage/jetbrains-sans/JetBrainsSans-Regular.woff2) format("woff2"), url(https://resources.jetbrains.com/storage/jetbrains-sans/JetBrainsSans-Regular.woff) format("woff");
            font-weight: 400;
            font-style: normal;
        }

        @font-face {
            font-family: JetBrains Sans;
            src: url(https://resources.jetbrains.com/storage/jetbrains-sans/JetBrainsSans-SemiBold.woff2) format("woff2"), url(https://resources.jetbrains.com/storage/jetbrains-sans/JetBrainsSans-SemiBold.woff) format("woff");
            font-weight: 600;
            font-style: normal;
        }
        
        
        code {
            display: inline;
            word-break: break-word;
            font-size: 15px;
            line-height: inherit;
            font-variant-ligatures: none;
            font-family: JetBrains Sans,monospace;
            white-space: pre-line;
            overflow-wrap: break-word;
        }
        
        figcaption {
            margin-top: 5px;
        }
        
        h2 {
            padding-top: 16px;
            padding-bottom: 8px;
            margin-block-start: 0;
            margin-block-end: 0;
        }
        
        h3 {
            padding-top: 8px;
            padding-bottom: 8px;
            margin-block-start: 0;
            margin-block-end: 0;
        }
        
        h4 {
            padding-top: 4px;
            padding-bottom: 8px;
            margin-block-start: 0;
            margin-block-end: 0;
        }
        
        p {
            padding: 0;
            border: 0;
            line-height: 25px;
            margin-block-start: 0;
            margin-block-end: 0;
            padding-bottom: 8px;
        }
        
        div {
            display: block;
        }
        
        table {
            border-collapse: collapse;
            width: 100%;
            page-break-inside: avoid;
        }
        
        th, td {
            border: 1px solid #c4c4c4;
            padding: 10px;
            text-align: left;
            word-break: break-all;
        }
        
        .entry {
            display: grid;
            grid-template-columns: auto max-content;
            grid-template-areas: "chapter page";
            align-items: end;
            gap: 0 .25rem;
            line-height: 25px;
        }
        
        .toc-link-container{
            grid-area: chapter;
            position: relative;
            overflow: hidden;
        }
        
        .toc-link{
            text-decoration: none;
            color: black;
        }
        
        .toc-link-container::after {
            position: absolute;
            padding-left: .25ch;
            content: " . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . "
            ". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . "
            ". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ";
            text-align: right;
        }
        
        .page {
            grid-area: page;
            width: 30px;
            text-align: right;
        }
        

        .table-wrapper {
            overflow: hidden;
            box-sizing: border-box;
            font: inherit;
        }
        

        .topic {
            page-break-before: always;
        }
        </style></head><body><div><section class="topic"><div><article class="article"><h1 class="main-title">Table of contents</h1><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-901756198">420-2N2-DM Développement d'applications natives I</a></div><div class="page">3</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-932502919">Chapitre 1 : Les bases du langage Go</a></div><div class="page">5</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-1730658332">Section 1 : Le premier programme</a></div><div class="page">6</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-248110659">Section 2 : Les variables et les types de base</a></div><div class="page">9</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#1349313256">Section 3 : Les différentes façons d'écrire des valeurs</a></div><div class="page">13</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#1940140948">Section 4 : Les fonctions</a></div><div class="page">17</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#1658273204">Section 5 : Les conditionnelles</a></div><div class="page">20</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#680588180">Section 6 : Les boucles</a></div><div class="page">24</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#1862194564">Exercices</a></div><div class="page">29</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#2145962609">Références</a></div><div class="page">34</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-1669021325">Chapitre 2 : Les pointeurs</a></div><div class="page">35</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#1692711374">Section 1 : Les pointeurs</a></div><div class="page">38</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-920526733">Section 2 : Appels de fonctions et types de paramètres</a></div><div class="page">40</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#1946580354">Section 3 : Lire des valeurs avec Scanf</a></div><div class="page">44</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#30954075">Section 4 : Validation des entrées</a></div><div class="page">49</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#65243205">Exercices</a></div><div class="page">54</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-845339844">Chapitre 3 : Tableaux et tranches</a></div><div class="page">55</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#220533042">Section 1 : Valeur ou pointeur ?</a></div><div class="page">56</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-1020789983">Section 2 : Tranches</a></div><div class="page">60</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#1928806022">Section 3 : Chaînes de caractères</a></div><div class="page">67</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-1731708154">Exercices</a></div><div class="page">69</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#81604940">Chapitre 4 : La gestion des fichiers</a></div><div class="page">70</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#1804423059">Section 1 : Lire le contenu d&apos;un fichier</a></div><div class="page">71</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#1323286084">Section 2 : Écrire dans un fichier</a></div><div class="page">76</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-153568269">Section 3 : Copier un fichier en ajoutant des numéros de ligne</a></div><div class="page">82</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#1895504192">Section 4 : Autres façons d&apos;ouvrir un fichier</a></div><div class="page">85</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#397306659">Chapitre 5 : Les structures</a></div><div class="page">90</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-1606007203">Section 1 : Valeur vs. pointeur</a></div><div class="page">92</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-254878348">Section 2 : Méthodes</a></div><div class="page">95</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-1486224620">Section 3 : Sérialisation des structures</a></div><div class="page">99</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-1701683408">Chapitre 6 : Gestion de la mémoire</a></div><div class="page">108</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#508122018">Section 1 : La pile d'exécution</a></div><div class="page">110</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-2005119944">Section 2 : Le tas</a></div><div class="page">113</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-14094199">Section 3 : Le vidangeur</a></div><div class="page">116</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-1126436045">Section 4 : Les tranches</a></div><div class="page">117</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-1910369746">Opérations sur les tranches</a></div><div class="page">120</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#1260909113">Chapitre 7 : Structures de données</a></div><div class="page">129</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-1747296416">Section 1 : Les dictionnaires (map)</a></div><div class="page">132</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-1459793511">Section 2 : Les listes chaînées</a></div><div class="page">137</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-1599118020">Chapitre 8 : Fils d&apos;exécution</a></div><div class="page">146</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-1690006333">Section 1 : Retour sur la nature des fonctions</a></div><div class="page">147</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#1136362239">Section 2 : Goroutines</a></div><div class="page">152</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-1096117798">Section 3 : Canaux</a></div><div class="page">156</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#1469899686">Section 4 : WaitGroup</a></div><div class="page">159</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-809859632">Chapitre 9 : Interfaces graphiques</a></div><div class="page">160</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-349098640">Exemple 1 : Allo</a></div><div class="page">161</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-552224670">Exemple 2 : Fenêtres</a></div><div class="page">162</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-881638354">Exemple 3 : Horloge</a></div><div class="page">164</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-1113374634">Exemple 4 : Entrée de texte</a></div><div class="page">166</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#145350209">Exemple 5 : Contenants</a></div><div class="page">167</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#263949245">Exemple 6 : Fichiers</a></div><div class="page">168</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#1054789333">Exemple 7 : Menu</a></div><div class="page">172</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#761221312">Exemple 8 : Listes</a></div><div class="page">175</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#280028766">Exemple 9: MP3</a></div><div class="page">178</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#1691072575">Exemple 10: MP3 avec pause</a></div><div class="page">180</div></div></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-901756198">420-2N2-DM D&eacute;veloppement d'applications natives I</h1><section><h2 id="-901756198#notes-de-cours" data-toc="notes-de-cours#Native1.md-notes-de-cours">Notes de cours</h2><section><h3 id="-901756198#le-langage-de-programmation-go" data-toc="le-langage-de-programmation-go#Native1.md-le-langage-de-programmation-go">Le langage de programmation Go</h3><p id="-901756198#-8xq79e_23"><span class="control" id="-901756198#-8xq79e_24"><span class="emphasis" id="-901756198#-8xq79e_25">Go</span></span> est un langage de programmation <span class="control" id="-901756198#-8xq79e_26">hautes performances</span> con&ccedil;u pour l'efficacit&eacute; et la fonctionnalit&eacute;. D&eacute;velopp&eacute; par Google, Go, &eacute;galement connu sous le nom de <span class="emphasis" id="-901756198#-8xq79e_27">Golang</span>, a &eacute;t&eacute; cr&eacute;&eacute; pour r&eacute;soudre les probl&egrave;mes associ&eacute;s &agrave; des projets de grande envergure impliquant un travail d'&eacute;quipe &eacute;tendu. Par cons&eacute;quent, l'objectif de conception principal pour Go repose sur la simplicit&eacute;, tant pour la construction de logiciels efficaces que pour en am&eacute;liorer la maintenabilit&eacute; globale.</p><p id="-901756198#-8xq79e_28">Go partage des caract&eacute;ristiques communes avec Java, comme &ecirc;tre un langage &agrave; typage statique et disposer d'un <span class="emphasis" id="-901756198#-8xq79e_29">ramasse-miettes</span> ou <span class="emphasis" id="-901756198#-8xq79e_30">vidangeur</span> (en anglais : <span class="emphasis" id="-901756198#-8xq79e_31">garbage collector</span>). Ces caract&eacute;ristiques offrent des protections contre de nombreuses erreurs potentielles qui peuvent &ecirc;tre rencontr&eacute;es dans les langages &agrave; typage dynamique. N&eacute;anmoins, Go offre une approche plus directe et simplifi&eacute;e par rapport &agrave; Java.</p><p id="-901756198#-8xq79e_32">Java est un langage enti&egrave;rement orient&eacute; objet qui utilise des concepts complexes tels que les classes, l'h&eacute;ritage et le polymorphisme. D'autre part, Go adopte un mod&egrave;le plus simple avec des fonctionnalit&eacute;s telles que des fonctions, des <span class="emphasis" id="-901756198#-8xq79e_33">struct</span>s (comparables &agrave; des classes all&eacute;g&eacute;es), et des interfaces permettant une organisation et une r&eacute;utilisation efficaces du code. Cela conduit &agrave; un code plus transparent, donc plus facile &agrave; lire et &agrave; &eacute;crire, ce qui peut s'av&eacute;rer tr&egrave;s b&eacute;n&eacute;fique pour les programmeurs explorant un nouveau langage.</p><p id="-901756198#-8xq79e_34">Une fonctionnalit&eacute; tr&egrave;s attendue ajout&eacute;e dans Go 1.18 est le support pour les <span class="control" id="-901756198#-8xq79e_35">g&eacute;n&eacute;riques</span>. Les g&eacute;n&eacute;riques permettent d'&eacute;crire des fonctions et des types qui peuvent manipuler des valeurs de n'importe quel type, tout en conservant la s&eacute;curit&eacute; des types. C'est un aspect assez similaire &agrave; celui des g&eacute;n&eacute;riques de Java et peut conduire &agrave; un code plus r&eacute;utilisable et plus efficace.</p><p id="-901756198#-8xq79e_36">Parmi les d&eacute;tails plus fins de Go, citons &eacute;galement son <span class="control" id="-901756198#-8xq79e_37">excellent support pour la programmation concurrente</span>, qui utilise tr&egrave;s efficacement les processeurs multic&oelig;urs. Les <span class="control" id="-901756198#-8xq79e_38">goroutines</span> et les <span class="control" id="-901756198#-8xq79e_39">canaux</span> de Go <span class="control" id="-901756198#-8xq79e_40">simplifient les calculs concurrents et parall&egrave;les</span>, offrant des avantages significatifs pour le d&eacute;veloppement web moderne et le d&eacute;veloppement logiciel. De plus, la syntaxe propre et concise de Go est souvent appr&eacute;ci&eacute;e parmi les programmeurs. Que ce soit pour la gestion des cha&icirc;nes ou l'impl&eacute;mentation de structures complexes, la biblioth&egrave;que standard de Go offre des m&eacute;thodes simples pour &eacute;crire du code rapidement et efficacement.</p><p id="-901756198#-8xq79e_41">En outre, Go est &eacute;quip&eacute; d'un ensemble d'outils sophistiqu&eacute;. Celui-ci comprend un outil de couverture de tests, un outil de mesure de performance, un d&eacute;tecteur de conflits, et de la documentation automatis&eacute;e, tous disponibles imm&eacute;diatement &agrave; la port&eacute;e de la main, augmentant consid&eacute;rablement la productivit&eacute; du programmeur.</p><p id="-901756198#-8xq79e_42">En conclusion, Go repr&eacute;sente une voie int&eacute;ressante &agrave; explorer. Avec sa communaut&eacute; en croissance, son solide soutien d'entreprise et son adoption de plus en plus r&eacute;pandue pour l'&eacute;criture d'applications modernes, robustes et &eacute;volutives, l'apprentissage de Go serait certainement un temps bien pass&eacute;. Bonne programmation !</p></section></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-932502919">Chapitre 1 : Les bases du langage Go</h1><section><h2 id="-932502919#avant-de-commencer" data-toc="avant-de-commencer#c01-Les-bases-du-langage-Go.md-avant-de-commencer">Avant de commencer</h2><ol class="list list-decimal" id="-932502919#am105a_27" type="1" start="1"><li class="list-item" id="-932502919#am105a_28"><p>Vous devez Utiliser votre compte JetBrains &eacute;ducation </p><ul class="list" id="-932502919#am105a_29" start="1"><li class="list-item" id="-932502919#am105a_30"><p>si vous n'en avez pas, cr&eacute;ez-en un ici (<a href="https://www.jetbrains.com/fr-fr/community/education/#students">https://www.jetbrains.com/fr-fr/community/education/#students</a>)</p></li></ul></li><li class="list-item" id="-932502919#am105a_32"><p>Installez GoLand (<a href="https://www.jetbrains.com/go/">https://www.jetbrains.com/go/</a>)</p><ul class="list" id="-932502919#am105a_34" start="1"><li class="list-item" id="-932502919#am105a_35"><p>vous pouvez utiliser d'autres logiciels pour cr&eacute;er vos programmes Go, mais il est fortement recommand&eacute; d'utiliser GoLand</p></li></ul></li><li class="list-item" id="-932502919#am105a_36"><p>Installez Go (<a href="https://go.dev">https://go.dev</a>)</p><ol class="list list-decimal" id="-932502919#am105a_38" type="1" start="1"><li class="list-item" id="-932502919#am105a_39"><p>le plus simple est d'installer &agrave; travers l'interface de Goland (<a href="https://www.jetbrains.com/go/learn/">https://www.jetbrains.com/go/learn/</a>)</p><ul class="list" id="-932502919#am105a_41" start="1"><li class="list-item" id="-932502919#am105a_42"><p>cr&eacute;ez un nouveau projet Go</p></li><li class="list-item" id="-932502919#am105a_43"><p>ajoutez un <span class="emphasis" id="-932502919#am105a_44">SDK</span> Go, en t&eacute;l&eacute;chargeant la version la plus r&eacute;cente</p></li></ul></li><li class="list-item" id="-932502919#am105a_45"><p>il est possible d'installer Go &agrave; partir du site web (<a href="https://go.dev">https://go.dev</a>)</p><ul class="list" id="-932502919#am105a_47" start="1"><li class="list-item" id="-932502919#am105a_48"><p>c'est l'option &agrave; choisir si vous n'utilisez pas GoLand</p></li></ul></li></ol></li></ol></section><section><h2 id="-932502919#code" data-toc="code#c01-Les-bases-du-langage-Go.md-code">Code</h2><p id="-932502919#am105a_49">Code chapitre 1 (<a href="https://github.com/profdenis/native1/tree/master/chap1">https://github.com/profdenis/native1/tree/master/chap1</a>)</p></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-1730658332">Section 1 : Le premier programme</h1><p id="-1730658332#-uly3or_77">Ce n'est pas original, mais le premier programme dans un nouveau langage de programmation est presque toujours le fameux <span class="emphasis" id="-1730658332#-uly3or_79">Hello World !</span>.</p><div class="code-block detached" id="-1730658332#-uly3or_78"><pre><code class="language-go">package main

import &quot;fmt&quot;

func main() {
	fmt.Println(&quot;Hello World !&quot;)
}</code></pre></div><section><h2 id="-1730658332#explications" data-toc="explications#c01s01-Le-premier-programme.md-explications">Explications</h2><ol class="list list-decimal" id="-1730658332#-uly3or_80" type="1" start="1"><li class="list-item" id="-1730658332#-uly3or_81"><p><span class="inline-code" id="-1730658332#-uly3or_82">package main</span>: tous les fichiers <span class="inline-code" id="-1730658332#-uly3or_83">.go</span> doivent d&eacute;buter par une d&eacute;claration de paquet (<span class="emphasis" id="-1730658332#-uly3or_84">package</span>), et lorsqu'on veut un <span class="emphasis" id="-1730658332#-uly3or_85">ex&eacute;cutable</span>, le paquet doit &ecirc;tre <span class="inline-code" id="-1730658332#-uly3or_86">main</span>, et il doit y avoir une fonction appel&eacute;e <span class="inline-code" id="-1730658332#-uly3or_87">main</span>.</p></li><li class="list-item" id="-1730658332#-uly3or_88"><p><span class="inline-code" id="-1730658332#-uly3or_89">import &quot;fmt&quot;</span>: on doit importer le paquet <span class="inline-code" id="-1730658332#-uly3or_90">fmt</span> pour pouvoir utiliser la fonction <span class="inline-code" id="-1730658332#-uly3or_91">Println</span> pour &eacute;crire du texte sur la sortie standard (<span class="emphasis" id="-1730658332#-uly3or_92">standard output</span>, ou <span class="emphasis" id="-1730658332#-uly3or_93">stdout</span>).</p></li><li class="list-item" id="-1730658332#-uly3or_94"><p><span class="inline-code" id="-1730658332#-uly3or_95">func main() {</span>: d&eacute;claration de la fonction <span class="inline-code" id="-1730658332#-uly3or_96">main</span>, qui sera le point de d&eacute;part de notre programme ex&eacute;cutable.</p></li><li class="list-item" id="-1730658332#-uly3or_97"><p><span class="inline-code" id="-1730658332#-uly3or_98">fmt.Println(&quot;Hello World !&quot;)</span>: le contenu de la fonction est &eacute;videmment tr&egrave;s simple, on &eacute;crit simplement une cha&icirc;ne de caract&egrave;res sur le <span class="emphasis" id="-1730658332#-uly3or_99">stdout</span></p><ol class="list list-decimal" id="-1730658332#-uly3or_100" type="1" start="1"><li class="list-item" id="-1730658332#-uly3or_101"><p><span class="inline-code" id="-1730658332#-uly3or_102">Print</span>--&gt; imprime (ou &eacute;crit), <span class="inline-code" id="-1730658332#-uly3or_103">ln</span>--&gt; ajoute un changement de ligne (un <span class="inline-code" id="-1730658332#-uly3or_104">\n</span>) &agrave; la fin</p></li><li class="list-item" id="-1730658332#-uly3or_105"><p>les fonctions et les variables <span class="control" id="-1730658332#-uly3or_106">publiques</span> commencent toujours avec une lettre majuscule en Go : si la fonction &eacute;tait d&eacute;finie avec une lettre minuscule au d&eacute;but, soit <span class="inline-code" id="-1730658332#-uly3or_107">println</span> &agrave; la place, la fonction serait <span class="control" id="-1730658332#-uly3or_108">priv&eacute;e</span> et on ne pourrait pas l'appeler</p></li><li class="list-item" id="-1730658332#-uly3or_109"><p>il existe plusieurs autres fonctions dans le paquet <span class="inline-code" id="-1730658332#-uly3or_110">fmt</span>, pour &eacute;crire sur le <span class="emphasis" id="-1730658332#-uly3or_111">stdout</span> ou ailleurs</p></li></ol></li><li class="list-item" id="-1730658332#-uly3or_112"><p><span class="inline-code" id="-1730658332#-uly3or_113">}</span>: les blocs de code sont d&eacute;limit&eacute;s par des accolades (comme en Java), mais il n'y a pas de point-virgules <span class="inline-code" id="-1730658332#-uly3or_114">;</span> &agrave; la fin des lignes qui contiennent des &eacute;nonc&eacute;s qui ne n&eacute;cessitent pas de d&eacute;finition de bloc</p></li></ol></section><section><h2 id="-1730658332#compilation-et-ex-cution" data-toc="compilation-et-ex-cution#c01s01-Le-premier-programme.md-compilation-et-ex-cution">Compilation et ex&eacute;cution</h2><p id="-1730658332#-uly3or_115">La compilation avec Go peut &ecirc;tre d&eacute;crite en plusieurs &eacute;tapes :</p><ol class="list list-decimal" id="-1730658332#-uly3or_116" type="1" start="1"><li class="list-item" id="-1730658332#-uly3or_117"><p id="-1730658332#-uly3or_118"><span class="control" id="-1730658332#-uly3or_119">Analyse Lexicale et Syntaxique</span>: Le compilateur Go lit le texte du programme source dans des fichiers <span class="inline-code" id="-1730658332#-uly3or_120">.go</span> caract&egrave;re par caract&egrave;re. En parcourant le texte, il identifie les mots-cl&eacute;s, les identificateurs, les litt&eacute;raux, etc. C'est l'expression du programme sous forme d'arborescence de syntaxe abstraite (AST).</p></li><li class="list-item" id="-1730658332#-uly3or_121"><p id="-1730658332#-uly3or_122"><span class="control" id="-1730658332#-uly3or_123">Analyse S&eacute;mantique</span>: La prochaine &eacute;tape est l'analyse s&eacute;mantique o&ugrave; le compilateur v&eacute;rifie les d&eacute;clarations et les affectations de types pour s'assurer qu'elles sont logiquement correctes dans le contexte du langage de programmation Go. Par exemple, affecter une valeur de cha&icirc;ne &agrave; une variable d&eacute;clar&eacute;e comme un entier serait d&eacute;tect&eacute; comme une erreur de type lors de cette &eacute;tape.</p></li><li class="list-item" id="-1730658332#-uly3or_124"><p id="-1730658332#-uly3or_125"><span class="control" id="-1730658332#-uly3or_126">G&eacute;n&eacute;ration du code interm&eacute;diaire</span>: Go g&eacute;n&egrave;re un code interm&eacute;diaire appel&eacute; <span class="emphasis" id="-1730658332#-uly3or_127">SSA (Single Static Assignment)</span>, qui simplifie l'optimisation et la traduction ult&eacute;rieure en code machine.</p></li><li class="list-item" id="-1730658332#-uly3or_128"><p id="-1730658332#-uly3or_129"><span class="control" id="-1730658332#-uly3or_130">Optimisation</span>: Go effectue plusieurs optimisations pour am&eacute;liorer la performance du programme final, y compris l'&eacute;limination de code mort (code qui ne peut jamais &ecirc;tre ex&eacute;cut&eacute;), l' <span class="emphasis" id="-1730658332#-uly3or_131">inlining</span> (remplacer une invocation de fonction par le corps de la fonction), etc.</p></li><li class="list-item" id="-1730658332#-uly3or_132"><p id="-1730658332#-uly3or_133"><span class="control" id="-1730658332#-uly3or_134">G&eacute;n&eacute;ration du code machine</span>: Enfin, Go convertit le code SSA en code binaire pour la machine cible. Cela inclut &eacute;galement le regroupement de toutes les d&eacute;pendances (autres packages Go) n&eacute;cessaires au programme. Le code machine est &eacute;crit dans un fichier (par exemple, un fichier ex&eacute;cutable <span class="inline-code" id="-1730658332#-uly3or_135">.exe</span> dans Windows).</p></li></ol><p id="-1730658332#-uly3or_136">Le code binaire peut alors &ecirc;tre ex&eacute;cut&eacute; par l'ordinateur. Dans ce processus, <span class="control" id="-1730658332#-uly3or_137">il est important de comprendre que le GoLang est un langage compil&eacute; vers une architecture sp&eacute;cifique</span> (x86, ARM, etc.) <span class="control" id="-1730658332#-uly3or_138">et un syst&egrave;me d'exploitation sp&eacute;cifique</span> (Linux, Windows, OSX, etc.).</p><p id="-1730658332#-uly3or_139">Par cons&eacute;quent, pour ex&eacute;cuter un programme Go sur une plate-forme diff&eacute;rente, vous devrez le recompiler pour cette plate-forme.</p><p id="-1730658332#-uly3or_140">Supposons que l'exemple pr&eacute;c&eacute;dent a &eacute;t&eacute; enregistr&eacute; dans le fichier <span class="inline-code" id="-1730658332#-uly3or_141">main.go</span> Pour compiler ce programme, vous utiliserez la commande <span class="inline-code" id="-1730658332#-uly3or_142">go build</span> pour le compiler, ce qui produira un fichier binaire ex&eacute;cutable.</p><div class="code-block detached" id="-1730658332#-uly3or_143"><pre><code class="language-bash">go build main.go</code></pre></div><p id="-1730658332#-uly3or_144">Ensuite, vous pouvez ex&eacute;cuter le programme compil&eacute; :</p><div class="code-block detached" id="-1730658332#-uly3or_145"><pre><code class="language-bash">./main</code></pre></div><p id="-1730658332#-uly3or_146">Il imprimera <span class="inline-code" id="-1730658332#-uly3or_147">&quot;Hello, world!&quot;</span> &agrave; la sortie.</p><p id="-1730658332#-uly3or_148">Notez que vous pouvez &eacute;galement utiliser la commande <span class="inline-code" id="-1730658332#-uly3or_149">go run</span> pour compiler et ex&eacute;cuter le programme en une seule &eacute;tape, bien que cela ne laisse pas d'ex&eacute;cutable persistant.</p><p id="-1730658332#-uly3or_150">C'est un aper&ccedil;u de haut niveau, et en r&eacute;alit&eacute; le processus est assez complexe. Le but ici n'est pas de comprendre les d&eacute;tails du processus de compilation, mais de comprendre l'id&eacute;e g&eacute;n&eacute;rale.</p></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-248110659">Section 2 : Les variables et les types de base</h1><p id="-248110659#-gqd4np_92">R&eacute;f&eacute;rence : A tour of Go (<a href="https://go.dev/tour/basics/11">https://go.dev/tour/basics/11</a>)</p><div class="table-wrapper detached"><table id="-248110659#-gqd4np_93"><tr class="header-row" id="-248110659#-gqd4np_96"><th id="-248110659#-gqd4np_97"><p>cat&eacute;gorie</p></th><th id="-248110659#-gqd4np_98"><p>types</p></th></tr><tr class="" id="-248110659#-gqd4np_99"><td id="-248110659#-gqd4np_100"><p>logique</p></td><td id="-248110659#-gqd4np_101"><p><span class="inline-code" id="-248110659#-gqd4np_102">bool</span></p></td></tr><tr class="" id="-248110659#-gqd4np_103"><td id="-248110659#-gqd4np_104"><p>caract&egrave;res</p></td><td id="-248110659#-gqd4np_105"><p><span class="inline-code" id="-248110659#-gqd4np_106">string</span>, <span class="inline-code" id="-248110659#-gqd4np_107">rune</span> (alias pour <span class="inline-code" id="-248110659#-gqd4np_108">int32</span>)</p></td></tr><tr class="" id="-248110659#-gqd4np_109"><td id="-248110659#-gqd4np_110"><p>nombres entiers (sign&eacute;s)</p></td><td id="-248110659#-gqd4np_111"><p><span class="inline-code" id="-248110659#-gqd4np_112">int</span>, <span class="inline-code" id="-248110659#-gqd4np_113">int8</span>, <span class="inline-code" id="-248110659#-gqd4np_114">int16</span>, <span class="inline-code" id="-248110659#-gqd4np_115">int32</span>, <span class="inline-code" id="-248110659#-gqd4np_116">int64</span></p></td></tr><tr class="" id="-248110659#-gqd4np_117"><td id="-248110659#-gqd4np_118"><p>nombres entiers positifs (non sign&eacute;s)</p></td><td id="-248110659#-gqd4np_119"><p><span class="inline-code" id="-248110659#-gqd4np_120">uint</span>, <span class="inline-code" id="-248110659#-gqd4np_121">uint8</span>, <span class="inline-code" id="-248110659#-gqd4np_122">uint16</span>, <span class="inline-code" id="-248110659#-gqd4np_123">uint32</span>, <span class="inline-code" id="-248110659#-gqd4np_124">uint64</span>, <span class="inline-code" id="-248110659#-gqd4np_125">uintptr</span></p></td></tr><tr class="" id="-248110659#-gqd4np_126"><td id="-248110659#-gqd4np_127"><p>donn&eacute;es brutes</p></td><td id="-248110659#-gqd4np_128"><p><span class="inline-code" id="-248110659#-gqd4np_129">byte</span> (alias for <span class="inline-code" id="-248110659#-gqd4np_130">uint8</span>)</p></td></tr><tr class="" id="-248110659#-gqd4np_131"><td id="-248110659#-gqd4np_132"><p>nombres r&eacute;els</p></td><td id="-248110659#-gqd4np_133"><p><span class="inline-code" id="-248110659#-gqd4np_134">float32</span>, <span class="inline-code" id="-248110659#-gqd4np_135">float64</span></p></td></tr><tr class="" id="-248110659#-gqd4np_136"><td id="-248110659#-gqd4np_137"><p>nombres complexes</p></td><td id="-248110659#-gqd4np_138"><p><span class="inline-code" id="-248110659#-gqd4np_139">complex64</span>, <span class="inline-code" id="-248110659#-gqd4np_140">complex128</span></p></td></tr></table></div><p id="-248110659#-gqd4np_94">Les types <span class="inline-code" id="-248110659#-gqd4np_141">int</span>, <span class="inline-code" id="-248110659#-gqd4np_142">uint</span>, et <span class="inline-code" id="-248110659#-gqd4np_143">uintptr</span> ont une largeur de 32 bits sur un syst&egrave;me 32-bit et une largeur de 64 bits sur un syst&egrave;me 64-bit. Quand vous avez besoin d'un nombre entier, vous devriez utiliser <span class="inline-code" id="-248110659#-gqd4np_144">int</span> &agrave; moins d'avoir une raison sp&eacute;cifique d'utiliser une taille pr&eacute;cise ou un nombre non-sign&eacute;.</p><section><h2 id="-248110659#d-finition-avec-var-et-sans-valeur-initiale" data-toc="d-finition-avec-var-et-sans-valeur-initiale#c01s02-Les-variables-et-les-types-de-base.md-d-finition-avec-var-et-sans-valeur-initiale">D&eacute;finition avec var et sans valeur initiale</h2><p id="-248110659#-gqd4np_146">Une d&eacute;claration de type <span class="inline-code" id="-248110659#-gqd4np_147">var</span> commence avec le mot-cl&eacute; <span class="inline-code" id="-248110659#-gqd4np_148">var</span>, suivi par le nom de la variable ou une liste de noms de variables s&eacute;par&eacute;es par des virgules, et suivi par le type de la ou les variable(s).</p><div class="code-block detached" id="-248110659#-gqd4np_149"><pre><code class="language-go">package main

import &quot;fmt&quot;

func variables2a() {
	var i int
	var finished bool
	var name string
	var x, y float32

	fmt.Println(i)
	fmt.Println(finished)
	fmt.Println(name)
	fmt.Println(x, y)
}</code></pre></div><p id="-248110659#-gqd4np_150">Les variables vont &ecirc;tre automatiquement initialis&eacute;es avec leur <span class="control" id="-248110659#-gqd4np_151">valeur z&eacute;ro</span> (ou leur valeur par d&eacute;faut), qui d&eacute;pend du type de la variable. Pour les nombres, la valeur par d&eacute;faut est <span class="inline-code" id="-248110659#-gqd4np_152">0</span>, pour les bool&eacute;ens la valeur est <span class="inline-code" id="-248110659#-gqd4np_153">false</span>, et pour les cha&icirc;nes de caract&egrave;res, la cha&icirc;ne vide <span class="inline-code" id="-248110659#-gqd4np_154">&quot;&quot;</span> est utilis&eacute;e comme valeur z&eacute;ro.</p></section><section><h2 id="-248110659#d-finition-avec-var-et-valeur-initiale" data-toc="d-finition-avec-var-et-valeur-initiale#c01s02-Les-variables-et-les-types-de-base.md-d-finition-avec-var-et-valeur-initiale">D&eacute;finition avec var et valeur initiale</h2><p id="-248110659#-gqd4np_156">On peut aussi pr&eacute;ciser une valeur pour initialiser une variable au moment de la d&eacute;claration.</p><div class="code-block detached" id="-248110659#-gqd4np_157"><pre><code class="language-go">package main

import &quot;fmt&quot;

func variables2b() {
	var i int = 5
	var finished bool = true
	var name string = &quot;Denis&quot;
	var x, y float32 = 2.5, -1.4

	fmt.Println(i)
	fmt.Println(finished)
	fmt.Println(name)
	fmt.Println(x, y)
}</code></pre></div><p id="-248110659#-gqd4np_158">Si une valeur initiale est sp&eacute;cifi&eacute;e, alors il n'est pas n&eacute;cessaire de sp&eacute;cifier le type. La variable prendra automatiquement le type de la valeur utilis&eacute;e. L'exemple suivant est &eacute;quivalent &agrave; l'exemple pr&eacute;c&eacute;dent, &agrave; une diff&eacute;rence pr&egrave;s : les variables <span class="inline-code" id="-248110659#-gqd4np_159">x</span> et <span class="inline-code" id="-248110659#-gqd4np_160">y</span> sont maintenant de type <span class="inline-code" id="-248110659#-gqd4np_161">float64</span>, et non <span class="inline-code" id="-248110659#-gqd4np_162">float32</span>. Le type pour les nombres r&eacute;els est <span class="inline-code" id="-248110659#-gqd4np_163">float64</span> par d&eacute;faut.</p><div class="code-block detached" id="-248110659#-gqd4np_164"><pre><code class="language-go">package main

import &quot;fmt&quot;

func variables2c() {
	var i = 5
	var finished = true
	var name = &quot;Denis&quot;
	var x, y = 2.5, -1.4

	fmt.Println(i)
	fmt.Println(finished)
	fmt.Println(name)
	fmt.Println(x, y)
	fmt.Printf(&quot;%T\n&quot;, x)
}</code></pre></div><p id="-248110659#-gqd4np_165">Sortie :</p><div class="code-block detached" id="-248110659#-gqd4np_166"><pre><code class="language-none">5
true
Denis
2.5 -1.4
float64</code></pre></div><p id="-248110659#-gqd4np_167">La derni&egrave;re ligne de code &eacute;crit le type de la variable <span class="inline-code" id="-248110659#-gqd4np_168">x</span> sur la sortie standard (le <span class="emphasis" id="-248110659#-gqd4np_169">stdout</span>). Plus de d&eacute;tails sur les sorties seront donn&eacute;s dans la section suivante.</p><section><h3 id="-248110659#constantes" data-toc="constantes#c01s02-Les-variables-et-les-types-de-base.md-constantes">Constantes</h3><p id="-248110659#-gqd4np_170">On peut d&eacute;finir une constante en rempla&ccedil;ant <span class="inline-code" id="-248110659#-gqd4np_171">var</span> par <span class="inline-code" id="-248110659#-gqd4np_172">const</span>. Essayer de modifier la valeur d'une constante va cr&eacute;er une erreur de compilation.</p></section></section><section><h2 id="-248110659#d-finition-avec-le-raccourci" data-toc="d-finition-avec-le-raccourci#c01s02-Les-variables-et-les-types-de-base.md-d-finition-avec-le-raccourci">D&eacute;finition avec le raccourci :=</h2><p id="-248110659#-gqd4np_174">Il est possible d'utiliser un raccourci pour les d&eacute;finitions de variables avec valeurs initiales. L'exemple suivant est &eacute;quivalent &agrave; l'exemple pr&eacute;c&eacute;dent, sauf que <span class="inline-code" id="-248110659#-gqd4np_175">x</span> et <span class="inline-code" id="-248110659#-gqd4np_176">y</span> sont d&eacute;finies s&eacute;par&eacute;ment.</p><div class="code-block detached" id="-248110659#-gqd4np_177"><pre><code class="language-go">package main

import &quot;fmt&quot;

func variables2d() {
	i := 5
	finished := true
	name := &quot;Denis&quot;
	x := 2.5
	y := -1.4

	fmt.Println(i)
	fmt.Println(finished)
	fmt.Println(name)
	fmt.Println(x, y)
	fmt.Printf(&quot;%T\n&quot;, x)
}</code></pre></div><p id="-248110659#-gqd4np_178">Il est aussi possible de d&eacute;finir 2 variables ou plus &agrave; la fois sur une m&ecirc;me ligne, dans la m&ecirc;me d&eacute;claration comme ceci <span class="inline-code" id="-248110659#-gqd4np_179">x, y := 2.5, -1.4</span>, mais il est souvent pr&eacute;f&eacute;rable en g&eacute;n&eacute;ral de d&eacute;finir seulement une variable &agrave; la fois pour faciliter la lecture et la compr&eacute;hension du code. Dans des situations simples, comme dans l'exemple qui vient d'&ecirc;tre donn&eacute;, &ccedil;a peut aller, mais avec des initialisations plus complexes, c'est pr&eacute;f&eacute;rable de s&eacute;parer les d&eacute;clarations. Un endroit courant o&ugrave; plus d'une variable est d&eacute;finie dans une seule d&eacute;claration est lorsqu'une fonction retourne plus d'une valeur, ou en dans une boucle sur un intervalle, comme un <span class="inline-code" id="-248110659#-gqd4np_180">range</span> sur un tableau par exemple. Plus de d&eacute;tails viendront dans les prochaines sections.</p></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="1349313256">Section 3 : Les diff&eacute;rentes fa&ccedil;ons d'&eacute;crire des valeurs</h1><p id="1349313256#derubu_116">En plus des fonctions <span class="inline-code" id="1349313256#derubu_118">Print</span>, <span class="inline-code" id="1349313256#derubu_119">Println</span> et <span class="inline-code" id="1349313256#derubu_120">Printf</span> qui sont utilis&eacute;es pour &eacute;crire sur le <span class="emphasis" id="1349313256#derubu_121">stdout</span>, le paquet <span class="inline-code" id="1349313256#derubu_122">fmt</span> contient des fonctions pour &eacute;crire dans une cha&icirc;ne de caract&egrave;res (<span class="inline-code" id="1349313256#derubu_123">Sprint</span>, <span class="inline-code" id="1349313256#derubu_124">Sprintln</span>, <span class="inline-code" id="1349313256#derubu_125">Sprintf</span>) ou dans un fichier (<span class="inline-code" id="1349313256#derubu_126">Fprint</span>, <span class="inline-code" id="1349313256#derubu_127">Fprintln</span>, <span class="inline-code" id="1349313256#derubu_128">Fprintf</span>).</p><ul class="list" id="1349313256#derubu_117" start="1"><li class="list-item" id="1349313256#derubu_129"><p>Les fonctions se terminant par <span class="emphasis" id="1349313256#derubu_130">ln</span> ajoutent un changement de ligne (<span class="inline-code" id="1349313256#derubu_131">\n</span>) &agrave; la fin de la cha&icirc;ne de caract&egrave;res &agrave; &eacute;crire.</p></li><li class="list-item" id="1349313256#derubu_132"><p>Les fonctions se terminant par un <span class="emphasis" id="1349313256#derubu_133">f</span> utilisent une syntaxe sp&eacute;ciale pour <span class="control" id="1349313256#derubu_134">formatter</span> les cha&icirc;nes de caract&egrave;res.</p></li><li class="list-item" id="1349313256#derubu_135"><p>Les fonctions commen&ccedil;ant avec un <span class="emphasis" id="1349313256#derubu_136">S</span> &eacute;crivent dans une cha&icirc;ne de caract&egrave;res (<span class="emphasis" id="1349313256#derubu_137">S</span> pour <span class="emphasis" id="1349313256#derubu_138">string</span>)</p></li><li class="list-item" id="1349313256#derubu_139"><p>Les fonctions commen&ccedil;ant avec un <span class="emphasis" id="1349313256#derubu_140">F</span> &eacute;crivent dans un fichier (<span class="emphasis" id="1349313256#derubu_141">F</span> pour <span class="emphasis" id="1349313256#derubu_142">file</span>) </p><ul class="list" id="1349313256#derubu_143" start="1"><li class="list-item" id="1349313256#derubu_144"><p>Les fonctions sur les fichiers seront pr&eacute;sent&eacute;es plus loin, dans le chapitre consacr&eacute; &agrave; la gestion des fichiers.</p></li></ul></li></ul><section><h2 id="1349313256#crire-dans-une-cha-ne-de-caract-res" data-toc="crire-dans-une-cha-ne-de-caract-res#c01s03-Les-differentes-facons-d-ecrire-des-valeurs.md-crire-dans-une-cha-ne-de-caract-res">&Eacute;crire dans une cha&icirc;ne de caract&egrave;res</h2><div class="code-block detached" id="1349313256#derubu_145"><pre><code class="language-go">package main

import &quot;fmt&quot;

func print1() {
	year := 2024
	output := fmt.Sprintln(&quot;année =&quot;, year)
	fmt.Println(output)
}</code></pre></div><p id="1349313256#derubu_146">Dans cet exemple simplifi&eacute;, il serait pr&eacute;f&eacute;rable d'utiliser <span class="inline-code" id="1349313256#derubu_147">Println</span> directement sur les deux valeurs &agrave; &eacute;crire (<span class="inline-code" id="1349313256#derubu_148">fmt.Pprintln(&quot;ann&eacute;e =&quot;, year)</span>), mais dans un exemple plus complexe, lorsqu'il est n&eacute;cessaire d'&eacute;crire la m&ecirc;me cha&icirc;ne de caract&egrave;res &agrave; plusieurs reprises, possiblement &agrave; des endroits diff&eacute;rents (<span class="emphasis" id="1349313256#derubu_149">stdout</span>, fichier, ...), &eacute;crire dans une cha&icirc;ne en premier peut simplifier le code plus loin dans le programme, surtout si on a besoin de formatter les valeurs de fa&ccedil;on particuli&egrave;re.</p></section><section><h2 id="1349313256#crire-selon-un-format" data-toc="crire-selon-un-format#c01s03-Les-differentes-facons-d-ecrire-des-valeurs.md-crire-selon-un-format">&Eacute;crire selon un format</h2><p id="1349313256#derubu_150">Le m&ecirc;me principe s'applique aux fonctions <span class="inline-code" id="1349313256#derubu_151">Printf</span>, <span class="inline-code" id="1349313256#derubu_152">Sprintf</span> et <span class="inline-code" id="1349313256#derubu_153">Fprintf</span>: une cha&icirc;ne de caract&egrave;res d&eacute;crivant le format doit &ecirc;tre donn&eacute;e comme premier argument aux fonctions, suivie d'une ou plusieurs valeurs &agrave; formatter.</p><section><h3 id="1349313256#nombres-entiers" data-toc="nombres-entiers#c01s03-Les-differentes-facons-d-ecrire-des-valeurs.md-nombres-entiers">Nombres entiers</h3><div class="code-block detached" id="1349313256#derubu_154"><pre><code class="language-go">package main

import &quot;fmt&quot;

func print2() {
	year := 2024
	month := 1
	day := 5
	
	fmt.Printf(&quot;année = %d\n&quot;, year)
	fmt.Printf(&quot;%d-%d-%d\n&quot;, year, month, day)
	fmt.Printf(&quot;%4d-%2d-%2d\n&quot;, year, month, day)
	fmt.Printf(&quot;%4d-%02d-%02d\n&quot;, year, month, day)
}</code></pre></div><p id="1349313256#derubu_155">Sortie :</p><div class="code-block detached" id="1349313256#derubu_156"><pre><code class="language-none">année = 2024
2024-1-5
2024- 1- 5
2024-01-05</code></pre></div><p id="1349313256#derubu_157">La cha&icirc;ne de caract&egrave;res d&eacute;crivant le format (<span class="emphasis" id="1349313256#derubu_158">cha&icirc;ne de format</span>, ou <span class="emphasis" id="1349313256#derubu_159">format string</span> en anglais) doit inclure au moins une entr&eacute;e d&eacute;butant par le caract&egrave;re <span class="inline-code" id="1349313256#derubu_160">%</span>, suivi par la description du format. Dans l'exemple pr&eacute;c&eacute;dent, il y a 4 sorties. Dans la premi&egrave;re, la sortie sera identique &agrave; l'exemple pr&eacute;c&eacute;dent. Le <span class="inline-code" id="1349313256#derubu_161">%d</span> va &ecirc;tre remplac&eacute; par la valeur de la variable <span class="inline-code" id="1349313256#derubu_162">year</span>. Le <span class="inline-code" id="1349313256#derubu_163">d</span> indique que la valeur sera un nombre entier en base 10 (<span class="emphasis" id="1349313256#derubu_164">d&eacute;cimal</span>). On pourrait utiliser</p><ul class="list" id="1349313256#derubu_165" start="1"><li class="list-item" id="1349313256#derubu_166"><p><span class="inline-code" id="1349313256#derubu_167">%x</span> pour un nombre entier en base 16 (<span class="emphasis" id="1349313256#derubu_168">hexad&eacute;cimal</span>)</p></li><li class="list-item" id="1349313256#derubu_169"><p><span class="inline-code" id="1349313256#derubu_170">%o</span> pour un nombre entier en base 8 (<span class="emphasis" id="1349313256#derubu_171">octal</span>)</p></li><li class="list-item" id="1349313256#derubu_172"><p><span class="inline-code" id="1349313256#derubu_173">%b</span> pour un nombre entier en base 2 (<span class="emphasis" id="1349313256#derubu_174">binaire</span>)</p></li></ul><p id="1349313256#derubu_175">Dans la deuxi&egrave;me sortie, il y a 3 formats &agrave; l'int&eacute;rieur de la cha&icirc;ne de format, et ils sont s&eacute;par&eacute;s par des tirets qui ne font pas partie des formats, mais qui feront partie de la sortie. Le probl&egrave;me est que la sortie n'est pas tr&egrave;s belle parce que les valeurs pour le mois et la journ&eacute;e sont plus petites que 10, alors qu'habituellement, on r&eacute;serve 2 emplacements (ou 2 colonnes) pour ces valeurs m&ecirc;me si elles n'en n'ont pas besoin.</p><p id="1349313256#derubu_176">On peut remplacer le deuxi&egrave;me format par celui-ci : <span class="inline-code" id="1349313256#derubu_177">&quot;%4d-%2d-%2d\n&quot;</span>. La sortie sera alors <span class="inline-code" id="1349313256#derubu_178">2024- 1- 5</span>, ce qui n'est pas vraiment mieux. On sp&eacute;cifie que l'on veut avoir 4 colonnes pour l'ann&eacute;e, 2 colonnes pour le mois et aussi 2 colonnes pour le jour, mais par d&eacute;faut, les colonnes libres sont remplies avec des espaces.</p><p id="1349313256#derubu_179">Si on remplace le deuxi&egrave;me format par celui-ci : <span class="inline-code" id="1349313256#derubu_180">&quot;%4d-%02d-%02d&quot;</span>, alors les colonnes libres seront remplies par des z&eacute;ros, ce qui correspond au format habituel <span class="inline-code" id="1349313256#derubu_181">2024-01-05</span>.</p><p id="1349313256#derubu_182">Cet exemple montre comment formatter une date dans un format pr&eacute;cis, mais il existe plusieurs autres formats possibles. Formatter des dates est un besoin commun, qui doit supporter des formats diff&eacute;rents selon les param&egrave;tres de localisation de l'application. Le paquet <span class="inline-code" id="1349313256#derubu_183">time</span> peut &ecirc;tre utilis&eacute; pour, entre autres, formatter les dates et les heures. Pour plus de d&eacute;tails : Date and time format in Go cheatsheet (<a href="https://gosamples.dev/date-time-format-cheatsheet/">https://gosamples.dev/date-time-format-cheatsheet/</a>)</p></section><section><h3 id="1349313256#formatter-d-autres-types" data-toc="formatter-d-autres-types#c01s03-Les-differentes-facons-d-ecrire-des-valeurs.md-formatter-d-autres-types">Formatter d'autres types</h3><p id="1349313256#derubu_185">R&eacute;f&eacute;rence : Paquet <span class="inline-code" id="1349313256#derubu_187">fmt</span> (<a href="https://pkg.go.dev/fmt">https://pkg.go.dev/fmt</a>)</p><p id="1349313256#derubu_188">Les formats les plus courants :</p><div class="table-wrapper detached"><table id="1349313256#derubu_189"><tr class="header-row" id="1349313256#derubu_190"><th id="1349313256#derubu_191"><p>Formats</p></th><th id="1349313256#derubu_192"><p>D&eacute;tails</p></th></tr><tr class="" id="1349313256#derubu_193"><td id="1349313256#derubu_194"><p><span class="inline-code" id="1349313256#derubu_195">%v</span></p></td><td id="1349313256#derubu_196"><p>format par d&eacute;faut</p></td></tr><tr class="" id="1349313256#derubu_197"><td id="1349313256#derubu_198"><p><span class="inline-code" id="1349313256#derubu_199">%d</span>, <span class="inline-code" id="1349313256#derubu_200">%x</span>, <span class="inline-code" id="1349313256#derubu_201">%b</span></p></td><td id="1349313256#derubu_202"><p>nombres entiers en bases 10, 16 et 2</p></td></tr><tr class="" id="1349313256#derubu_203"><td id="1349313256#derubu_204"><p><span class="inline-code" id="1349313256#derubu_205">%f</span>, <span class="inline-code" id="1349313256#derubu_206">%F</span></p></td><td id="1349313256#derubu_207"><p>nombres r&eacute;els, avec un point, sans exposant</p></td></tr><tr class="" id="1349313256#derubu_208"><td id="1349313256#derubu_209"><p><span class="inline-code" id="1349313256#derubu_210">%e</span>, <span class="inline-code" id="1349313256#derubu_211">%E</span></p></td><td id="1349313256#derubu_212"><p>nombres r&eacute;els, notation scientifique</p></td></tr><tr class="" id="1349313256#derubu_213"><td id="1349313256#derubu_214"><p><span class="inline-code" id="1349313256#derubu_215">%s</span></p></td><td id="1349313256#derubu_216"><p>cha&icirc;nes de caract&egrave;res</p></td></tr><tr class="" id="1349313256#derubu_217"><td id="1349313256#derubu_218"><p><span class="inline-code" id="1349313256#derubu_219">%t</span></p></td><td id="1349313256#derubu_220"><p>bool&eacute;en</p></td></tr><tr class="" id="1349313256#derubu_221"><td id="1349313256#derubu_222"><p><span class="inline-code" id="1349313256#derubu_223">%T</span></p></td><td id="1349313256#derubu_224"><p>type de la valeur</p></td></tr></table></div><p id="1349313256#derubu_225">Pour les nombres r&eacute;els, on peut sp&eacute;cifier la pr&eacute;cision voulue.</p><div class="code-block detached" id="1349313256#derubu_226"><pre><code class="language-go">package main

import &quot;fmt&quot;

func print3() {
	x := 1234.5678
	fmt.Printf(&quot;%f\n%.2f\n%.f\n&quot;, x, x, x)
}</code></pre></div><p id="1349313256#derubu_227">Sortie :</p><div class="code-block detached" id="1349313256#derubu_228"><pre><code class="language-none">1234.567800
1234.57
1235</code></pre></div></section></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="1940140948">Section 4 : Les fonctions</h1><p id="1940140948#d2gtp9_59">Une d&eacute;claration de fonction a la structure suivante en Go :</p><div class="code-block detached" id="1940140948#d2gtp9_60"><pre><code class="language-go">func nomFonction(param1 type1, param2 type2, ...) typeRetour {}</code></pre></div><p id="1940140948#d2gtp9_61">Une d&eacute;claration commence toujours par <span class="inline-code" id="1940140948#d2gtp9_86">func</span>, suivi du nom de la fonction, qui doit &ecirc;tre &eacute;crite en <span class="inline-code" id="1940140948#d2gtp9_87">camelCase</span> ou en <span class="inline-code" id="1940140948#d2gtp9_88">PascalCase</span>. Comme pour les variables, si le nom de la fonction commence par une <span class="control" id="1940140948#d2gtp9_89">minuscule</span>, la fonction sera <span class="control" id="1940140948#d2gtp9_90">priv&eacute;e</span> et accessible seulement dans le paquet qui la contient, tandis que si le nom commence par une <span class="control" id="1940140948#d2gtp9_91">majuscule</span>, la fonction sera <span class="control" id="1940140948#d2gtp9_92">publique</span>, donc accessible de l'ext&eacute;rieur du paquet. Donc, pour une fonction priv&eacute;e, on utilise le <span class="emphasis" id="1940140948#d2gtp9_93">camelCase</span>, et pour une fonction publique, on utilise le <span class="emphasis" id="1940140948#d2gtp9_94">PascalCase</span>.</p><p id="1940140948#d2gtp9_62">Si la fonction ne retourne rien, alors on doit omettre le type de retour. On ne doit <span class="control" id="1940140948#d2gtp9_95">pas</span> utiliser <span class="inline-code" id="1940140948#d2gtp9_96">void</span> comme dans d'autres langages.</p><div class="code-block detached" id="1940140948#d2gtp9_63"><pre><code class="language-go">package main

import &quot;fmt&quot;

func allo(name string) {
	fmt.Printf(&quot;Allo %s !\n&quot;, name)
}</code></pre></div><p id="1940140948#d2gtp9_64">Sortie :</p><div class="code-block detached" id="1940140948#d2gtp9_65"><pre><code class="language-none">Allo Alice !</code></pre></div><p id="1940140948#d2gtp9_66">Voici une fonction qui fait un calcul simple et retourne le r&eacute;sultat :</p><div class="code-block detached" id="1940140948#d2gtp9_67"><pre><code class="language-go">package main

import &quot;fmt&quot;

func square(x int) int {
	return x * x
}</code></pre></div><p id="1940140948#d2gtp9_68">Sortie avec l'appel <span class="inline-code" id="1940140948#d2gtp9_97">fmt.Println(square(4))</span>: <span class="inline-code" id="1940140948#d2gtp9_98">16</span></p><p id="1940140948#d2gtp9_69">Il est possible pour une fonction de retourner plus qu'une valeur. Les types de retours doivent &ecirc;tre s&eacute;par&eacute;s par des virgules, et des parenth&egrave;ses doivent &ecirc;tre utilis&eacute;es autour des types de retour.</p><div class="code-block detached" id="1940140948#d2gtp9_70"><pre><code class="language-go">func nomFonction(param1 type1, param2 type2, ...) (typeRetour1, typeRetour2, ...) {}</code></pre></div><p id="1940140948#d2gtp9_71">Voici une fonction qui retourne les 2 valeurs donn&eacute;es en param&egrave;tre, mais en ordre inverse.</p><div class="code-block detached" id="1940140948#d2gtp9_72"><pre><code class="language-go">package main

import &quot;fmt&quot;

func swap(x int, y int) (int, int) {
	return y, x
}</code></pre></div><p id="1940140948#d2gtp9_73">Appel de la fonction :</p><div class="code-block detached" id="1940140948#d2gtp9_74"><pre><code class="language-go">a, b := 2, 5
fmt.Println(swap(a, b))</code></pre></div><p id="1940140948#d2gtp9_75">Sortie : <span class="inline-code" id="1940140948#d2gtp9_99">5 2</span></p><p id="1940140948#d2gtp9_76">Voici une autre fonction pour &eacute;changer des valeurs, mais elle ne fonctionne pas :</p><div class="code-block detached" id="1940140948#d2gtp9_77"><pre><code class="language-go">package main

import &quot;fmt&quot;

func swap2(x int, y int) {
	temp := x
	x = y
	y = temp
}</code></pre></div><p id="1940140948#d2gtp9_78">Appel de la fonction :</p><div class="code-block detached" id="1940140948#d2gtp9_79"><pre><code class="language-go">a, b := 2, 5
fmt.Println(a, b)
swap2(a, b)
fmt.Println(a, b)</code></pre></div><p id="1940140948#d2gtp9_80">Sortie :</p><div class="code-block detached" id="1940140948#d2gtp9_81"><pre><code class="language-none">2 5
2 5</code></pre></div><p id="1940140948#d2gtp9_82">Plus de d&eacute;tails vont &ecirc;tre donn&eacute;s dans le chapitre suivant, mais la raison pourquoi cette fonction n'a aucun effet sur les variables <span class="inline-code" id="1940140948#d2gtp9_100">a</span> et <span class="inline-code" id="1940140948#d2gtp9_101">b</span> est que la fonction travaille sur des copies des valeurs de <span class="inline-code" id="1940140948#d2gtp9_102">a</span> et <span class="inline-code" id="1940140948#d2gtp9_103">b</span>. Les variables <span class="inline-code" id="1940140948#d2gtp9_104">x</span> et <span class="inline-code" id="1940140948#d2gtp9_105">y</span> sont initialis&eacute;s avec les valeurs de <span class="inline-code" id="1940140948#d2gtp9_106">a</span> et <span class="inline-code" id="1940140948#d2gtp9_107">b</span>, mais sont ind&eacute;pendantes de <span class="inline-code" id="1940140948#d2gtp9_108">a</span> et <span class="inline-code" id="1940140948#d2gtp9_109">b</span>.</p><p id="1940140948#d2gtp9_83">La meilleure fa&ccedil;on d'&eacute;changer les valeurs de deux variables en Go est celle-ci :</p><p id="1940140948#d2gtp9_84"><span class="inline-code" id="1940140948#d2gtp9_110">b, a = a, b</span>.</p><p id="1940140948#d2gtp9_85"><span class="inline-code" id="1940140948#d2gtp9_111">b</span> va obtenir la valeur de <span class="inline-code" id="1940140948#d2gtp9_112">a</span>, et <span class="inline-code" id="1940140948#d2gtp9_113">a</span> va obtenir la valeur de <span class="inline-code" id="1940140948#d2gtp9_114">b</span>. &Ccedil;a fonctionne parce que les changements de valeurs vont se faire en parall&egrave;le.</p></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="1658273204">Section 5 : Les conditionnelles</h1><section><h2 id="1658273204#if-else" data-toc="if-else#c01s05-Les-conditionnelles.md-if-else">if ... else</h2><p id="1658273204#-5dmsih_60">La particularit&eacute; des conditionnelles dans le langage Go est qu'on ne place pas la condition entre parenth&egrave;ses, et que les accolades sont obligatoires autour du code &agrave; ex&eacute;cuter dans la partie <span class="inline-code" id="1658273204#-5dmsih_61">if</span> et dans la partie <span class="inline-code" id="1658273204#-5dmsih_62">else</span>, m&ecirc;me s'il y a seulement une ligne de code &agrave; ex&eacute;cuter. De plus, l'accolade d'ouverture <span class="inline-code" id="1658273204#-5dmsih_63">{</span> doit &ecirc;tre sur la m&ecirc;me ligne que le <span class="inline-code" id="1658273204#-5dmsih_64">if</span> ou le <span class="inline-code" id="1658273204#-5dmsih_65">else</span>.</p><p id="1658273204#-5dmsih_66">Utilisez les op&eacute;rateurs <span class="inline-code" id="1658273204#-5dmsih_67">&amp;&amp;</span> pour la conjonction (et), <span class="inline-code" id="1658273204#-5dmsih_68">||</span> pour la disjonction (ou) et <span class="inline-code" id="1658273204#-5dmsih_69">!</span> pour la n&eacute;gation. Ajouter des parenth&egrave;ses au besoin pour s'assurer que les op&eacute;rateurs sont appliqu&eacute;s dans le bon ordre.</p><div class="code-block detached" id="1658273204#-5dmsih_70"><pre><code class="language-go">package main

import &quot;fmt&quot;

func conditional1(x int) {
	if x &gt; 0 {
		fmt.Printf(&quot;x = %d est plus grand que 0\n&quot;, x)
	} else {
		fmt.Printf(&quot;x = %d est plus petit ou égal à 0\n&quot;, x)
	}
}</code></pre></div><p id="1658273204#-5dmsih_71">Sortie pour des appels avec les valeurs 5, 0, et -5 :</p><div class="code-block detached" id="1658273204#-5dmsih_72"><pre><code class="language-none">x = 5 est plus grand que 0
x = 0 est plus petit ou égal à 0
x = -5 est plus petit ou égal à 0</code></pre></div><p id="1658273204#-5dmsih_73">Il n'y a pas de syntaxe particuli&egrave;re pour les s&eacute;quences de <span class="inline-code" id="1658273204#-5dmsih_74">if ... else</span>, il faut simplement d&eacute;marrer un autre <span class="inline-code" id="1658273204#-5dmsih_75">if ... else</span> tout de suite apr&egrave;s le premier <span class="inline-code" id="1658273204#-5dmsih_76">else</span>.</p><div class="code-block detached" id="1658273204#-5dmsih_77"><pre><code class="language-go">package main

import &quot;fmt&quot;

func conditional2(x int) {
	if x &gt; 0 {
		fmt.Printf(&quot;x = %d est plus grand que 0\n&quot;, x)
	} else if x == 0 {
		fmt.Println(&quot;x est égal à 0&quot;)
	} else {
		fmt.Printf(&quot;x = %d est plus petit que 0\n&quot;, x)
	}
}</code></pre></div><p id="1658273204#-5dmsih_78">Sortie pour des appels avec les valeurs 5, 0, et -5 :</p><div class="code-block detached" id="1658273204#-5dmsih_79"><pre><code class="language-none">x = 5 est plus grand que 0
x est égal à 0
x = -5 est plus petit que 0</code></pre></div></section><section><h2 id="1658273204#switch" data-toc="switch#c01s05-Les-conditionnelles.md-switch">switch</h2><p id="1658273204#-5dmsih_81">Un <span class="emphasis" id="1658273204#-5dmsih_82">switch</span> (<span class="emphasis" id="1658273204#-5dmsih_83">aiguillage</span>) est une bonne fa&ccedil;on de simplifier la syntaxe quand on a besoin d'une s&eacute;rie de <span class="inline-code" id="1658273204#-5dmsih_84">if ... else</span>. Il existe 2 principales formes de <span class="inline-code" id="1658273204#-5dmsih_85">switch</span> en Go : un <span class="inline-code" id="1658273204#-5dmsih_86">switch</span> sur une variable avec des cas sur diff&eacute;rentes valeurs possibles de la variable, et un <span class="inline-code" id="1658273204#-5dmsih_87">switch</span> sans variable avec des cas sur des expressions bool&eacute;ennes.</p><section><h3 id="1658273204#switch-sans-variable" data-toc="switch-sans-variable#c01s05-Les-conditionnelles.md-switch-sans-variable">switch sans variable</h3><div class="code-block detached" id="1658273204#-5dmsih_89"><pre><code class="language-go">package main

import &quot;fmt&quot;

func conditional3(x int) {
	switch {
	case x &gt; 0:
		fmt.Printf(&quot;x = %d est plus grand que 0\n&quot;, x)
	case x == 0:
		fmt.Println(&quot;x est égal à 0&quot;)
	case x &lt; 0:
		fmt.Printf(&quot;x = %d est plus petit que 0\n&quot;, x)
	}
}</code></pre></div><p id="1658273204#-5dmsih_90">Sortie pour des appels avec les valeurs 5, 0, et -5 : m&ecirc;me que l'exemple pr&eacute;c&eacute;dent.</p><p id="1658273204#-5dmsih_91">Cet exemple correspond presque exactement &agrave; l'exemple pr&eacute;c&eacute;dent &eacute;crit avec des <span class="inline-code" id="1658273204#-5dmsih_92">if ... else</span>, sauf pour le dernier cas qui pourrait &ecirc;tre remplac&eacute; par le cas sp&eacute;cial <span class="inline-code" id="1658273204#-5dmsih_93">default</span> qui correspond au dernier <span class="inline-code" id="1658273204#-5dmsih_94">else</span> d'une s&eacute;rie de <span class="inline-code" id="1658273204#-5dmsih_95">if ... else</span>. On obtiendra la m&ecirc;me sortie avec ce changement. Dans ce cas-ci, remplacer <span class="inline-code" id="1658273204#-5dmsih_96">case x &lt; 0</span> par <span class="inline-code" id="1658273204#-5dmsih_97">default</span> est appropri&eacute; parce que la condition <span class="inline-code" id="1658273204#-5dmsih_98">x &lt; 0</span> couvre toutes les possibilit&eacute;s restantes. Notez qu'il n'est pas n&eacute;cessaire d'utiliser des <span class="inline-code" id="1658273204#-5dmsih_99">break</span> pour terminer chaque cas.</p><div class="code-block detached" id="1658273204#-5dmsih_100"><pre><code class="language-go">package main

import &quot;fmt&quot;

func conditional4(x int) {
	switch {
	case x &gt; 0:
		fmt.Printf(&quot;x = %d est plus grand que 0\n&quot;, x)
	case x == 0:
		fmt.Println(&quot;x est égal à 0&quot;)
	default:
		fmt.Printf(&quot;x = %d est plus petit que 0\n&quot;, x)
	}
}</code></pre></div></section><section><h3 id="1658273204#switch-avec-variable" data-toc="switch-avec-variable#c01s05-Les-conditionnelles.md-switch-avec-variable">switch avec variable</h3><div class="code-block detached" id="1658273204#-5dmsih_102"><pre><code class="language-go">package main

import &quot;fmt&quot;

func conditional5(name string) {
	switch name {
	case &quot;Denis&quot;:
		fmt.Println(&quot;Bonjour Prof. Denis !&quot;)
	case &quot;&quot;:
		fmt.Println(&quot;Bonjour Inconnu !&quot;)
	default:
		fmt.Printf(&quot;Allo %s !\n&quot;, name)
	}
}</code></pre></div><p id="1658273204#-5dmsih_103">Sortie pour des appels avec les valeurs <span class="inline-code" id="1658273204#-5dmsih_104">&quot;Denis&quot;</span>, <span class="inline-code" id="1658273204#-5dmsih_105">&quot;&quot;</span>, et <span class="inline-code" id="1658273204#-5dmsih_106">&quot;Alice&quot;</span>:</p><div class="code-block detached" id="1658273204#-5dmsih_107"><pre><code class="language-none">Bonjour Prof. Denis !
Bonjour Inconnu !
Allo Alice !</code></pre></div><p id="1658273204#-5dmsih_108">Lorsqu'on <span class="emphasis" id="1658273204#-5dmsih_109">switch</span> sur une variable, les cas doivent &ecirc;tre des valeurs sp&eacute;cifiques de la variable. Si on veut grouper plusieurs valeurs dans un m&ecirc;me cas, on peut les s&eacute;parer par des virgules, comme dans l'exemple suivant.</p><div class="code-block detached" id="1658273204#-5dmsih_110"><pre><code class="language-go">package main

import &quot;fmt&quot;

func conditional6(name string) {
	switch name {
	case &quot;Denis&quot;, &quot;Benoit&quot;:
		fmt.Printf(&quot;Bonjour Prof. %s !\n&quot;, name)
	case &quot;&quot;:
		fmt.Println(&quot;Bonjour Inconnu !&quot;)
	default:
		fmt.Printf(&quot;Allo %s \n!&quot;, name)
	}
}
}</code></pre></div><p id="1658273204#-5dmsih_111">Sortie pour des appels avec les valeurs <span class="inline-code" id="1658273204#-5dmsih_112">&quot;Denis&quot;</span> et <span class="inline-code" id="1658273204#-5dmsih_113">&quot;Benoit&quot;</span>:</p><div class="code-block detached" id="1658273204#-5dmsih_114"><pre><code class="language-none">Bonjour Prof. Denis !
Bonjour Prof. Benoit !</code></pre></div></section></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="680588180">Section 6 : Les boucles</h1><section><h2 id="680588180#boucle-avec-un-compteur" data-toc="boucle-avec-un-compteur#c01s06-Les-boucles.md-boucle-avec-un-compteur">Boucle avec un compteur</h2><p id="680588180#kqlump_65">&Agrave; la base, les boucles <span class="emphasis" id="680588180#kqlump_66">pour</span> en Go ressemblent aux boucles <span class="emphasis" id="680588180#kqlump_67">pour</span> dans d'autres langages comme C et Java, avec quelques diff&eacute;rences :</p><ul class="list" id="680588180#kqlump_68" start="1"><li class="list-item" id="680588180#kqlump_69"><p>il n'y a pas de parenth&egrave;ses <span class="inline-code" id="680588180#kqlump_70">()</span> autour des 3 composantes principales de la boucle <span class="emphasis" id="680588180#kqlump_71">pour</span>: <span class="inline-code" id="680588180#kqlump_72">initialisation ; condition ; incr&eacute;mentation</span></p></li><li class="list-item" id="680588180#kqlump_73"><p>le compteur de la boucle est normalement d&eacute;fini avec la notation abr&eacute;g&eacute;e utilisant le symbole <span class="inline-code" id="680588180#kqlump_74">:=</span></p></li><li class="list-item" id="680588180#kqlump_75"><p>les 3 composantes principales sont optionnelles</p></li></ul><div class="code-block detached" id="680588180#kqlump_76"><pre><code class="language-go">package main

import &quot;fmt&quot;

func loop1() {
	for i := 0; i &lt; 5; i++ {
		fmt.Print(i, &quot; &quot;)
	}
	fmt.Println()
}</code></pre></div><p id="680588180#kqlump_77">Sortie :</p><div class="code-block detached" id="680588180#kqlump_78"><pre><code class="language-none">0 1 2 3 4</code></pre></div></section><section><h2 id="680588180#les-boucles-de-type-while" data-toc="les-boucles-de-type-while#c01s06-Les-boucles.md-les-boucles-de-type-while">Les boucles de type while</h2><p id="680588180#kqlump_80">Techniquement, il n'y a pas de boucles <span class="emphasis" id="680588180#kqlump_81">while</span> en Go. Le seul type de boucle utilise <span class="emphasis" id="680588180#kqlump_82">for</span>, comme d&eacute;montr&eacute; dans l'exemple pr&eacute;c&eacute;dent. Puisque les parties <span class="emphasis" id="680588180#kqlump_83">initialisation</span> et <span class="emphasis" id="680588180#kqlump_84">incr&eacute;mentation</span> sont optionnelles, on peut &eacute;crire une boucle uniquement avec la condition.</p><div class="code-block detached" id="680588180#kqlump_85"><pre><code class="language-go">package main

import &quot;fmt&quot;

func loop2() {
	i := 0
	for i &lt; 5 {
		fmt.Print(i, &quot; &quot;)
		i++
	}
	fmt.Println()
}</code></pre></div><p id="680588180#kqlump_86">La sortie est la m&ecirc;me que l'exemple pr&eacute;c&eacute;dent.</p></section><section><h2 id="680588180#boucle-sans-condition" data-toc="boucle-sans-condition#c01s06-Les-boucles.md-boucle-sans-condition">Boucle sans condition</h2><p id="680588180#kqlump_87">Voici une <span class="control" id="680588180#kqlump_88">tr&egrave;s mauvaise</span> mani&egrave;re d'&eacute;crire une boucle qui produit le m&ecirc;me r&eacute;sultat, qui est techniquement l&eacute;gale, elle ob&eacute;it &agrave; la syntaxe du langage, mais qui est beaucoup plus difficile &agrave; lire, et qui peut causer des probl&egrave;mes de maintenance de code plus tard.</p><div class="code-block detached" id="680588180#kqlump_89"><pre><code class="language-go">package main

import &quot;fmt&quot;

func loop3() {
	i := 0
	for {
		fmt.Print(i, &quot; &quot;)
		i++
		if i &gt;= 5 {
			break
		}
	}
	fmt.Println()
}</code></pre></div><p id="680588180#kqlump_90">&Agrave; premi&egrave;re vue, la boucle ressemble &agrave; une boucle infinie parce qu'il n'y a pas de condition apr&egrave;s le <span class="inline-code" id="680588180#kqlump_91">for</span>, ce qui est l&eacute;gal en Go. C'est la m&ecirc;me chose que s'il y avait une condition qui est toujours vraie, comme <span class="inline-code" id="680588180#kqlump_92">for true</span> (ou comme <span class="inline-code" id="680588180#kqlump_93">while (true)</span> en Java). Mais cette boucle n'est pas vraiment infinie parce qu'il y a une condition &agrave; l'int&eacute;rieur qui devient vraie &agrave; un moment donn&eacute; et qui fait un <span class="inline-code" id="680588180#kqlump_94">break</span> pour sortir de la boucle.</p><p id="680588180#kqlump_95">En g&eacute;n&eacute;ral, il faut &eacute;viter les boucles infinies ou qui en apparence ont l'air infinie parce qu'elles sont plus difficiles &agrave; lire et &agrave; d&eacute;boguer. Les vraies boucles infinies sont utiles dans certaines situations tr&egrave;s particuli&egrave;res, comme l'impl&eacute;mentation d'un serveur qui doit attendre un nombre ind&eacute;fini de connexions ou de requ&ecirc;tes, mais ces situations particuli&egrave;res sont rares.</p></section><section><h2 id="680588180#boucles-sur-les-tableaux" data-toc="boucles-sur-les-tableaux#c01s06-Les-boucles.md-boucles-sur-les-tableaux">Boucles sur les tableaux</h2><p id="680588180#kqlump_96">Voici comment d&eacute;finir un tableau de nombres entiers avec valeurs initiales, et comment faire une boucle sur le tableau en utilisant les index, ou positions, des &eacute;l&eacute;ments dans le tableau, pour &eacute;crire tous les &eacute;l&eacute;ments du tableau sur le <span class="emphasis" id="680588180#kqlump_97">stdout</span> avec un format particulier. On utilise la fonction <span class="inline-code" id="680588180#kqlump_98">len</span> pour obtenir la longueur d'un tableau.</p><p id="680588180#kqlump_99">On peut &eacute;galement donner un tableau directement &agrave; la fonction <span class="inline-code" id="680588180#kqlump_100">Println</span> pour en &eacute;crire le contenu.</p><div class="code-block detached" id="680588180#kqlump_101"><pre><code class="language-go">package main

import &quot;fmt&quot;

func loop4() {
	numbers := [7]int{2, 5, 3, 4, 7, 1, 7}
	for i := 0; i &lt; len(numbers); i++ {
		fmt.Printf(&quot;numbers[%d] = %d\n&quot;, i, numbers[i])
	}
	fmt.Println(numbers)
}</code></pre></div><p id="680588180#kqlump_102">Sortie :</p><div class="code-block detached" id="680588180#kqlump_103"><pre><code class="language-none">numbers[0] = 2
numbers[1] = 5
numbers[2] = 3
numbers[3] = 4
numbers[4] = 7
numbers[5] = 1
numbers[6] = 7
[2 5 3 4 7 1 7]</code></pre></div><p id="680588180#kqlump_104">Si on n'initialise pas le tableau imm&eacute;diatement avec des valeurs sp&eacute;cifi&eacute;es entre accolades imm&eacute;diatement apr&egrave;s le type <span class="inline-code" id="680588180#kqlump_105">[7]int</span>, alors le tableau sera initialis&eacute; avec les valeurs z&eacute;ro du type, dans ce cas-ci <span class="inline-code" id="680588180#kqlump_106">0</span> &agrave; cause du type <span class="inline-code" id="680588180#kqlump_107">int</span>. Il est possible de remplacer la longueur <span class="inline-code" id="680588180#kqlump_108">7</span> par <span class="inline-code" id="680588180#kqlump_109">...</span> pour que le compilateur calcule la longueur automatiquement. Il est &eacute;galement possible de ne rien sp&eacute;cifier entre les <span class="inline-code" id="680588180#kqlump_110">[]</span>, mais dans ce cas, on n'obtiendra pas un tableau, mais une <span class="emphasis" id="680588180#kqlump_111">slice</span> (tranche). Les tableaux et les tranches se ressemblent, mais il y a des diff&eacute;rences en termes de leurs propri&eacute;t&eacute;s et de la gestion de la m&eacute;moire. Plus de d&eacute;tails viendront &agrave; ce sujet dans le prochain chapitre.</p><p id="680588180#kqlump_112">Il existe une autre fa&ccedil;on de parcourir tous les &eacute;l&eacute;ments d'un tableau en Go : en utilisant <span class="inline-code" id="680588180#kqlump_113">range</span>. C'est la mani&egrave;re la plus pratique et la plus utilis&eacute;e de parcourir tous les &eacute;l&eacute;ments d'un tableau &agrave; partir du d&eacute;but.</p><div class="code-block detached" id="680588180#kqlump_114"><pre><code class="language-go">package main

import &quot;fmt&quot;

func loop5() {
	numbers := [...]int{2, 5, 3, 4, 7, 1, 7}
	for i, number := range numbers {
		fmt.Printf(&quot;numbers[%d] = %d\n&quot;, i, number)
	}
	fmt.Println(numbers)
}</code></pre></div><p id="680588180#kqlump_115">La sortie est la m&ecirc;me que l'exemple pr&eacute;c&eacute;dent. &Agrave; chaque tour de boucle, <span class="inline-code" id="680588180#kqlump_116">i</span> a l'index courant, et <span class="inline-code" id="680588180#kqlump_117">number</span> a la valeur de l'&eacute;l&eacute;ment courant du tableau. Les avantages de ce type de boucle sont qu'on n'a pas besoin de g&eacute;rer l'index manuellement, il est incr&eacute;ment&eacute; automatiquement, et la fin de boucle est v&eacute;rifi&eacute;e aussi automatiquement. Les d&eacute;savantages de ce type de boucle sont qu'on ne pas modifier le contenu du tableau dans la boucle, et on ne peut pas parcourir les &eacute;l&eacute;ments du tableau dans un ordre diff&eacute;rent (par exemple, de la fin vers le d&eacute;but).</p><p id="680588180#kqlump_118">Si on n'a pas besoin des index, mais seulement des valeurs des &eacute;l&eacute;ments dans le tableau, on doit alors faire la boucle de la fa&ccedil;on suivante.</p><div class="code-block detached" id="680588180#kqlump_119"><pre><code class="language-go">package main

import &quot;fmt&quot;

func loop6() {
	numbers := [...]int{2, 5, 3, 4, 7, 1, 7}
	for _, number := range numbers {
		fmt.Printf(&quot;%d &quot;, number)
	}
	fmt.Println()
}</code></pre></div><p id="680588180#kqlump_120">Sortie :</p><div class="code-block detached" id="680588180#kqlump_121"><pre><code class="language-go">2 5 3 4 7 1 7</code></pre></div><p id="680588180#kqlump_122">Dans le langage Go, toutes les variables d&eacute;clar&eacute;es doivent &ecirc;tre utilis&eacute;es au moins une fois. Puisque dans cet exemple, on ne veut pas utiliser l'index des &eacute;l&eacute;ments du tableau, on utilise la barre de soulignement <span class="inline-code" id="680588180#kqlump_123">_</span> &agrave; la place d'un nom de variable. Si on &eacute;crivait <span class="inline-code" id="680588180#kqlump_124">i</span> &agrave; la place de <span class="inline-code" id="680588180#kqlump_125">_</span> dans cet exemple, on obtiendrait l'erreur <span class="inline-code" id="680588180#kqlump_126">i declared and not used</span> au moment de la compilation.</p></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="1862194564">Exercices</h1><ul class="list" id="1862194564#h7mw4o_119" start="1"><li class="list-item" id="1862194564#h7mw4o_123"><p>Cr&eacute;ez un projet nomm&eacute; <span class="inline-code" id="1862194564#h7mw4o_124">exercices</span> dans lequel vous placerez tous vos exercices, de ce chapitre et des autres chapitres.</p></li><li class="list-item" id="1862194564#h7mw4o_125"><p>Cr&eacute;ez un dossier nomm&eacute; <span class="inline-code" id="1862194564#h7mw4o_126">chap01</span> &agrave; l'int&eacute;rieur de ce dossier de projet.</p></li><li class="list-item" id="1862194564#h7mw4o_127"><p>Cr&eacute;ez un fichier <span class="inline-code" id="1862194564#h7mw4o_128">main.go</span> dans ce dossier, qui sera dans le paquet <span class="inline-code" id="1862194564#h7mw4o_129">main</span>, et qui contiendra la fonction <span class="inline-code" id="1862194564#h7mw4o_130">main</span>.</p></li><li class="list-item" id="1862194564#h7mw4o_131"><p>Cr&eacute;ez un fichier <span class="inline-code" id="1862194564#h7mw4o_132">exercices.go</span>, qui sera aussi dans le paquet <span class="inline-code" id="1862194564#h7mw4o_133">main</span>, qui contiendra les fonctions qui r&eacute;pondent aux questions suivantes.</p></li><li class="list-item" id="1862194564#h7mw4o_134"><p>Cr&eacute;ez le fichier <span class="inline-code" id="1862194564#h7mw4o_135">input.go</span> qui contiendra les fonctions <span class="inline-code" id="1862194564#h7mw4o_136">ReadLine</span> et <span class="inline-code" id="1862194564#h7mw4o_137">ReadFloat64</span>, &agrave; utiliser pour vous aider &agrave; r&eacute;pondre aux questions. </p><ul class="list" id="1862194564#h7mw4o_138" start="1"><li class="list-item" id="1862194564#h7mw4o_139"><p>Vous pouvez appeler les fonctions de la mani&egrave;re suivante : <span class="inline-code" id="1862194564#h7mw4o_140">line, _ := ReadLine()</span> et <span class="inline-code" id="1862194564#h7mw4o_141">x, _ := ReadFloat64()</span>.</p></li><li class="list-item" id="1862194564#h7mw4o_142"><p>Les entr&eacute;es/sorties seront pr&eacute;sent&eacute;es en d&eacute;tails dans les prochains chapitres. Pour le moment, les erreurs sont ignor&eacute;es en utilisant <span class="inline-code" id="1862194564#h7mw4o_143">_</span>.</p></li><li class="list-item" id="1862194564#h7mw4o_144"><p>Contenu du fichier <span class="inline-code" id="1862194564#h7mw4o_145">input.go</span>:</p></li></ul></li></ul><div class="code-block detached" id="1862194564#h7mw4o_120"><pre><code class="language-go">package main

import (
	&quot;bufio&quot;
	&quot;io&quot;
	&quot;os&quot;
	&quot;strconv&quot;
)

func ReadLine() (string, error) {
	scanner := bufio.NewScanner(os.Stdin)
	if scanner.Scan() {
		return scanner.Text(), nil
	} else {
		err := scanner.Err()
		if err != nil {
			return &quot;&quot;, err
		} else {
			return &quot;&quot;, io.EOF
		}
	}
}

func ReadFloat64() (float64, error) {
	line, err := ReadLine()
	if err != nil {
		return 0, err
	}
	x, err := strconv.ParseFloat(line, 64)
	if err != nil {
		return 0, err
	}
	return x, nil
}</code></pre></div><ul class="list" id="1862194564#h7mw4o_121" start="1"><li class="list-item" id="1862194564#h7mw4o_146"><p>Pour chacune des questions suivantes, &eacute;crivez une fonction qui effectuera ce qui est demand&eacute;.</p></li><li class="list-item" id="1862194564#h7mw4o_147"><p>Ajoutez un appel &agrave; chacune des fonctions dans la fonction <span class="inline-code" id="1862194564#h7mw4o_148">main</span> pour tester votre code. Vous pouvez commenter les appels aux fonctions pr&eacute;c&eacute;dentes dans le <span class="inline-code" id="1862194564#h7mw4o_149">main</span> pour &eacute;viter d'ex&eacute;cuter toutes les fonctions pr&eacute;c&eacute;dentes quand vous ajouter une nouvelle fonction. </p><ul class="list" id="1862194564#h7mw4o_150" start="1"><li class="list-item" id="1862194564#h7mw4o_151"><p>N'effacez pas les appels pr&eacute;c&eacute;dents, gardez-les, mais vous pouvez les commenter.</p></li></ul></li><li class="list-item" id="1862194564#h7mw4o_152"><p>Utilisez des nombres r&eacute;els (type <span class="inline-code" id="1862194564#h7mw4o_153">float64</span>) pour tous nombres, sauf quand vous devez absolument avoir un nombre entier. </p><ul class="list" id="1862194564#h7mw4o_154" start="1"><li class="list-item" id="1862194564#h7mw4o_155"><p>Vous pouvez convertir in <span class="inline-code" id="1862194564#h7mw4o_156">float64</span> en <span class="inline-code" id="1862194564#h7mw4o_157">int</span> de cette fa&ccedil;on :</p></li></ul></li></ul><div class="code-block detached" id="1862194564#h7mw4o_122"><pre><code class="language-go">var f float64 = 3.14
var i int = int(f)</code></pre></div><section><h2 id="1862194564#questions" data-toc="questions#ch01-Exercices.md-questions">Questions</h2><ol class="list list-decimal" id="1862194564#h7mw4o_158" type="1" start="1"><li class="list-item" id="1862194564#h7mw4o_159"><p id="1862194564#h7mw4o_160">Calculer et afficher la valeur absolue d'un nombre entr&eacute; par l'utilisateur.</p></li><li class="list-item" id="1862194564#h7mw4o_161"><p id="1862194564#h7mw4o_162">D&eacute;terminer si le nombre <span class="emphasis" id="1862194564#h7mw4o_163">entier</span> entr&eacute; par l'utilisateur est pair ou impair.</p></li><li class="list-item" id="1862194564#h7mw4o_164"><p id="1862194564#h7mw4o_165">Lire trois nombres et imprimer le plus petit de ces trois nombres.</p></li><li class="list-item" id="1862194564#h7mw4o_166"><p id="1862194564#h7mw4o_167">Calculer le salaire total d'un employ&eacute;. On lit en entr&eacute;e les donn&eacute;es concernant son salaire horaire et le nombre d'heures travaill&eacute;es. Si l'employ&eacute; a travaill&eacute; plus de 40 heures, les heures suppl&eacute;mentaires sont pay&eacute;es &agrave; 1.5 fois le salaire horaire.</p></li><li class="list-item" id="1862194564#h7mw4o_168"><p id="1862194564#h7mw4o_169">Lire trois nombres positifs repr&eacute;sentant la longueur des c&ocirc;t&eacute;s d'un triangle. Imprimer :</p><ul class="list" id="1862194564#h7mw4o_170" start="1"><li class="list-item" id="1862194564#h7mw4o_171"><p>&quot;Scal&egrave;ne&quot; si les trois c&ocirc;t&eacute;s sont in&eacute;gaux</p></li><li class="list-item" id="1862194564#h7mw4o_172"><p>&quot;Isoc&egrave;le&quot; si deux des c&ocirc;t&eacute;s sont &eacute;gaux</p></li><li class="list-item" id="1862194564#h7mw4o_173"><p>&quot;&Eacute;quilat&eacute;ral&quot; si les trois c&ocirc;t&eacute;s sont &eacute;gaux</p></li></ul></li><li class="list-item" id="1862194564#h7mw4o_174"><p id="1862194564#h7mw4o_175">Un professeur vous fournit trois notes calcul&eacute;es sur 100. Calculer la moyenne et imprimer &eacute;chec si la note finale est inf&eacute;rieure &agrave; 60/100. Dans le cas contraire, imprimer la note obtenue par l'&eacute;tudiant.</p></li><li class="list-item" id="1862194564#h7mw4o_176"><p id="1862194564#h7mw4o_177">Lire en entr&eacute;e une note finale d'un cours. Si la note est plus petite que 0, ou si la note est plus grande que 100, alors afficher &quot;Cette note est invalide&quot; et terminer la fonction. Si la note est valide, alors vous devez afficher une lettre correspondant &agrave; la note selon les conditions suivantes :</p><ul class="list" id="1862194564#h7mw4o_178" start="1"><li class="list-item" id="1862194564#h7mw4o_179"><p><span class="control" id="1862194564#h7mw4o_180">E</span>: plus petite que 60</p></li><li class="list-item" id="1862194564#h7mw4o_181"><p><span class="control" id="1862194564#h7mw4o_182">D</span>: de 60 &agrave; moins que 70</p></li><li class="list-item" id="1862194564#h7mw4o_183"><p><span class="control" id="1862194564#h7mw4o_184">C</span>: de 70 &agrave; moins que 80</p></li><li class="list-item" id="1862194564#h7mw4o_185"><p><span class="control" id="1862194564#h7mw4o_186">B</span>: de 80 &agrave; moins que 90</p></li><li class="list-item" id="1862194564#h7mw4o_187"><p><span class="control" id="1862194564#h7mw4o_188">A</span>: 90 ou plus</p></li></ul></li><li class="list-item" id="1862194564#h7mw4o_189"><p id="1862194564#h7mw4o_190">Vous devez lire un nombre entre 1 et 10 inclusivement.</p><ul class="list" id="1862194564#h7mw4o_191" start="1"><li class="list-item" id="1862194564#h7mw4o_192"><p>Si le nombre n'est pas dans cet intervalle, alors afficher <span class="emphasis" id="1862194564#h7mw4o_193">&quot;invalide&quot;</span>.</p></li><li class="list-item" id="1862194564#h7mw4o_194"><p>Si le nombre est valide, alors afficher <span class="emphasis" id="1862194564#h7mw4o_195">&quot;valide&quot;</span>.</p></li></ul></li><li class="list-item" id="1862194564#h7mw4o_196"><p id="1862194564#h7mw4o_197">Vous devez lire un nombre entre 1 et 10 inclusivement.</p><ul class="list" id="1862194564#h7mw4o_198" start="1"><li class="list-item" id="1862194564#h7mw4o_199"><p>Si le nombre n'est pas dans cet intervalle, alors afficher <span class="emphasis" id="1862194564#h7mw4o_200">&quot;invalide&quot;</span> et demander le nombre &agrave; nouveau. Vous devez vous assurer que le nombre est valide avant de continuer &agrave; la prochaine &eacute;tape. Il n'y aucune limite sur le nombre d'essais incorrects.</p></li><li class="list-item" id="1862194564#h7mw4o_201"><p>Si le nombre est valide, alors afficher <span class="emphasis" id="1862194564#h7mw4o_202">&quot;valide&quot;</span>.</p></li></ul></li><li class="list-item" id="1862194564#h7mw4o_203"><p id="1862194564#h7mw4o_204">Vous devez lire un nombre entre 1 et 10 inclusivement.</p><ul class="list" id="1862194564#h7mw4o_205" start="1"><li class="list-item" id="1862194564#h7mw4o_206"><p>Si le nombre n'est pas dans cet intervalle, alors afficher <span class="emphasis" id="1862194564#h7mw4o_207">&quot;invalide&quot;</span> et demander le nombre &agrave; nouveau. Vous devez vous assurer que le nombre est valide avant de continuer &agrave; la prochaine &eacute;tape. Il y a une limite de 3 essais incorrects.</p></li><li class="list-item" id="1862194564#h7mw4o_208"><p>Si le nombre maximal d'essais incorrects a &eacute;t&eacute; atteint, alors afficher <span class="emphasis" id="1862194564#h7mw4o_209">&quot;Nombre maximal d'essais atteint.&quot;</span> et la doit se terminer.</p></li><li class="list-item" id="1862194564#h7mw4o_210"><p>Si le nombre est valide, alors afficher <span class="emphasis" id="1862194564#h7mw4o_211">&quot;valide&quot;</span>.</p></li></ul></li><li class="list-item" id="1862194564#h7mw4o_212"><p id="1862194564#h7mw4o_213">Vous devez lire un nombre <span class="emphasis" id="1862194564#h7mw4o_214">entier</span> et l'afficher &agrave; l'envers. Par exemple, l'utilisateur saisit <span class="inline-code" id="1862194564#h7mw4o_215">123456</span> et le programme affiche <span class="inline-code" id="1862194564#h7mw4o_216">654321</span>. Pour cela il faudra utiliser la division et le modulo.</p></li><li class="list-item" id="1862194564#h7mw4o_217"><p id="1862194564#h7mw4o_218">Vous devez lire un nombre <span class="emphasis" id="1862194564#h7mw4o_219">entier</span> et afficher un d&eacute;compte &agrave; partir de ce nombre jusqu'&agrave; 0. Lorsque le d&eacute;compte est termin&eacute;, afficher &quot;Termin&eacute; !&quot; &agrave; la place du nombre 0. Par exemple, si le nombre entr&eacute; est 5, vous devez afficher</p><div class="code-block detached" id="1862194564#h7mw4o_220"><pre><code class="language-none">5
4
3
2
1
Terminé !</code></pre></div></li><li class="list-item" id="1862194564#h7mw4o_221"><p id="1862194564#h7mw4o_222">Pour chacune des questions suivantes, d&eacute;finissez un tableau de nombres entiers de cette mani&egrave;re : <span class="inline-code" id="1862194564#h7mw4o_223">numbers := [...]int{2, 5, 3, 4, 7, 1, 7}</span>. La longueur du tableau et les nombres qu'il contient sont &agrave; votre choix, mais ils devraient permettre de bien tester les questions. R&eacute;pondez aux questions dans des fonctions diff&eacute;rentes. En utilisant une boucle <span class="inline-code" id="1862194564#h7mw4o_224">for</span> sur les index du tableau,</p><ol class="list list-decimal" id="1862194564#h7mw4o_225" type="1" start="1"><li class="list-item" id="1862194564#h7mw4o_226"><p>trouvez la somme et la moyenne de tous les nombres dans le tableau.</p></li><li class="list-item" id="1862194564#h7mw4o_227"><p>affichez tous les nombres pairs contenus dans le tableau.</p></li><li class="list-item" id="1862194564#h7mw4o_228"><p>d&eacute;terminez si tous les nombres dans le tableau sont positifs ou non. Si tous les nombres sont positifs, alors affichez <span class="emphasis" id="1862194564#h7mw4o_229">vrai</span>, sinon affichez <span class="emphasis" id="1862194564#h7mw4o_230">faux</span>.</p></li></ol></li><li class="list-item" id="1862194564#h7mw4o_231"><p id="1862194564#h7mw4o_232">R&eacute;p&eacute;tez la question pr&eacute;c&eacute;dente, mais en utilisant une boucle <span class="inline-code" id="1862194564#h7mw4o_233">for</span> et un <span class="inline-code" id="1862194564#h7mw4o_234">range</span> sur le tableau.</p></li></ol></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="2145962609">R&eacute;f&eacute;rences</h1><ol class="list list-decimal" id="2145962609#-yqq3wx_15" type="1" start="1"><li class="list-item" id="2145962609#-yqq3wx_16"><p>Go (<a href="https://go.dev">https://go.dev</a>)</p></li><li class="list-item" id="2145962609#-yqq3wx_18"><p>GoLand (<a href="https://www.jetbrains.com/go/">https://www.jetbrains.com/go/</a>)</p></li><li class="list-item" id="2145962609#-yqq3wx_20"><p>Go cheatsheet (<a href="https://devhints.io/go">https://devhints.io/go</a>)</p></li><li class="list-item" id="2145962609#-yqq3wx_22"><p>A tour of Go (<a href="https://go.dev/tour/list">https://go.dev/tour/list</a>)</p></li><li class="list-item" id="2145962609#-yqq3wx_24"><p>Paquet <span class="inline-code" id="2145962609#-yqq3wx_26">fmt</span> (<a href="https://pkg.go.dev/fmt">https://pkg.go.dev/fmt</a>)</p></li></ol></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-1669021325">Chapitre 2 : Les pointeurs</h1><p id="-1669021325#m4a2bo_63">Dans le langage Go, il y a 2 types de variables :</p><ul class="list" id="-1669021325#m4a2bo_64" start="1"><li class="list-item" id="-1669021325#m4a2bo_89"><p>les <span class="control" id="-1669021325#m4a2bo_90">variables de type valeur</span>, et</p></li><li class="list-item" id="-1669021325#m4a2bo_91"><p>les <span class="control" id="-1669021325#m4a2bo_92">variables de type pointeur</span>.</p></li></ul><p id="-1669021325#m4a2bo_65"><span class="control" id="-1669021325#m4a2bo_93">Variables de type valeur :</span></p><p id="-1669021325#m4a2bo_66">En Go, <span class="control" id="-1669021325#m4a2bo_94">tous les types sont par d&eacute;faut des types valeur</span>. Cela signifie que lorsque vous attribuez une variable &agrave; une autre, la &quot;valeur&quot; est copi&eacute;e. Si vous modifiez la nouvelle variable, l'originale ne sera pas affect&eacute;e.</p><div class="code-block detached" id="-1669021325#m4a2bo_67"><pre><code class="language-go">var a int = 5
b := a  // b = 5, copie de la valeur de a
b = 10  // la modification de b n'affecte pas a</code></pre></div><p id="-1669021325#m4a2bo_68">Dans cet exemple, lorsque vous changez la valeur de <span class="inline-code" id="-1669021325#m4a2bo_95">b</span>, <span class="inline-code" id="-1669021325#m4a2bo_96">a</span> reste le m&ecirc;me. Cela est d&ucirc; au fait que <span class="inline-code" id="-1669021325#m4a2bo_97">b</span> est une copie de <span class="inline-code" id="-1669021325#m4a2bo_98">a</span>.</p><p id="-1669021325#m4a2bo_69"><span class="control" id="-1669021325#m4a2bo_99">Variables de type pointeur :</span></p><p id="-1669021325#m4a2bo_70">Un pointeur, d'autre part, pointe vers l'emplacement m&eacute;moire d'une autre variable. Lorsque vous modifiez la valeur &agrave; laquelle pointe un pointeur, vous modifiez &eacute;galement la valeur originale.</p><div class="code-block detached" id="-1669021325#m4a2bo_71"><pre><code class="language-go">var a int = 5
var b *int = &amp;a  // b pointe vers la mémoire de a
*b = 10          // nous changeons la valeur de a à travers b</code></pre></div><p id="-1669021325#m4a2bo_72">Maintenant, si vous modifiez <span class="inline-code" id="-1669021325#m4a2bo_100">*b</span>, <span class="inline-code" id="-1669021325#m4a2bo_101">a</span> change aussi, parce que <span class="inline-code" id="-1669021325#m4a2bo_102">b</span> est un pointeur vers <span class="inline-code" id="-1669021325#m4a2bo_103">a</span>.</p><p id="-1669021325#m4a2bo_73">Les pointeurs sont utiles lorsque vous voulez partager une variable entre plusieurs fonctions, ou lorsque vous travaillez avec de grands ensembles de donn&eacute;es que vous ne voulez pas copier.</p><p id="-1669021325#m4a2bo_74">Ces exemples sont seulement utilis&eacute;s en guise d'introduction. Ce chapitre est consacr&eacute; aux pointeurs et &agrave; la gestion de la m&eacute;moire. Il y aura donc beaucoup plus d'exemples et d'explications pour clarifier ces concepts dans les sections qui suivent.</p><p id="-1669021325#m4a2bo_75">La m&eacute;moire peut &ecirc;tre allou&eacute;e de 2 fa&ccedil;ons :</p><ul class="list" id="-1669021325#m4a2bo_76" start="1"><li class="list-item" id="-1669021325#m4a2bo_104"><p>l'allocation statique de la m&eacute;moire, et</p></li><li class="list-item" id="-1669021325#m4a2bo_105"><p>l'allocation dynamique de la m&eacute;moire.</p></li></ul><p id="-1669021325#m4a2bo_77"><span class="control" id="-1669021325#m4a2bo_106">L'allocation statique de la m&eacute;moire :</span></p><p id="-1669021325#m4a2bo_78">Dans l'allocation statique, la taille et la position de la m&eacute;moire &agrave; allouer sont d&eacute;termin&eacute;es avant l'ex&eacute;cution du programme. Les variables d&eacute;clar&eacute;es globalement et localement dans une fonction sont des exemples de cette allocation. En Go, lorsque vous d&eacute;clarez une variable comme suit :</p><div class="code-block detached" id="-1669021325#m4a2bo_79"><pre><code class="language-go">var num int</code></pre></div><p id="-1669021325#m4a2bo_80">La m&eacute;moire n&eacute;cessaire pour stocker une valeur enti&egrave;re est automatiquement allou&eacute;e. Cette allocation est appel&eacute;e statique car la taille de la m&eacute;moire allou&eacute;e est fixe et ne peut pas &ecirc;tre modifi&eacute;e pendant l'ex&eacute;cution.</p><p id="-1669021325#m4a2bo_81"><span class="control" id="-1669021325#m4a2bo_107">L'allocation dynamique de la m&eacute;moire :</span></p><p id="-1669021325#m4a2bo_82">Au contraire, l'allocation dynamique de la m&eacute;moire se produit pendant l'ex&eacute;cution du programme et permet d'allouer la quantit&eacute; de m&eacute;moire n&eacute;cessaire en temps r&eacute;el. En Go, cette allocation est r&eacute;alis&eacute;e en utilisant le mot-cl&eacute; <span class="inline-code" id="-1669021325#m4a2bo_108">new</span> ou <span class="inline-code" id="-1669021325#m4a2bo_109">make</span>. Par exemple :</p><div class="code-block detached" id="-1669021325#m4a2bo_83"><pre><code class="language-go">ptr := new(int)</code></pre></div><p id="-1669021325#m4a2bo_84">Dans ce cas, Go alloue la m&eacute;moire n&eacute;cessaire pour stocker un entier et renvoie un pointeur vers cette m&eacute;moire. De m&ecirc;me, la fonction <span class="inline-code" id="-1669021325#m4a2bo_110">make</span> est utilis&eacute;e pour allouer de la m&eacute;moire pour les <span class="emphasis" id="-1669021325#m4a2bo_111">slices</span>, les <span class="emphasis" id="-1669021325#m4a2bo_112">maps</span> et les <span class="emphasis" id="-1669021325#m4a2bo_113">channels</span>. Cette allocation est dite dynamique parce que la quantit&eacute; de m&eacute;moire peut varier pendant l'ex&eacute;cution.</p><p id="-1669021325#m4a2bo_85">Il est &agrave; noter que contrairement &agrave; certains autres langages de programmation, Go g&egrave;re automatiquement la <span class="emphasis" id="-1669021325#m4a2bo_114">lib&eacute;ration</span> (ou <span class="emphasis" id="-1669021325#m4a2bo_115">&quot;d&eacute;sallocation&quot;</span>) de la m&eacute;moire &agrave; l'aide d'un <span class="control" id="-1669021325#m4a2bo_116">garbage collector</span> (<span class="emphasis" id="-1669021325#m4a2bo_117">ramasse-miettes</span> ou <span class="emphasis" id="-1669021325#m4a2bo_118">vidangeur</span>), de sorte que les d&eacute;veloppeurs n'ont pas &agrave; se soucier de la lib&eacute;ration de la m&eacute;moire une fois qu'elle n'est plus n&eacute;cessaire.</p><p id="-1669021325#m4a2bo_86">Dans d'autres langages comme le C et le C++, la lib&eacute;ration de la m&eacute;moire est manuelle, ce qui est une source importante de probl&egrave;mes potentiels, notamment les <span class="emphasis" id="-1669021325#m4a2bo_119">fuites de m&eacute;moire</span> (<span class="emphasis" id="-1669021325#m4a2bo_120">memory leaks</span>). Il est tr&egrave;s difficile dans les applications moindrement complexes de s'assurer de l'absence de fuites de m&eacute;moire dans un langage qui utilise la lib&eacute;ration manuelle. Il est plus difficile de tester une application qui utilise un langage avec la lib&eacute;ration manuelle de la m&eacute;moire.</p><p id="-1669021325#m4a2bo_87">Par contre, l'utilisation d'un <span class="emphasis" id="-1669021325#m4a2bo_121">garbage collector</span> peut affecter la performance d'un programme dans certaines situations. Mais en g&eacute;n&eacute;ral, cet impact est mineur. Dans la grande majorit&eacute; des cas, les risques qu'am&egrave;ne la lib&eacute;ration manuelle de la m&eacute;moire sont trop grand et beaucoup plus significatif que les inconv&eacute;nients de l'utilisation d'un <span class="emphasis" id="-1669021325#m4a2bo_122">garbage collector</span>.</p><p id="-1669021325#m4a2bo_88">Nous reviendrons sur ce sujet plus tard.</p></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="1692711374">Section 1 : Les pointeurs</h1><p id="1692711374#i7r1w8y_37">En Go, un pointeur est une variable qui stocke l'adresse m&eacute;moire d'une autre variable. Les pointeurs sont une partie tr&egrave;s fondamentale de Go et sont extr&ecirc;mement utiles car ils permettent aux fonctions de modifier les donn&eacute;es qui leur sont pass&eacute;es, parce qu'ils ont acc&egrave;s &agrave; la m&ecirc;me adresse m&eacute;moire o&ugrave; r&eacute;side la variable originale.</p><p id="1692711374#i7r1w8y_38">Pour cr&eacute;er un pointeur, nous utilisons l'op&eacute;rateur <span class="inline-code" id="1692711374#i7r1w8y_53">&amp;</span> avant une variable. Cela renvoie l'adresse m&eacute;moire de cette variable. Par exemple :</p><div class="code-block detached" id="1692711374#i7r1w8y_39"><pre><code class="language-go">var x int = 5
ptr := &amp;x</code></pre></div><p id="1692711374#i7r1w8y_40">Dans ce cas, <span class="inline-code" id="1692711374#i7r1w8y_54">ptr</span> est un pointeur vers <span class="inline-code" id="1692711374#i7r1w8y_55">x</span>, car il contient l'adresse m&eacute;moire de <span class="inline-code" id="1692711374#i7r1w8y_56">x</span>.</p><p id="1692711374#i7r1w8y_41">Le type de <span class="inline-code" id="1692711374#i7r1w8y_57">ptr</span> dans le cas ci-dessus est <span class="inline-code" id="1692711374#i7r1w8y_58">*int</span>, car c'est un pointeur vers un entier. Le symbole <span class="inline-code" id="1692711374#i7r1w8y_59">*</span> avant un type est utilis&eacute; pour d&eacute;signer un pointeur vers ce type.</p><p id="1692711374#i7r1w8y_42">Pour obtenir la valeur stock&eacute;e &agrave; l'adresse m&eacute;moire indiqu&eacute;e, ou pour <span class="emphasis" id="1692711374#i7r1w8y_60">&quot;d&eacute;r&eacute;f&eacute;rencer&quot;</span> le pointeur, vous pouvez utiliser l'op&eacute;rateur <span class="inline-code" id="1692711374#i7r1w8y_61">*</span> avant le pointeur, comme <span class="inline-code" id="1692711374#i7r1w8y_62">*ptr</span>. Par exemple :</p><div class="code-block detached" id="1692711374#i7r1w8y_43"><pre><code class="language-go">fmt.Println(*ptr) // Cela imprimera : 5</code></pre></div><div class="container"><figure class="image-container"><img class="center image" id="1692711374#i7r1w8y_44" alt="Pointeur vers int" title="Pointeur vers int" src="/home/denis/projets/WritersideProjects/native1/Writerside/images/ch02s01-pointeur1-1.jpg" width="640" height="227"><figcaption class="center-text">Pointeur vers int</figcaption></figure></div><p id="1692711374#i7r1w8y_45">Vous pouvez &eacute;galement utiliser des pointeurs pour changer la valeur stock&eacute;e &agrave; une certaine adresse m&eacute;moire :</p><div class="code-block detached" id="1692711374#i7r1w8y_46"><pre><code class="language-go">*ptr = 8
fmt.Println(x) // Cela imprimera : 8</code></pre></div><p id="1692711374#i7r1w8y_47">Dans ce cas, en modifiant <span class="inline-code" id="1692711374#i7r1w8y_63">*ptr</span>, nous changeons en fait la valeur de <span class="inline-code" id="1692711374#i7r1w8y_64">x</span> puisque <span class="inline-code" id="1692711374#i7r1w8y_65">ptr</span> contient l'adresse de <span class="inline-code" id="1692711374#i7r1w8y_66">x</span>.</p><div class="container"><figure class="image-container"><img class="center image" id="1692711374#i7r1w8y_48" alt="Modification de la valeur point&amp;eacute;e" title="Modification de la valeur point&amp;eacute;e" src="/home/denis/projets/WritersideProjects/native1/Writerside/images/ch02s01-pointeur1-2.jpg" width="640" height="247"><figcaption class="center-text">Modification de la valeur point&eacute;e</figcaption></figure></div><p id="1692711374#i7r1w8y_49">On peut &eacute;galement imprimer la valeur contenue dans la variable <span class="inline-code" id="1692711374#i7r1w8y_67">ptr</span>. Puisque c'est un pointeur, nous obtiendrons une adresse m&eacute;moire, qui dans ce cas-ci est l'adresse (ou l'emplacement m&eacute;moire) o&ugrave; est situ&eacute;e la variable <span class="inline-code" id="1692711374#i7r1w8y_68">x</span>.</p><div class="code-block detached" id="1692711374#i7r1w8y_50"><pre><code class="language-go">fmt.Println(ptr) // Cela imprimera une valeur semblable à : 0xc00012e010</code></pre></div><p id="1692711374#i7r1w8y_51">La valeur imprim&eacute;e ne sera pas toujours la m&ecirc;me. &Ccedil;a d&eacute;pendra de l'endroit exact o&ugrave; la variable a &eacute;t&eacute; allou&eacute;e lors de l'ex&eacute;cution du programme, qui varie selon diff&eacute;rents facteurs, qui d&eacute;pendent en partie du syst&egrave;me d'exploitation. Nous reviendrons sur les mod&egrave;les d'allocation de m&eacute;moire un peu plus loin.</p><p id="1692711374#i7r1w8y_52">Faites attention, la valeur z&eacute;ro d'une variable non initialis&eacute;e de type pointeur est <span class="inline-code" id="1692711374#i7r1w8y_69">nil</span>, et si vous essayez de d&eacute;r&eacute;f&eacute;rencer le pointeur, Go interrompra l'ex&eacute;cution avec une panique au moment de l'ex&eacute;cution. <span class="control" id="1692711374#i7r1w8y_70">Assurez-vous toujours que vos pointeurs sont initialis&eacute;s avant utilisation.</span></p></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-920526733">Section 2 : Appels de fonctions et types de param&egrave;tres</h1><p id="-920526733#qy7wxd_93">En Go, tous les arguments de fonction sont pass&eacute;s par valeur. Cela signifie que la fonction re&ccedil;oit une copie de chaque argument, et toute modification n'est pas refl&eacute;t&eacute;e dans la variable originale. Les pointeurs peuvent offrir une solution &agrave; cette situation, puisqu'en passant l'adresse m&eacute;moire de la variable &agrave; la fonction, elle peut modifier la variable d'origine.</p><p id="-920526733#qy7wxd_94">Reprenons un exemple du chapitre pr&eacute;c&eacute;dent :</p><div class="code-block detached" id="-920526733#qy7wxd_95"><pre><code class="language-go">package main

import &quot;fmt&quot;

func swap2(x int, y int) {
	temp := x
	x = y
	y = temp
}</code></pre></div><p id="-920526733#qy7wxd_96">Cette fonction manipule les valeurs des variables <span class="inline-code" id="-920526733#qy7wxd_102">x</span> et <span class="inline-code" id="-920526733#qy7wxd_103">y</span>, qui contiennent une copie des valeurs donn&eacute;es en param&egrave;tre lors de l'appel de la fonction. Si, par exemple, la fonction est appel&eacute;e de cette fa&ccedil;on :</p><div class="code-block detached" id="-920526733#qy7wxd_97"><pre><code class="language-go">a, b := 2, 5
fmt.Println(a, b)
swap2(a, b)
fmt.Println(a, b)</code></pre></div><div class="container"><figure class="image-container"><img class="center image" id="-920526733#qy7wxd_98" alt="Diagramme de la fonction swap2 - partie 1" title="Diagramme de la fonction swap2 - partie 1" src="/home/denis/projets/WritersideProjects/native1/Writerside/images/ch02s02-swap2-1.jpg" width="491" height="225"><figcaption class="center-text">Diagramme de la fonction swap2 - partie 1</figcaption></figure></div><p id="-920526733#qy7wxd_99">Alors <span class="inline-code" id="-920526733#qy7wxd_104">x</span> contient une copie de la valeur de la variable <span class="inline-code" id="-920526733#qy7wxd_105">a</span>, et <span class="inline-code" id="-920526733#qy7wxd_106">y</span> contient une copie de la valeur de la variable <span class="inline-code" id="-920526733#qy7wxd_107">b</span>. Donc modifier <span class="inline-code" id="-920526733#qy7wxd_108">x</span> et <span class="inline-code" id="-920526733#qy7wxd_109">y</span> n'affectent pas <span class="inline-code" id="-920526733#qy7wxd_110">a</span> et <span class="inline-code" id="-920526733#qy7wxd_111">b</span> parce qu'elles sont situ&eacute;es &agrave; des emplacements m&eacute;moire (des adresses) diff&eacute;rents. Les variables <span class="inline-code" id="-920526733#qy7wxd_112">x</span> et <span class="inline-code" id="-920526733#qy7wxd_113">y</span> sont locales &agrave; la fonction <span class="inline-code" id="-920526733#qy7wxd_114">swap2</span>, tandis que <span class="inline-code" id="-920526733#qy7wxd_115">a</span> et <span class="inline-code" id="-920526733#qy7wxd_116">b</span> ne sont pas du tout accessibles &agrave; l'int&eacute;rieur de <span class="inline-code" id="-920526733#qy7wxd_117">swap2</span>.</p><div class="container"><figure class="image-container"><img class="center image" id="-920526733#qy7wxd_100" alt="Diagramme de la fonction swap2 - partie 2" title="Diagramme de la fonction swap2 - partie 2" src="/home/denis/projets/WritersideProjects/native1/Writerside/images/ch02s02-swap2-2.jpg" width="713" height="387"><figcaption class="center-text">Diagramme de la fonction swap2 - partie 2</figcaption></figure></div><p id="-920526733#qy7wxd_101">C'est ce qu'on appelle le <span class="control" id="-920526733#qy7wxd_118">passage de param&egrave;tres par valeurs</span>. Les variables <span class="inline-code" id="-920526733#qy7wxd_119">a</span> et <span class="inline-code" id="-920526733#qy7wxd_120">b</span> sont pass&eacute;es par valeur &agrave; la fonction <span class="inline-code" id="-920526733#qy7wxd_121">swap2</span>.</p><section><h2 id="-920526733#passage-par-pointeurs" data-toc="passage-par-pointeurs#ch02s02-Appels-de-fonctions-et-types-de-parametres.md-passage-par-pointeurs">Passage par pointeurs</h2><p id="-920526733#qy7wxd_124">La fonction <span class="inline-code" id="-920526733#qy7wxd_125">swap3</span> est une modification de <span class="inline-code" id="-920526733#qy7wxd_126">swap2</span>. &Agrave; la place de passer les param&egrave;tres par valeurs, on passe les adresses des variables <span class="inline-code" id="-920526733#qy7wxd_127">a</span> et <span class="inline-code" id="-920526733#qy7wxd_128">b</span> &agrave; la fonction, donc on passe <span class="inline-code" id="-920526733#qy7wxd_129">a</span> et <span class="inline-code" id="-920526733#qy7wxd_130">b</span> par pointeurs. En r&eacute;alit&eacute;, on passe les adresses de <span class="inline-code" id="-920526733#qy7wxd_131">a</span> et <span class="inline-code" id="-920526733#qy7wxd_132">b</span> par valeurs &agrave; <span class="inline-code" id="-920526733#qy7wxd_133">swap3</span>, et on utilise ces valeurs (les addresses), pour acc&eacute;der aux emplacements m&eacute;moires qui contiennent <span class="inline-code" id="-920526733#qy7wxd_134">a</span> et <span class="inline-code" id="-920526733#qy7wxd_135">b</span>.</p><div class="code-block detached" id="-920526733#qy7wxd_136"><pre><code class="language-go">func swap3(xPtr *int, yPtr *int) {
	temp := *xPtr
	*xPtr = *yPtr
	*yPtr = temp
}</code></pre></div><p id="-920526733#qy7wxd_137">Les param&egrave;tres ont &eacute;t&eacute; renomm&eacute;s <span class="inline-code" id="-920526733#qy7wxd_138">xPtr</span> et <span class="inline-code" id="-920526733#qy7wxd_139">yPtr</span> pour faciliter la compr&eacute;hension, mais il n'est pas n&eacute;cessaire de toujours inclure <span class="inline-code" id="-920526733#qy7wxd_140">Ptr</span> dans le nom des variables qui sont pointeurs.</p><p id="-920526733#qy7wxd_141">Si on appelle la fonction comme ceci :</p><div class="code-block detached" id="-920526733#qy7wxd_142"><pre><code class="language-go">a, b := 2, 5
fmt.Println(a, b)
swap3(&amp;a, &amp;b)
fmt.Println(a, b)</code></pre></div><p id="-920526733#qy7wxd_143">La sortie sera :</p><div class="code-block detached" id="-920526733#qy7wxd_144"><pre><code class="language-none">2 5
5 2</code></pre></div><p id="-920526733#qy7wxd_145">Dans un premier temps, les variables <span class="inline-code" id="-920526733#qy7wxd_146">xPtr</span> et <span class="inline-code" id="-920526733#qy7wxd_147">yPtr</span> sont initialis&eacute;es pour pointer vers les variables <span class="inline-code" id="-920526733#qy7wxd_148">a</span> et <span class="inline-code" id="-920526733#qy7wxd_149">b</span> respectivement. Donc, <span class="inline-code" id="-920526733#qy7wxd_150">xPtr</span> contient l'adresse de <span class="inline-code" id="-920526733#qy7wxd_151">a</span>, et <span class="inline-code" id="-920526733#qy7wxd_152">yPtr</span> contient l'adresse de <span class="inline-code" id="-920526733#qy7wxd_153">b</span>. Ensuite, la variable <span class="inline-code" id="-920526733#qy7wxd_154">temp</span> est initialis&eacute;e avec la valeur de <span class="inline-code" id="-920526733#qy7wxd_155">a</span>, en d&eacute;r&eacute;f&eacute;ren&ccedil;ant <span class="inline-code" id="-920526733#qy7wxd_156">xPtr</span> avec l'ast&eacute;risque <span class="inline-code" id="-920526733#qy7wxd_157">*</span>. Donc <span class="inline-code" id="-920526733#qy7wxd_158">temp</span> a la valeur 2.</p><div class="container"><figure class="image-container"><img class="center image" id="-920526733#qy7wxd_122" alt="Diagramme fonction swap3 - partie 1" title="Diagramme fonction swap3 - partie 1" src="/home/denis/projets/WritersideProjects/native1/Writerside/images/ch02s02-swap3-1.jpg" width="874" height="287"><figcaption class="center-text">Diagramme fonction swap3 - partie 1</figcaption></figure></div><p id="-920526733#qy7wxd_159">Ensuite, on prend la valeur de <span class="inline-code" id="-920526733#qy7wxd_160">*yPtr</span> et on la place dans <span class="inline-code" id="-920526733#qy7wxd_161">*xPtr</span>, ce qui revient &agrave; placer la valeur de <span class="inline-code" id="-920526733#qy7wxd_162">b</span> dans <span class="inline-code" id="-920526733#qy7wxd_163">a</span>. La nouvelle valeur de <span class="inline-code" id="-920526733#qy7wxd_164">a</span> est 5. Ensuite, la valeur de <span class="inline-code" id="-920526733#qy7wxd_165">temp</span> est plac&eacute;e dans <span class="inline-code" id="-920526733#qy7wxd_166">*yPtr</span>, ce qui revient &agrave; placer 2 dans <span class="inline-code" id="-920526733#qy7wxd_167">b</span>.</p><p id="-920526733#qy7wxd_168">Quand on d&eacute;r&eacute;f&eacute;rence <span class="inline-code" id="-920526733#qy7wxd_169">yPtr</span> avec l'ast&eacute;risque <span class="inline-code" id="-920526733#qy7wxd_170">*</span>, c'est comme si on suivait le pointeur &agrave; partir de <span class="inline-code" id="-920526733#qy7wxd_171">yPtr</span> vers <span class="inline-code" id="-920526733#qy7wxd_172">b</span>. Dans ce cas-ci, on a un acc&egrave;s direct &agrave; l'emplacement m&eacute;moire qui contient la variable <span class="inline-code" id="-920526733#qy7wxd_173">b</span>, sans pouvoir acc&eacute;der directement &agrave; cette variable &agrave; l'int&eacute;rieur de la fonction.</p><div class="container"><figure class="image-container"><img class="center image" id="-920526733#qy7wxd_123" alt="Diagramme fonction swap3 - partie 2" title="Diagramme fonction swap3 - partie 2" src="/home/denis/projets/WritersideProjects/native1/Writerside/images/ch02s02-swap3-2.jpg" width="885" height="379"><figcaption class="center-text">Diagramme fonction swap3 - partie 2</figcaption></figure></div><p id="-920526733#qy7wxd_174">En termes de quand vous devriez utiliser des pointeurs, ils sont utiles pour :</p><ol class="list list-decimal" id="-920526733#qy7wxd_175" type="1" start="1"><li class="list-item" id="-920526733#qy7wxd_176"><p>Lorsque vous devez modifier l'&eacute;tat d'une variable et que vous avez besoin que ce changement soit visible en dehors de la port&eacute;e de la fonction actuelle. </p><ul class="list" id="-920526733#qy7wxd_177" start="1"><li class="list-item" id="-920526733#qy7wxd_178"><p>La fonction <span class="inline-code" id="-920526733#qy7wxd_179">Scanf</span>, pr&eacute;sent&eacute;e dans la prochaine section, demande l'utilisation de pointeurs dans ses param&egrave;tres</p></li></ul></li><li class="list-item" id="-920526733#qy7wxd_180"><p>Si vous avez une grande quantit&eacute; de donn&eacute;es et que vous devez la passer &agrave; diff&eacute;rentes fonctions. Il est plus efficace d'envoyer un pointeur vers ces donn&eacute;es plut&ocirc;t que de copier toutes les donn&eacute;es si on les passe par valeur. </p><ul class="list" id="-920526733#qy7wxd_181" start="1"><li class="list-item" id="-920526733#qy7wxd_182"><p>Nous verrons des exemples de cette situation plus loin, lors de l'utilisation des tableaux et des tranches.</p></li></ul></li></ol></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="1946580354">Section 3 : Lire des valeurs avec Scanf</h1><p id="1946580354#-o6u5pp_115">La fonction <span class="inline-code" id="1946580354#-o6u5pp_117">Scanf</span> est la contrepartie &agrave; la fonction <span class="inline-code" id="1946580354#-o6u5pp_118">Printf</span>: au lieu d'imprimer, ou d'&eacute;crire, des valeurs sur la sortie standard (<span class="emphasis" id="1946580354#-o6u5pp_119">stdout</span>), <span class="inline-code" id="1946580354#-o6u5pp_120">Scanf</span> lit des valeurs sur l'entr&eacute;e standard (<span class="emphasis" id="1946580354#-o6u5pp_121">stdin</span>). Les fonctions <span class="inline-code" id="1946580354#-o6u5pp_122">Sscanf</span> et <span class="inline-code" id="1946580354#-o6u5pp_123">Fscanf</span> sont semblables &agrave; <span class="inline-code" id="1946580354#-o6u5pp_124">Scanf</span>, mais lisent &agrave; partir, respectivement, d'une cha&icirc;ne de caract&egrave;res et d'un fichier.</p><p id="1946580354#-o6u5pp_116">Des alternatives &agrave; <span class="inline-code" id="1946580354#-o6u5pp_125">Scanf</span> vont &ecirc;tre pr&eacute;sent&eacute;es dans la section suivante. <span class="inline-code" id="1946580354#-o6u5pp_126">Scanf</span> est un peu capricieuse, donc il faut faire attention quand on l'utilise. Cette fonction est bas&eacute;e sur la fonction <span class="inline-code" id="1946580354#-o6u5pp_127">scanf</span> du langage C.</p><section><h2 id="1946580354#exemple-1" data-toc="exemple-1#ch02s03-Section-3-Lire-des-valeurs-avec-Scanf.md-exemple-1">Exemple 1</h2><p id="1946580354#-o6u5pp_128">Voici un programme qui lit le nom de l'utilisateur sur le <span class="emphasis" id="1946580354#-o6u5pp_129">stdin</span>, suivi de son &acirc;ge.</p><div class="code-block detached" id="1946580354#-o6u5pp_130"><pre><code class="language-go">package main

import &quot;fmt&quot;

func ex1() {
    var name string
    var age int

    fmt.Print(&quot;Veuillez entrer votre nom : &quot;)
    _, err := fmt.Scanf(&quot;%s&quot;, &amp;name)
    
    if err != nil {
        fmt.Println(err)
    }

    fmt.Print(&quot;Veuillez entrer votre âge : &quot;)
    _, err = fmt.Scanf(&quot;%d&quot;, &amp;age)
    
    if err != nil {
        fmt.Println(err)
    }

    fmt.Printf(&quot;Bonjour %s, vous avez %d ans.\n&quot;, name, age)
}</code></pre></div><p id="1946580354#-o6u5pp_131"><span class="inline-code" id="1946580354#-o6u5pp_132">Scanf</span> retourne 2 valeurs : un entier qui contient le nombre d'&eacute;l&eacute;ments <span class="emphasis" id="1946580354#-o6u5pp_133">scann&eacute;s</span> correctement, et une erreur, qui pourrait &ecirc;tre <span class="inline-code" id="1946580354#-o6u5pp_134">nil</span> s'il n'y a pas d'erreurs. Dans cet exemple, on ignore la premi&egrave;re valeur retourn&eacute;e en utilisant <span class="inline-code" id="1946580354#-o6u5pp_135">_</span> &agrave; la place d'une variable. Nous allons utiliser cette valeur dans d'autres exemples plus tard. Apr&egrave;s chaque appel, on v&eacute;rifie s'il y a des erreurs ou non en comparant <span class="inline-code" id="1946580354#-o6u5pp_136">err</span> &agrave; <span class="inline-code" id="1946580354#-o6u5pp_137">nil</span>. Si <span class="inline-code" id="1946580354#-o6u5pp_138">err</span> n'est pas <span class="inline-code" id="1946580354#-o6u5pp_139">nil</span>, alors il y a une erreur et on &eacute;crit cette erreur sur le <span class="emphasis" id="1946580354#-o6u5pp_140">stdout</span>.</p><p id="1946580354#-o6u5pp_141">Le premier param&egrave;tre donn&eacute; &agrave; <span class="inline-code" id="1946580354#-o6u5pp_142">Scanf</span> est le format, similaire au format donn&eacute; &agrave; la fonction <span class="inline-code" id="1946580354#-o6u5pp_143">Printf</span>. Le deuxi&egrave;me param&egrave;tre est l'endroit o&ugrave; l'on veut que la valeur <span class="emphasis" id="1946580354#-o6u5pp_144">scann&eacute;e</span> soit plac&eacute;e. Nous devons donner l'adresse d'une variable, ou un pointeur, sinon, comme on a vu plus t&ocirc;t, les changements apport&eacute;s &agrave; la variable ne seraient pas visibles &agrave; l'ext&eacute;rieur de la fonction. C'est pourquoi on donne l'adresse de la variable <span class="inline-code" id="1946580354#-o6u5pp_145">name</span> dans le premier cas, et de la variable <span class="inline-code" id="1946580354#-o6u5pp_146">age</span> dans le deuxi&egrave;me, en utilisant l'op&eacute;rateur <span class="inline-code" id="1946580354#-o6u5pp_147">&amp;</span>.</p><section><h3 id="1946580354#ex-cution-1" data-toc="ex-cution-1#ch02s03-Section-3-Lire-des-valeurs-avec-Scanf.md-ex-cution-1">Ex&eacute;cution 1</h3><p id="1946580354#-o6u5pp_148">La sortie d&eacute;pendra &eacute;videmment des valeurs entr&eacute;es par l'utilisateur. La sortie, incluant les valeurs <span class="inline-code" id="1946580354#-o6u5pp_149">Denis</span> et <span class="inline-code" id="1946580354#-o6u5pp_150">22</span> entr&eacute;es sur les 2 premi&egrave;res lignes, ressemblera &agrave; ceci :</p><div class="code-block detached" id="1946580354#-o6u5pp_151"><pre><code class="language-none">Veuillez entrer votre nom : Denis
Veuillez entrer votre âge : 22
Bonjour Denis, vous avez 22 ans.</code></pre></div><p id="1946580354#-o6u5pp_152">Notez que le caract&egrave;re <span class="inline-code" id="1946580354#-o6u5pp_153">\n</span> n'est pas inclus dans la valeur de <span class="inline-code" id="1946580354#-o6u5pp_154">name</span> m&ecirc;me si on doit peser sur <span class="emphasis" id="1946580354#-o6u5pp_155">enter</span> apr&egrave;s avoir entr&eacute; le nom. La fonction <span class="inline-code" id="1946580354#-o6u5pp_156">Scanf</span> accepte tout les caract&egrave;res jusqu'&agrave; ce qu'elle rencontre la fin de la ligne. C'est le m&ecirc;me processus pour l'&acirc;ge, sauf que les caract&egrave;res entr&eacute;s sont convertis en un nombre entier parce que le format <span class="inline-code" id="1946580354#-o6u5pp_157">%d</span> a &eacute;t&eacute; sp&eacute;cifi&eacute;.</p></section><section><h3 id="1946580354#ex-cution-2" data-toc="ex-cution-2#ch02s03-Section-3-Lire-des-valeurs-avec-Scanf.md-ex-cution-2">Ex&eacute;cution 2</h3><p id="1946580354#-o6u5pp_158">Si on inverse les deux valeurs, on obtient :</p><div class="code-block detached" id="1946580354#-o6u5pp_159"><pre><code class="language-none">Veuillez entrer votre nom : 22
Veuillez entrer votre âge : Denis
expected integer
Bonjour 22, vous avez 0 ans.</code></pre></div><p id="1946580354#-o6u5pp_160"><span class="inline-code" id="1946580354#-o6u5pp_161">Scanf</span> ne peux pas savoir si 22 est un nom appropri&eacute; ou non, le format <span class="inline-code" id="1946580354#-o6u5pp_162">%s</span> lui demande tout simplement d'accepter une cha&icirc;ne de caract&egrave;res, donc la cha&icirc;ne <span class="inline-code" id="1946580354#-o6u5pp_163">&quot;22&quot;</span> est accept&eacute;e. Il faudra utiliser du code suppl&eacute;mentaire pour valider le contenu de cha&icirc;nes de caract&egrave;res (&agrave; voir plus tard).</p><p id="1946580354#-o6u5pp_164">Mais pour l'&acirc;ge, la cha&icirc;ne <span class="inline-code" id="1946580354#-o6u5pp_165">&quot;Denis&quot;</span> ne peut d&eacute;finitivement pas &ecirc;tre convertie en nombre entier, donc on obtient l'erreur <span class="inline-code" id="1946580354#-o6u5pp_166">expected integer</span>. Quand une erreur de la sorte arrive, la variable point&eacute;e par le param&egrave;tre de <span class="inline-code" id="1946580354#-o6u5pp_167">Scanf</span>, dans le cas-ci la variable <span class="inline-code" id="1946580354#-o6u5pp_168">age</span>, ne sera pas modifi&eacute;e, donc la valeur &eacute;crite &agrave; la fin sera la valeur que la variable avait avant l'appel &agrave; <span class="inline-code" id="1946580354#-o6u5pp_169">Scanf</span>.</p></section><section><h3 id="1946580354#ex-cution-3" data-toc="ex-cution-3#ch02s03-Section-3-Lire-des-valeurs-avec-Scanf.md-ex-cution-3">Ex&eacute;cution 3</h3><p id="1946580354#-o6u5pp_170">Qu'arrive-t-il si on n'entre aucun caract&egrave;re (&agrave; part le <span class="emphasis" id="1946580354#-o6u5pp_171">enter</span>) ?</p><div class="code-block detached" id="1946580354#-o6u5pp_172"><pre><code class="language-none">Veuillez entrer votre nom : 
unexpected newline
Veuillez entrer votre âge : 
unexpected newline
Bonjour , vous avez 0 ans.</code></pre></div><p id="1946580354#-o6u5pp_173">On obtient l'erreur <span class="inline-code" id="1946580354#-o6u5pp_174">unexpected newline</span>. <span class="inline-code" id="1946580354#-o6u5pp_175">Scanf</span> ne modifiera pas les variables <span class="inline-code" id="1946580354#-o6u5pp_176">name</span> et <span class="inline-code" id="1946580354#-o6u5pp_177">age</span> &agrave; travers leurs pointeurs si les valeurs entr&eacute;es sont vides, donc la sortie inclut la valeur que ces variables avaient les appels &agrave; <span class="inline-code" id="1946580354#-o6u5pp_178">Scanf</span>. Puisque ces variables n'avaient pas &eacute;t&eacute; explicitement initialis&eacute;es, elles ont leurs valeurs z&eacute;ros, c'est-&agrave;-dire <span class="inline-code" id="1946580354#-o6u5pp_179">&quot;&quot;</span> et <span class="inline-code" id="1946580354#-o6u5pp_180">0</span> respectivement.</p></section><section><h3 id="1946580354#ex-cution-4" data-toc="ex-cution-4#ch02s03-Section-3-Lire-des-valeurs-avec-Scanf.md-ex-cution-4">Ex&eacute;cution 4</h3><p id="1946580354#-o6u5pp_181">Une particularit&eacute; de l'interaction avec le <span class="emphasis" id="1946580354#-o6u5pp_182">stdin</span> est qu'il faut entrer un changement de ligne pour que les caract&egrave;res entr&eacute;s soient trait&eacute;s par <span class="inline-code" id="1946580354#-o6u5pp_183">Scanf</span>. Cette fonction va alors lire chaque caract&egrave;re entr&eacute; et va essayer de les faire correspondre au format donn&eacute; &agrave; la fonction. Quand <span class="inline-code" id="1946580354#-o6u5pp_184">Scanf</span> rencontre un caract&egrave;re blanc (un <span class="emphasis" id="1946580354#-o6u5pp_185">whitespace character</span>, comme un espace <span class="inline-code" id="1946580354#-o6u5pp_186">' '</span>, un changement de ligne <span class="inline-code" id="1946580354#-o6u5pp_187">'\n'</span>, une tabulation <span class="inline-code" id="1946580354#-o6u5pp_188">'\t'</span>), &ccedil;a indique la fin d'un format. Par exemple, la cha&icirc;ne <span class="inline-code" id="1946580354#-o6u5pp_189">&quot;1 100&quot;</span> repr&eacute;sente 2 nombres pour <span class="inline-code" id="1946580354#-o6u5pp_190">Scanf</span> (<span class="emphasis" id="1946580354#-o6u5pp_191">un</span> et <span class="emphasis" id="1946580354#-o6u5pp_192">cent</span>), et non pas le nombre <span class="emphasis" id="1946580354#-o6u5pp_193">mille cent</span>.</p><p id="1946580354#-o6u5pp_194">Dans notre exemple, on peut entrer les deux valeurs sur la m&ecirc;me ligne. Le premier appel &agrave; <span class="inline-code" id="1946580354#-o6u5pp_195">Scanf</span> va lire jusqu'&agrave; l'espace entre le <span class="inline-code" id="1946580354#-o6u5pp_196">'s'</span> et le premier <span class="inline-code" id="1946580354#-o6u5pp_197">'2'</span>, et le deuxi&egrave;me appel &agrave; <span class="inline-code" id="1946580354#-o6u5pp_198">Scanf</span> va lire le nombre 22 jusqu'au changement de ligne. &Ccedil;a va fonctionner, mais la sortie sera moins belle.</p><div class="code-block detached" id="1946580354#-o6u5pp_199"><pre><code class="language-none">Veuillez entrer votre nom : Denis 22
Veuillez entrer votre âge : Bonjour Denis, vous avez 22 ans.</code></pre></div><p id="1946580354#-o6u5pp_200">Des exemples avec une meilleure validation des entr&eacute;es seront pr&eacute;sent&eacute;s un peu plus loin dans la prochaine section.</p></section><section><h3 id="1946580354#ex-cution-5" data-toc="ex-cution-5#ch02s03-Section-3-Lire-des-valeurs-avec-Scanf.md-ex-cution-5">Ex&eacute;cution 5</h3><p id="1946580354#-o6u5pp_201">Quand <span class="inline-code" id="1946580354#-o6u5pp_202">Scanf</span> essaie de lire un nombre entier, la fonction va essayer de lire des chiffres, et quand un caract&egrave;re qui n'est pas un chiffre est rencontr&eacute;, &ccedil;a va terminer la lecture du nombre entier. En g&eacute;n&eacute;ral, <span class="inline-code" id="1946580354#-o6u5pp_203">Scanf</span> va essayer de lire autant de caract&egrave;res possible pour les faire correspondre au format.</p><div class="code-block detached" id="1946580354#-o6u5pp_204"><pre><code class="language-none">Veuillez entrer votre nom : Denis
Veuillez entrer votre âge : 2.2
Bonjour Denis, vous avez 2 ans.</code></pre></div><p id="1946580354#-o6u5pp_205">Dans ce cas-ci, <span class="inline-code" id="1946580354#-o6u5pp_206">Scanf</span> arr&ecirc;te au point, donc l'&acirc;ge est 2. <span class="inline-code" id="1946580354#-o6u5pp_207">Scanf</span> n'est pas parfait, mais elle a bas&eacute;e sur la fonction <span class="inline-code" id="1946580354#-o6u5pp_208">scanf</span> du langage de programmation C. Le but des d&eacute;veloppeurs du langage Go &eacute;tait de copier le comportement du langage C dans ce cas-ci, pour &ecirc;tre compatible.</p></section></section><section><h2 id="1946580354#exemple-2" data-toc="exemple-2#ch02s03-Section-3-Lire-des-valeurs-avec-Scanf.md-exemple-2">Exemple 2</h2><p id="1946580354#-o6u5pp_209">Cet exemple est semblable au pr&eacute;c&eacute;dent, mais le nom et l'&acirc;ge doivent &ecirc;tre entr&eacute;s sur la m&ecirc;me ligne, s&eacute;par&eacute;s par un espace. Il n'y a qu'un seul appel &agrave; <span class="inline-code" id="1946580354#-o6u5pp_210">Scanf</span> ici parce que le format est &quot;%s %d&quot;, qui demande d'avoir une cha&icirc;ne de caract&egrave;res suivie d'un nombre entier sur la m&ecirc;me ligne.</p><div class="code-block detached" id="1946580354#-o6u5pp_211"><pre><code class="language-go">func ex2() {
	var name string
	var age int

	fmt.Print(&quot;Veuillez entrer votre nom suivi de votre âge, séparés par un espace : &quot;)
	n, err := fmt.Scanf(&quot;%s %d&quot;, &amp;name, &amp;age)

	if err != nil {
		fmt.Println(err)
	}

	if n != 2 {
		fmt.Println(&quot;Vous devez entrer votre nom suivi de votre, séparés par un espace&quot;)
		return
	}

	fmt.Printf(&quot;Bonjour %s, vous avez %d ans.\n&quot;, name, age)
}</code></pre></div><p id="1946580354#-o6u5pp_212">Une autre diff&eacute;rence dans cet exemple est la v&eacute;rification du nombre d'&eacute;l&eacute;ments lus correctement, ici plac&eacute; dans la variable <span class="inline-code" id="1946580354#-o6u5pp_213">n</span>. Dans cet exemple, <span class="inline-code" id="1946580354#-o6u5pp_214">n</span> devrait &ecirc;tre 2. L'utilisation de <span class="inline-code" id="1946580354#-o6u5pp_215">n</span> donne une fa&ccedil;on diff&eacute;rente de d&eacute;tecter les erreurs. En pratique, on utilise soit <span class="inline-code" id="1946580354#-o6u5pp_216">err</span>, soit <span class="inline-code" id="1946580354#-o6u5pp_217">n</span>, selon les besoins, mais pas n&eacute;cessairement les deux &agrave; la fois.</p><section><h3 id="1946580354#ex-cution-1_1" data-toc="ex-cution-1_1#ch02s03-Section-3-Lire-des-valeurs-avec-Scanf.md-ex-cution-1_1">Ex&eacute;cution 1</h3><p id="1946580354#-o6u5pp_218">Entr&eacute;e : <span class="inline-code" id="1946580354#-o6u5pp_219">Denis 22\n</span></p><div class="code-block detached" id="1946580354#-o6u5pp_220"><pre><code class="language-none">Veuillez entrer votre nom suivi de votre âge, séparés par un espace : Denis 22
Bonjour Denis, vous avez 22 ans.</code></pre></div></section><section><h3 id="1946580354#ex-cution-2_1" data-toc="ex-cution-2_1#ch02s03-Section-3-Lire-des-valeurs-avec-Scanf.md-ex-cution-2_1">Ex&eacute;cution 2</h3><p id="1946580354#-o6u5pp_221">Entr&eacute;e : <span class="inline-code" id="1946580354#-o6u5pp_222">Denis\n</span></p><div class="code-block detached" id="1946580354#-o6u5pp_223"><pre><code class="language-none">Veuillez entrer votre nom suivi de votre âge, séparés par un espace : Denis
newline in input does not match format
Vous devez entrer votre nom suivi de votre, séparés par un espace</code></pre></div></section><section><h3 id="1946580354#ex-cution-3_1" data-toc="ex-cution-3_1#ch02s03-Section-3-Lire-des-valeurs-avec-Scanf.md-ex-cution-3_1">Ex&eacute;cution 3</h3><p id="1946580354#-o6u5pp_224">Entr&eacute;e : <span class="inline-code" id="1946580354#-o6u5pp_225">Denis abc\n</span></p><div class="code-block detached" id="1946580354#-o6u5pp_226"><pre><code class="language-none">Veuillez entrer votre nom suivi de votre âge, séparés par un espace : Denis abc
expected integer
Vous devez entrer votre nom suivi de votre, séparés par un espace</code></pre></div></section></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="30954075">Section 4 : Validation des entr&eacute;es</h1><p id="30954075#k9rjwa_111">&Eacute;tant donn&eacute; que <span class="inline-code" id="30954075#k9rjwa_112">Scanf</span> est un peu capricieuse, plusieurs personnes pr&eacute;f&egrave;rent utiliser des alternatives pour l'entr&eacute;e de valeurs. Les exemples de la section pr&eacute;c&eacute;dente utilisaient le <span class="emphasis" id="30954075#k9rjwa_113">stdin</span>, mais les exemples seraient presque identiques si on utilisait <span class="inline-code" id="30954075#k9rjwa_114">Sscanf</span> ou <span class="inline-code" id="30954075#k9rjwa_115">Fscanf</span>. Cette section inclut quelques alternatives. Le chapitre sur la gestion des fichiers contiendra plus d'exemples.</p><section><h2 id="30954075#lire-une-ligne-compl-te-jusqu-la-fin" data-toc="lire-une-ligne-compl-te-jusqu-la-fin#ch02s04-Section-4-Validation-des-entrees.md-lire-une-ligne-compl-te-jusqu-la-fin">Lire une ligne compl&egrave;te jusqu'&agrave; la fin</h2><p id="30954075#k9rjwa_116">Il est pr&eacute;f&eacute;rable d'utiliser un <span class="inline-code" id="30954075#k9rjwa_117">Reader</span> sur le <span class="emphasis" id="30954075#k9rjwa_118">stdin</span> que d'utiliser <span class="inline-code" id="30954075#k9rjwa_119">Scanf</span> pour lire une ligne compl&egrave;te, comme d&eacute;montr&eacute; dans l'exemple suivant.</p><p id="30954075#k9rjwa_120">On commence par d&eacute;finir une fonction nomm&eacute;e <span class="inline-code" id="30954075#k9rjwa_121">ReadLine</span>, qui lit une ligne de texte sur le <span class="emphasis" id="30954075#k9rjwa_122">stdin</span> et la retourne sans inclure le <span class="inline-code" id="30954075#k9rjwa_123">'\n'</span> &agrave; la fin de la ligne. La fonction retourne aussi une erreur s'il y en a une, ou sinon <span class="inline-code" id="30954075#k9rjwa_124">nil</span> s'il n'y en a pas. La fonction <span class="inline-code" id="30954075#k9rjwa_125">section4a</span> plus loin d&eacute;montre comment utiliser <span class="inline-code" id="30954075#k9rjwa_126">ReadLine</span> en copiant l'exemple de la section pr&eacute;c&eacute;dente.</p><div class="code-block detached" id="30954075#k9rjwa_127"><pre><code class="language-go">func ReadLine() (string, error) {
	scanner := bufio.NewScanner(os.Stdin)
	if scanner.Scan() {
		return scanner.Text(), nil
	} else {
		err := scanner.Err()
		if err != nil {
			return &quot;&quot;, err
		} else {
			return &quot;&quot;, io.EOF
		}
	}
}</code></pre></div><p id="30954075#k9rjwa_128">La fonction <span class="inline-code" id="30954075#k9rjwa_129">ReadLine</span> est une fonction utilitaire qui lit une ligne d'entr&eacute;e de l'utilisateur depuis le terminal. La fonction <span class="inline-code" id="30954075#k9rjwa_130">bufio.NewScanner(os.Stdin)</span> initialise un nouveau scanner sur le <span class="inline-code" id="30954075#k9rjwa_131">os.Stdin</span>, le flot d'entr&eacute;e standard. <span class="inline-code" id="30954075#k9rjwa_132">scanner.Scan()</span> avance le scanner jusqu'&agrave; la prochaine ligne. Si <span class="inline-code" id="30954075#k9rjwa_133">Scan</span> renvoie <span class="inline-code" id="30954075#k9rjwa_134">false</span>, il a &eacute;t&eacute; impossible de lire une line de texte, soit parce qu'il y a eu une erreur, soit parce qu'on a atteint la fin du fichier. Nous v&eacute;rifions alors si une erreur est survenue. Si c'est le cas, nous renvoyons l'erreur. Sinon, nous renvoyons le symbole repr&eacute;sentant la fin du fichier <span class="inline-code" id="30954075#k9rjwa_135">io.EOF</span> (<span class="emphasis" id="30954075#k9rjwa_136">End-Of-File</span>). Si tout s'est bien pass&eacute;, <span class="inline-code" id="30954075#k9rjwa_137">Scan</span> retourne <span class="inline-code" id="30954075#k9rjwa_138">true</span>, et on retourne la ligne de texte qui a &eacute;t&eacute; lue avec <span class="inline-code" id="30954075#k9rjwa_139">scanner.Text()</span>.</p><p id="30954075#k9rjwa_140"><span class="inline-code" id="30954075#k9rjwa_141">os.Stdin</span> est de type <span class="inline-code" id="30954075#k9rjwa_142">*os.File</span>, donc <span class="inline-code" id="30954075#k9rjwa_143">os.Stdin</span> est un pointeur vers un fichier. Un fichier tr&egrave;s sp&eacute;cial, en lecture seule, qui correspond &agrave; ce que l'utilisateur tape sur le terminal, mais du point de vue du syst&egrave;me d'exploitation, c'est tout de m&ecirc;me un fichier. Si jamais le <span class="inline-code" id="30954075#k9rjwa_144">os.Stdin</span> est ferm&eacute;, ce qui ne devrait normalement pas arriver, le scanner recevra un <span class="inline-code" id="30954075#k9rjwa_145">io.EOF</span>, et il faut le g&eacute;rer correctement. Le chapitre 4 sur la gestion des fichiers d&eacute;crira le <span class="inline-code" id="30954075#k9rjwa_146">io.EOF</span> plus en d&eacute;tails.</p><p id="30954075#k9rjwa_147">Ensuite, la fonction <span class="inline-code" id="30954075#k9rjwa_148">section4a</span>:</p><div class="code-block detached" id="30954075#k9rjwa_149"><pre><code class="language-go">func section4a() {
    fmt.Print(&quot;Veuillez entrer votre nom : &quot;)
    name, err := ReadLine()

    if err != nil {
        fmt.Println(err)
    }

    fmt.Print(&quot;Veuillez entrer votre âge : &quot;)
    ageStr, err := ReadLine()

    if err != nil {
        fmt.Println(err)
    }

    age, err := strconv.Atoi(ageStr)

    if err != nil {
        fmt.Println(err)
    }

    fmt.Printf(&quot;Bonjour %s, vous avez %d ans.\n&quot;, name, age)
}</code></pre></div><p id="30954075#k9rjwa_150">Cette fonction fait les choses suivantes :</p><ol class="list list-decimal" id="30954075#k9rjwa_151" type="1" start="1"><li class="list-item" id="30954075#k9rjwa_152"><p>Demande &agrave; l'utilisateur de saisir son nom en utilisant <span class="inline-code" id="30954075#k9rjwa_153">fmt.Print</span>.</p></li><li class="list-item" id="30954075#k9rjwa_154"><p>Lit le nom entr&eacute; en utilisant <span class="inline-code" id="30954075#k9rjwa_155">ReadLine</span>.</p></li><li class="list-item" id="30954075#k9rjwa_156"><p>Si une erreur se produit lors de la lecture, imprime l'erreur.</p></li><li class="list-item" id="30954075#k9rjwa_157"><p>Demande &agrave; l'utilisateur d'entrer son &acirc;ge.</p></li><li class="list-item" id="30954075#k9rjwa_158"><p>Lit l'&acirc;ge entr&eacute;, &agrave; nouveau en utilisant <span class="inline-code" id="30954075#k9rjwa_159">ReadLine</span>.</p></li><li class="list-item" id="30954075#k9rjwa_160"><p>Si une erreur se produit pendant la lecture, imprime l'erreur.</p></li><li class="list-item" id="30954075#k9rjwa_161"><p>Convertit l'&acirc;ge entr&eacute; (qui est une cha&icirc;ne de caract&egrave;res) en un nombre entier &agrave; l'aide de <span class="inline-code" id="30954075#k9rjwa_162">strconv.Atoi</span>.</p></li><li class="list-item" id="30954075#k9rjwa_163"><p>Si la conversion provoque une erreur, imprime cette erreur.</p></li><li class="list-item" id="30954075#k9rjwa_164"><p>Enfin, salue l'utilisateur en utilisant <span class="inline-code" id="30954075#k9rjwa_165">fmt.Printf</span>, en ins&eacute;rant le nom et l'&acirc;ge qu'ils ont entr&eacute;s dans la cha&icirc;ne.</p></li></ol><p id="30954075#k9rjwa_166"><span class="control" id="30954075#k9rjwa_167">Note</span>: G&eacute;rez toujours correctement les erreurs dans votre code. Dans ce cas, apr&egrave;s une erreur, la fonction continue l'ex&eacute;cution m&ecirc;me si les donn&eacute;es sont peut-&ecirc;tre incorrectes ou absentes. Il est g&eacute;n&eacute;ralement conseill&eacute; de renvoyer ou de traiter les erreurs de mani&egrave;re &agrave; ce qu'elles ne causent pas de probl&egrave;mes impr&eacute;vus plus tard dans l'ex&eacute;cution du programme.</p><p id="30954075#k9rjwa_168">Une fa&ccedil;on diff&eacute;rente de g&eacute;rer les erreurs lors de l'entr&eacute;e d'un nombre entier suit apr&egrave;s les exemples d'ex&eacute;cution.</p><section><h3 id="30954075#ex-cution-1" data-toc="ex-cution-1#ch02s04-Section-4-Validation-des-entrees.md-ex-cution-1">Ex&eacute;cution 1</h3><p id="30954075#k9rjwa_169">Avec des entr&eacute;es sans erreurs, la sortie sera la m&ecirc;me.</p><div class="code-block detached" id="30954075#k9rjwa_170"><pre><code class="language-none">Veuillez entrer votre nom : Denis
Veuillez entrer votre âge : 22
Bonjour Denis, vous avez 22 ans.</code></pre></div></section><section><h3 id="30954075#ex-cution-2" data-toc="ex-cution-2#ch02s04-Section-4-Validation-des-entrees.md-ex-cution-2">Ex&eacute;cution 2</h3><p id="30954075#k9rjwa_171">Avec des entr&eacute;es vides, il n'y aura pas d'erreur pour le nom parce que la cha&icirc;ne de caract&egrave;res vide est une cha&icirc;ne valide. Par contre, une cha&icirc;ne vide ne peut pas &ecirc;tre convertie en nombre entier, donc il y a une erreur pour l'&acirc;ge.</p><div class="code-block detached" id="30954075#k9rjwa_172"><pre><code class="language-none">Veuillez entrer votre nom : 
Veuillez entrer votre âge : 
strconv.Atoi: parsing &quot;&quot;: invalid syntax
Bonjour , vous avez 0 ans.</code></pre></div><p id="30954075#k9rjwa_173">On pourrait d&eacute;finir une autre version de <span class="inline-code" id="30954075#k9rjwa_174">ReadLine</span>, qui n'accepterait pas les cha&icirc;nes vides, qu'on pourrait nommer par exemple <span class="inline-code" id="30954075#k9rjwa_175">ReadLineNonEmpty</span> ou <span class="inline-code" id="30954075#k9rjwa_176">ReadNonEmptyLine</span>.</p></section></section><section><h2 id="30954075#lire-un-entier" data-toc="lire-un-entier#ch02s04-Section-4-Validation-des-entrees.md-lire-un-entier">Lire un entier</h2><p id="30954075#k9rjwa_177">La fonction <span class="inline-code" id="30954075#k9rjwa_178">ReadInt</span> utilise la fonction <span class="inline-code" id="30954075#k9rjwa_179">ReadLine</span> de la section pr&eacute;c&eacute;dente et s'assure que l'entr&eacute;e est vraiment un nombre entier. Elle retourne une erreur seulement si le nombre d'essais maximum a &eacute;t&eacute; atteint. Il serait possible de faire &agrave; peu pr&egrave;s la m&ecirc;me chose, mais en utilisant <span class="inline-code" id="30954075#k9rjwa_180">Scanf</span> &agrave; la place. Le comportement ne serait pas n&eacute;cessairement le m&ecirc;me dans tous les cas parce que <span class="inline-code" id="30954075#k9rjwa_181">Scanf</span> ne lit pas automatiquement jusqu'&agrave; la fin de la ligne, comme <span class="inline-code" id="30954075#k9rjwa_182">ReadLine</span> le fait.</p><div class="code-block detached" id="30954075#k9rjwa_183"><pre><code class="language-go">func ReadInt(nAttempts int) (int, error) {
	for i := 0; i &lt; nAttempts; i++ {
		inputStr, err := ReadLine()
		if err != nil {
			fmt.Println(&quot;Erreur lors de la lecture. Essayez de nouveau.&quot;)
		} else {
			inputNum, err := strconv.Atoi(inputStr)
			if err != nil {
				fmt.Println(&quot;Ceci n'est pas un nombre entier. Essayez de nouveau.&quot;)
			} else {
				return inputNum, nil
			}
		}
	}
	return 0, fmt.Errorf(&quot;échec : nombre limite de %d essai(s) atteint&quot;, nAttempts)
}</code></pre></div><p id="30954075#k9rjwa_184">Cette fonction tente de lire un entier depuis l'entr&eacute;e standard (<span class="inline-code" id="30954075#k9rjwa_185">stdin</span>). Le nombre de tentatives permises pour que l'utilisateur fournisse un nombre entier valide est d&eacute;fini par le param&egrave;tre <span class="inline-code" id="30954075#k9rjwa_186">nAttempts</span>.</p><p id="30954075#k9rjwa_187">Voici une interpr&eacute;tation pas &agrave; pas :</p><ol class="list list-decimal" id="30954075#k9rjwa_188" type="1" start="1"><li class="list-item" id="30954075#k9rjwa_189"><p id="30954075#k9rjwa_190">La fonction initialise une boucle <span class="inline-code" id="30954075#k9rjwa_191">for</span> qui continue pendant le nombre sp&eacute;cifi&eacute; de tentatives (<span class="inline-code" id="30954075#k9rjwa_192">nAttempts</span>).</p></li><li class="list-item" id="30954075#k9rjwa_193"><p id="30954075#k9rjwa_194">&Agrave; l'int&eacute;rieur de la boucle, elle appelle la fonction <span class="inline-code" id="30954075#k9rjwa_195">ReadLine()</span> pour lire une ligne &agrave; partir de l'entr&eacute;e standard.</p><div class="code-block detached" id="30954075#k9rjwa_196"><pre><code class="language-go">inputStr, err := ReadLine()</code></pre></div><p id="30954075#k9rjwa_197"><span class="inline-code" id="30954075#k9rjwa_198">ReadLine</span> est la m&ecirc;me fonction que dans l'exemple pr&eacute;c&eacute;dent.</p></li><li class="list-item" id="30954075#k9rjwa_199"><p id="30954075#k9rjwa_200">Si une erreur s'est produite lors de la lecture de la ligne (par exemple, si une erreur d'E/S s'est produite), la fonction affiche un message d'erreur et passe &agrave; la prochaine it&eacute;ration.</p><div class="code-block detached" id="30954075#k9rjwa_201"><pre><code class="language-none">fmt.Println(&quot;Erreur lors de la lecture. Essayez de nouveau.&quot;)</code></pre></div></li><li class="list-item" id="30954075#k9rjwa_202"><p id="30954075#k9rjwa_203">Si aucune erreur ne s'est produite lors de la lecture, elle tente de convertir la ligne en entier &agrave; l'aide de <span class="inline-code" id="30954075#k9rjwa_204">strconv.Atoi</span>.</p><div class="code-block detached" id="30954075#k9rjwa_205"><pre><code class="language-go">inputNum, err := strconv.Atoi(inputStr)</code></pre></div></li><li class="list-item" id="30954075#k9rjwa_206"><p id="30954075#k9rjwa_207">Si une erreur s'est produite lors de la conversion (par exemple, si la ligne n'est pas un entier valide), la fonction imprime un message d'erreur informatif et passe &agrave; la prochaine it&eacute;ration.</p><div class="code-block detached" id="30954075#k9rjwa_208"><pre><code class="language-none">fmt.Println(&quot;Ceci n'est pas un nombre entier. Essayez de nouveau.&quot;)</code></pre></div></li><li class="list-item" id="30954075#k9rjwa_209"><p id="30954075#k9rjwa_210">Si la conversion a r&eacute;ussi, la fonction retourne l'entier et une erreur <span class="inline-code" id="30954075#k9rjwa_211">nil</span>.</p><div class="code-block detached" id="30954075#k9rjwa_212"><pre><code class="language-go">return inputNum, nil</code></pre></div></li><li class="list-item" id="30954075#k9rjwa_213"><p id="30954075#k9rjwa_214">Si la fonction n'a pas pu lire un entier valide apr&egrave;s <span class="inline-code" id="30954075#k9rjwa_215">nAttempts</span> tentatives, elle renvoie <span class="inline-code" id="30954075#k9rjwa_216">0</span> et un message d'erreur indiquant que la limite des tentatives a &eacute;t&eacute; atteinte.</p><div class="code-block detached" id="30954075#k9rjwa_217"><pre><code class="language-go">return 0, fmt.Errorf(&quot;échec : nombre limite de %d essai(s) atteint&quot;, nAttempts)</code></pre></div></li></ol><p id="30954075#k9rjwa_218">Donc, cette fonction essaie de lire un ensemble de caract&egrave;res depuis l'entr&eacute;e standard, convertit cet ensemble de caract&egrave;res en un entier, et le renvoie. Si elle n'est pas en mesure de lire l'entr&eacute;e correctement, ou si les caract&egrave;res lus ne repr&eacute;sentent pas un entier, elle renvoie une erreur d&egrave;s que le nombre limite d'essais a &eacute;t&eacute; atteint.</p></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="65243205">Exercices</h1><ol class="list list-decimal" id="65243205#-4iz8v4_23" type="1" start="1"><li class="list-item" id="65243205#-4iz8v4_24"><p>&Eacute;crire et tester la fonction <span class="inline-code" id="65243205#-4iz8v4_25">ReadNonEmptyLine</span>, qui, tant que l'entr&eacute;e est la cha&icirc;ne vide ou qu'il y a une erreur lors de la lecture de la ligne, refuse cette entr&eacute;e et redemande d'entrer une cha&icirc;ne. Vous pouvez vous baser sur la fonction <span class="inline-code" id="65243205#-4iz8v4_26">ReadInt</span>, pr&eacute;sent&eacute;e dans la prochaine section.</p></li><li class="list-item" id="65243205#-4iz8v4_27"><p>Cr&eacute;ez une copie de la fonction <span class="inline-code" id="65243205#-4iz8v4_28">section4a</span> nomm&eacute;e <span class="inline-code" id="65243205#-4iz8v4_29">section4b</span> qui a fait la m&ecirc;me chose, mais qui utilise les fonctions <span class="inline-code" id="65243205#-4iz8v4_30">ReadNonEmptyLine</span> et <span class="inline-code" id="65243205#-4iz8v4_31">ReadInt</span> pour valider les entr&eacute;es.</p></li><li class="list-item" id="65243205#-4iz8v4_32"><p>Faites une version de <span class="inline-code" id="65243205#-4iz8v4_33">ReadInt</span> qui utilise <span class="inline-code" id="65243205#-4iz8v4_34">Scanf</span> &agrave; la place de <span class="inline-code" id="65243205#-4iz8v4_35">ReadLine</span>.</p></li><li class="list-item" id="65243205#-4iz8v4_36"><p>Faites une autre version de <span class="inline-code" id="65243205#-4iz8v4_37">ReadInt</span> (&agrave; partir de l'originale ou de celle de l'exercice pr&eacute;c&eacute;dent), qui, lorsque <span class="inline-code" id="65243205#-4iz8v4_38">nAttempts</span> est plus petit que 1, va toujours redemander une entr&eacute;e, donc il n'y aura pas de limite au nombre d'essais. Lorsque <span class="inline-code" id="65243205#-4iz8v4_39">nAttempts</span> est au moins 1, la fonction doit faire la m&ecirc;me chose qu'avant.</p></li><li class="list-item" id="65243205#-4iz8v4_40"><p>Faites une version de <span class="inline-code" id="65243205#-4iz8v4_41">ReadNonEmptyLine</span> qui accepte en param&egrave;tre un nombre d'essais, comme pour <span class="inline-code" id="65243205#-4iz8v4_42">ReadInt</span>. G&eacute;rez le nombre d'essais de la m&ecirc;me fa&ccedil;on que l'exemple pr&eacute;c&eacute;dent.</p></li></ol></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-845339844">Chapitre 3 : Tableaux et tranches</h1><p id="-845339844#cyzl0b_28">En Go, un tableau est une collection de valeurs de m&ecirc;me type qui sont stock&eacute;es de mani&egrave;re contigu&euml; en m&eacute;moire. La taille d'un tableau est fixe, c'est-&agrave;-dire que vous devez d&eacute;finir la taille d'un tableau au moment de sa d&eacute;claration.</p><p id="-845339844#cyzl0b_29">Voici comment nous d&eacute;finissons un tableau en Go :</p><div class="code-block detached" id="-845339844#cyzl0b_30"><pre><code class="language-go">var monTableau [10]int</code></pre></div><p id="-845339844#cyzl0b_31">Dans l'exemple ci-dessus, <span class="inline-code" id="-845339844#cyzl0b_38">monTableau</span> est un tableau de dix entiers. <span class="inline-code" id="-845339844#cyzl0b_39">var</span> est le mot-cl&eacute; utilis&eacute; pour d&eacute;clarer une variable. <span class="inline-code" id="-845339844#cyzl0b_40">monTableau</span> est le nom du tableau, <span class="inline-code" id="-845339844#cyzl0b_41">[10]</span> indique la taille du tableau et <span class="inline-code" id="-845339844#cyzl0b_42">int</span> est le type de donn&eacute;es que le tableau peut stocker.</p><p id="-845339844#cyzl0b_32">Pour initialiser un tableau au moment de la d&eacute;claration, vous pouvez faire comme suit :</p><div class="code-block detached" id="-845339844#cyzl0b_33"><pre><code class="language-go">monTableau := [5]int{1, 2, 3, 4, 5}</code></pre></div><p id="-845339844#cyzl0b_34">Dans cette d&eacute;claration, <span class="inline-code" id="-845339844#cyzl0b_43">monTableau</span> est un tableau de <span class="inline-code" id="-845339844#cyzl0b_44">5</span> entiers. Le tableau est initialis&eacute; avec les valeurs <span class="inline-code" id="-845339844#cyzl0b_45">1</span>, <span class="inline-code" id="-845339844#cyzl0b_46">2</span>, <span class="inline-code" id="-845339844#cyzl0b_47">3</span>, <span class="inline-code" id="-845339844#cyzl0b_48">4</span>, <span class="inline-code" id="-845339844#cyzl0b_49">5</span>.</p><p id="-845339844#cyzl0b_35">Vous pouvez &eacute;galement cr&eacute;er un tableau sans sp&eacute;cifier sa taille et laisser Go d&eacute;terminer la taille en fonction du nombre d'&eacute;l&eacute;ments que vous fournissez :</p><div class="code-block detached" id="-845339844#cyzl0b_36"><pre><code class="language-go">monTableau := [...]int{1, 2, 3, 4, 5}</code></pre></div><p id="-845339844#cyzl0b_37">Ici, <span class="inline-code" id="-845339844#cyzl0b_50">monTableau</span> est aussi un tableau de <span class="inline-code" id="-845339844#cyzl0b_51">5</span> entiers, tout comme dans l'exemple pr&eacute;c&eacute;dent. Cependant, nous avons utilis&eacute; <span class="inline-code" id="-845339844#cyzl0b_52">...</span> au lieu de sp&eacute;cifier la taille du tableau, et Go a automatiquement d&eacute;duit la taille &agrave; partir du nombre d'&eacute;l&eacute;ments fournis.</p></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="220533042">Section 1 : Valeur ou pointeur ?</h1><p id="220533042#-ojhmwm_54">En Go, les tableaux sont des types valeur, pas des pointeurs, contrairement &agrave; d'autres langages de programmation.</p><p id="220533042#-ojhmwm_55">Cela signifie que lorsqu'un tableau est assign&eacute; &agrave; une nouvelle variable, une copie du tableau original est cr&eacute;&eacute;e. De la m&ecirc;me mani&egrave;re, passer un tableau &agrave; une fonction entra&icirc;nera la cr&eacute;ation d'une copie de ce tableau dans la fonction. Les modifications apport&eacute;es &agrave; la copie ne modifieront pas le tableau original.</p><p id="220533042#-ojhmwm_56">Voici un exemple pour illustrer ceci :</p><div class="code-block detached" id="220533042#-ojhmwm_57"><pre><code class="language-go">package main

import &quot;fmt&quot;

// La fonction modifierTentative modifie le tableau qu'elle reçoit.
func modifierTentative(tab [3]int) {
	tab[0] = 100
}

func main() {
	monTableau := [3]int{1, 2, 3}

	modifierTentative(monTableau)

	fmt.Println(monTableau) // Sortie : [1 2 3]

	autreTableau := monTableau
	autreTableau[1] = 100

	fmt.Println(monTableau) // Sortie : [1 2 3]
}</code></pre></div><div class="container"><figure class="image-container"><img class="center image" id="220533042#-ojhmwm_58" alt="ch03s01-Tableau 1a.jpg" title="ch03s01-Tableau 1a.jpg" src="/home/denis/projets/WritersideProjects/native1/Writerside/images/ch03s01-Tableau-1a.jpg" width="777" height="203"><figcaption class="center-text">ch03s01-Tableau 1a.jpg</figcaption></figure></div><p id="220533042#-ojhmwm_59">Dans l'exemple ci-dessus, m&ecirc;me si la fonction <span class="inline-code" id="220533042#-ojhmwm_63">modifierTentative</span> a tent&eacute; de modifier le premier &eacute;l&eacute;ment du tableau <span class="inline-code" id="220533042#-ojhmwm_64">tab</span>, cela n'a pas eu d'impact sur <span class="inline-code" id="220533042#-ojhmwm_65">monTableau</span> dans la fonction <span class="inline-code" id="220533042#-ojhmwm_66">main</span>. C'est pourquoi lorsque nous imprimons <span class="inline-code" id="220533042#-ojhmwm_67">monTableau</span> apr&egrave;s l'appel &agrave; <span class="inline-code" id="220533042#-ojhmwm_68">modifierTentative</span>, les valeurs restent inchang&eacute;es.</p><div class="container"><figure class="image-container"><img class="center image" id="220533042#-ojhmwm_60" alt="ch03s01-Tableau-1b.jpg" title="ch03s01-Tableau-1b.jpg" src="/home/denis/projets/WritersideProjects/native1/Writerside/images/ch03s01-Tableau-1b.jpg" width="967" height="362"><figcaption class="center-text">ch03s01-Tableau-1b.jpg</figcaption></figure></div><p id="220533042#-ojhmwm_61">Le m&ecirc;me principe s'applique si on cr&eacute;e un autre tableau &agrave; partir de <span class="inline-code" id="220533042#-ojhmwm_69">monTableau</span>. Quand on fait <span class="inline-code" id="220533042#-ojhmwm_70">autreTableau := monTableau</span>, on cr&eacute;e un autre espace m&eacute;moire pour <span class="inline-code" id="220533042#-ojhmwm_71">autreTableau</span> du m&ecirc;me type et de m&ecirc;me longueur que <span class="inline-code" id="220533042#-ojhmwm_72">monTableau</span>, et le contenu de <span class="inline-code" id="220533042#-ojhmwm_73">monTableau</span> est copi&eacute; dans <span class="inline-code" id="220533042#-ojhmwm_74">autreTableau</span>.</p><p id="220533042#-ojhmwm_62">Si vous voulez que les modifications se r&eacute;percutent sur le tableau d'origine, vous devriez utiliser des tranches (<span class="inline-code" id="220533042#-ojhmwm_75">slice</span>) ou passer un pointeur vers le tableau d'origine. Les tranches seront pr&eacute;sent&eacute;es un peu plus loin. Un exemple avec un pointeur vers un tableau suit.</p><section><h2 id="220533042#la-longueur-du-tableau-fait-partie-du-type" data-toc="la-longueur-du-tableau-fait-partie-du-type#ch03s01-Section-1-valeur-ou-pointeur.md-la-longueur-du-tableau-fait-partie-du-type">La longueur du tableau fait partie du type</h2><p id="220533042#-ojhmwm_76">Le fait qu'en Go, un tableau est de type valeur, implique que, en plus du type des &eacute;l&eacute;ments du tableau, la longueur du tableau fait partie du type du tableau. Il n'est pas possible, par exemple, de passer en argument un tableau de type <span class="inline-code" id="220533042#-ojhmwm_77">[4]int</span> &agrave; une fonction qui demande un tableau de type <span class="inline-code" id="220533042#-ojhmwm_78">[3]int</span>.</p><p id="220533042#-ojhmwm_79">Modifiez l'exemple pr&eacute;c&eacute;dent en modifiant soit la taille du tableau dans le <span class="inline-code" id="220533042#-ojhmwm_80">main</span>, soit la longueur du tableau dans la d&eacute;claration du param&egrave;tre de la fonction, et vous obtiendrez une erreur du genre <span class="inline-code" id="220533042#-ojhmwm_81">cannot use monTableau (variable of type [4]int) as [3]int value in argument to modifierTentative</span>. Le programme ne compilera pas parce que les types ne correspondent pas. Puisque les valeurs du tableau donn&eacute; en argument doivent &ecirc;tre copi&eacute;es dans le tableau local &agrave; la fonction, non seulement les valeurs doivent &ecirc;tre du m&ecirc;me type, mais il doit y avoir le m&ecirc;me nombre de valeurs (c.-&agrave;-d. la m&ecirc;me longueur de tableau) dans les deux tableaux.</p><p id="220533042#-ojhmwm_82">Pour passer un tableau &agrave; une fonction, on utilise soit un pointeur vers un tableau, ou plus couramment une tranche, qui contient un pointeur vers un tableau.</p></section><section><h2 id="220533042#pointeur-vers-un-tableau" data-toc="pointeur-vers-un-tableau#ch03s01-Section-1-valeur-ou-pointeur.md-pointeur-vers-un-tableau">Pointeur vers un tableau</h2><p id="220533042#-ojhmwm_84">L'exemple suivant est une modification de l'exemple pr&eacute;c&eacute;dent, sauf que la fonction accepte un pointeur vers le tableau plut&ocirc;t qu'une copie du tableau.</p><div class="code-block detached" id="220533042#-ojhmwm_85"><pre><code class="language-go">package main

import &quot;fmt&quot;

// La fonction modifierTentative modifie le tableau qu'elle reçoit.
func modifierTentative(tab *[3]int) {
    (*tab)[0] = 100
}

func main() {
    monTableau := [3]int{1, 2, 3}
    
    modifierTentative(&amp;monTableau)
    
    fmt.Println(monTableau)  // Output : [100 2 3]
}</code></pre></div><div class="container"><figure class="image-container"><img class="center image" id="220533042#-ojhmwm_83" alt="ch03s01-Tableau-2.jpg" title="ch03s01-Tableau-2.jpg" src="/home/denis/projets/WritersideProjects/native1/Writerside/images/ch03s01-Tableau-2.jpg" width="773" height="225"><figcaption class="center-text">ch03s01-Tableau-2.jpg</figcaption></figure></div><p id="220533042#-ojhmwm_86">Dans cet exemple, <span class="inline-code" id="220533042#-ojhmwm_87">modifierTentative</span> accepte un pointeur vers un tableau de 3 entiers (type <span class="inline-code" id="220533042#-ojhmwm_88">*[3]int</span>). &Agrave; l'int&eacute;rieur de la fonction, nous utilisons <span class="inline-code" id="220533042#-ojhmwm_89">(*tab)[0]</span> pour acc&eacute;der au premier &eacute;l&eacute;ment du tableau point&eacute; par <span class="inline-code" id="220533042#-ojhmwm_90">tab</span> et pour le modifier. Les parenth&egrave;ses sont n&eacute;cessaires ici parce que les crochets <span class="inline-code" id="220533042#-ojhmwm_91">[]</span> ont pr&eacute;s&eacute;ance sur l'ast&eacute;risque <span class="inline-code" id="220533042#-ojhmwm_92">*</span>, donc il faut d&eacute;r&eacute;f&eacute;rencer le pointeur vers un tableau avant d'essayer d'acc&eacute;der &agrave; ses &eacute;l&eacute;ments.</p><p id="220533042#-ojhmwm_93">Dans la fonction <span class="inline-code" id="220533042#-ojhmwm_94">main</span>, nous passons l'adresse du tableau (<span class="inline-code" id="220533042#-ojhmwm_95">&amp;monTableau</span>) &agrave; la fonction <span class="inline-code" id="220533042#-ojhmwm_96">modifierTentative</span>.</p><p id="220533042#-ojhmwm_97">Maintenant, les modifications apport&eacute;es &agrave; l'int&eacute;rieur de <span class="inline-code" id="220533042#-ojhmwm_98">modifierTentative</span> sont r&eacute;percut&eacute;es sur le tableau <span class="inline-code" id="220533042#-ojhmwm_99">monTableau</span> dans <span class="inline-code" id="220533042#-ojhmwm_100">main</span>. Ainsi, lorsque nous imprimons <span class="inline-code" id="220533042#-ojhmwm_101">monTableau</span> apr&egrave;s l'appel &agrave; <span class="inline-code" id="220533042#-ojhmwm_102">modifierTentative</span>, il affiche le tableau modifi&eacute; :</p><p id="220533042#-ojhmwm_103"><span class="inline-code" id="220533042#-ojhmwm_104">[100 2 3]</span></p></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-1020789983">Section 2 : Tranches</h1><p id="-1020789983#i8r364g_72">En Go, lorsque vous utilisez un tableau statique et passez un pointeur de ce tableau &agrave; une fonction, vous devez sp&eacute;cifier la taille du tableau. C'est parce que les tableaux de diff&eacute;rentes tailles sont consid&eacute;r&eacute;s comme des types diff&eacute;rents en Go. En d'autres mots, la taille du tableau fait partie de son type.</p><p id="-1020789983#i8r364g_73">Cependant, si vous voulez une fonction qui puisse accepter une collection d'entiers de n'importe quelle taille, vous devriez utiliser une <span class="control" id="-1020789983#i8r364g_82">tranche</span> (<span class="emphasis" id="-1020789983#i8r364g_83">slice</span>) au lieu d'un tableau. Les tranches sont des abstractions construites autour des tableaux et sont plus flexibles. Les tranches sont une structure de donn&eacute;es de la cat&eacute;gorie des <span class="control" id="-1020789983#i8r364g_84">tableaux dynamiques</span>, qui ressemblent aux <span class="inline-code" id="-1020789983#i8r364g_85">ArrayList</span> en Java.</p><p id="-1020789983#i8r364g_74">Voici une modification de l'exemple pr&eacute;c&eacute;dent, mais avec des tranches :</p><div class="code-block detached" id="-1020789983#i8r364g_75"><pre><code class="language-go">package main

import &quot;fmt&quot;

// La fonction modifierTentative modifie la tranche qu'elle reçoit.
func modifierTentative(s []int) {
    s[0] = 100
}

func main() {
    maTranche := []int{1, 2, 3}
    
    modifierTentative(maTranche)
    
    fmt.Println(maTranche)  // Output : [100 2 3]
}</code></pre></div><p id="-1020789983#i8r364g_76">Dans cet exemple, <span class="inline-code" id="-1020789983#i8r364g_86">modifierTentative</span> accepte une tranche d'entiers (<span class="inline-code" id="-1020789983#i8r364g_87">[]int</span>). &Agrave; l'int&eacute;rieur de la fonction, nous utilisons <span class="inline-code" id="-1020789983#i8r364g_88">s[0]</span> pour acc&eacute;der au premier &eacute;l&eacute;ment de la tranche <span class="inline-code" id="-1020789983#i8r364g_89">s</span> et pour la modifier.</p><p id="-1020789983#i8r364g_77">Et ici, contrairement aux tableaux, le passage d'une tranche &agrave; une fonction ne cr&eacute;e pas de nouvelle copie des donn&eacute;es du tableau. Au lieu de cela, la fonction modifie la tranche originale. C'est pourquoi lorsque nous imprimons <span class="inline-code" id="-1020789983#i8r364g_90">maTranche</span> apr&egrave;s l'appel &agrave; <span class="inline-code" id="-1020789983#i8r364g_91">modifierTentative</span>, &ccedil;a affiche la tranche modifi&eacute;e : <span class="inline-code" id="-1020789983#i8r364g_92">[100 2 3]</span>.</p><p id="-1020789983#i8r364g_78">Non seulement la taille d'une tranche est dynamique (c'est pour &ccedil;a qu'on appelle souvent les structures de ce type des tableaux dynamiques), mais on peut &eacute;galement modifier leur contenu sans avoir besoin d'utiliser un pointeur vers la tranche, comme dans l'exemple pr&eacute;c&eacute;dent.</p><p id="-1020789983#i8r364g_79">Voici la repr&eacute;sentation m&eacute;moire des variables de l'exemple, mais pour comprendre les d&eacute;tails, il va falloir comprendre ce qu'est une structure. Plus de d&eacute;tails sur les tranches seront pr&eacute;sent&eacute;s dans un autre chapitre, apr&egrave;s la pr&eacute;sentation des structures (<span class="inline-code" id="-1020789983#i8r364g_93">struct</span>) et des principes de la gestion de la m&eacute;moire. Mais en attendant, on peut voir une structure comme &eacute;tant un regroupement de plusieurs variables ensemble, un peu comme une classe avec ses attributs dans un langage orient&eacute;-objet.</p><div class="container"><figure class="image-container"><img class="center image" id="-1020789983#i8r364g_80" alt="ch03s02-Tranche.jpg" title="ch03s02-Tranche.jpg" src="/home/denis/projets/WritersideProjects/native1/Writerside/images/ch03s02-Tranche.jpg" width="770" height="256"><figcaption class="center-text">ch03s02-Tranche.jpg</figcaption></figure></div><p id="-1020789983#i8r364g_81">Dans une structure repr&eacute;sentant une tranche, on a essentiellement 2 nombres entiers, la longueur et la capacit&eacute; de la tranche, suivi d'un pointeur vers un tableau. La capacit&eacute; est la longueur du tableau, &eacute;gale &agrave; 3 dans l'exemple, et la longueur est le nombre d'emplacements utilis&eacute;s dans le tableau, aussi &eacute;gale &agrave; 3 dans l'exemple. Comme mentionn&eacute; pr&eacute;c&eacute;demment, les tranches vont &ecirc;tre expliqu&eacute;es plus en d&eacute;tails dans un autre chapitre. Le plus important pour l'instant, c'est qu'une tranche contient un pointeur vers un tableau, et lorsque l'on passe une tranche en param&egrave;tre &agrave; une fonction, on copie la structure, incluant le pointeur vers le tableau, mais on ne copie le tableau lui-m&ecirc;me. C'est un peu comme si on passait un pointeur &agrave; un tableau comme dans un exemple pr&eacute;c&eacute;dent, mais accompagn&eacute; de 2 valeurs suppl&eacute;mentaires. Donc quand on modifie le contenu de la tranche avec <span class="inline-code" id="-1020789983#i8r364g_94">s[0] = 100</span>, on modifie r&eacute;ellement le tableau cach&eacute; derri&egrave;re la tranche, qui lui n'est pas copi&eacute;, mais partag&eacute; entre <span class="inline-code" id="-1020789983#i8r364g_95">maTranche</span> et <span class="inline-code" id="-1020789983#i8r364g_96">s</span>.</p><section><h2 id="-1020789983#taille-dynamique" data-toc="taille-dynamique#ch03s02-Section-2-Tranches.md-taille-dynamique">Taille dynamique</h2><section><h3 id="-1020789983#avec-append" data-toc="avec-append#ch03s02-Section-2-Tranches.md-avec-append">Avec append</h3><p id="-1020789983#i8r364g_98">Pour ajouter des &eacute;l&eacute;ments &agrave; une tranche, on doit utiliser la fonction <span class="inline-code" id="-1020789983#i8r364g_99">append</span>. Cette fonction accepte une tranche suivie d'un ou plusieurs &eacute;l&eacute;ments &agrave; ajouter, et retourne la tranche avec les &eacute;l&eacute;ments qui ont &eacute;t&eacute; ajout&eacute;s. Il ne faut surtout pas ignorer la valeur de retour, sinon les changements seront perdus.</p><div class="code-block detached" id="-1020789983#i8r364g_100"><pre><code class="language-go">s := []int{1, 2, 3}
fmt.Println(s)       // sortie : [1 2 3]
s = append(s, 7, 4)
fmt.Println(s)       // sortie : [1 2 3 7 4]</code></pre></div><section><h4 id="-1020789983#modification-l-int-rieur-d-une-fonction-exemple-1" data-toc="modification-l-int-rieur-d-une-fonction-exemple-1#ch03s02-Section-2-Tranches.md-modification-l-int-rieur-d-une-fonction-exemple-1">Modification &agrave; l'int&eacute;rieur d'une fonction : exemple 1</h4><p id="-1020789983#i8r364g_101">Cet exemple sert de r&eacute;f&eacute;rence. C'est un exemple de modification comme d&eacute;j&agrave; fait pr&eacute;c&eacute;demment. Un &eacute;l&eacute;ment de la tranche est modifi&eacute; &agrave; l'int&eacute;rieur de la fonction, et le changement est visible &agrave; l'ext&eacute;rieur.</p><div class="code-block detached" id="-1020789983#i8r364g_102"><pre><code class="language-go">func modSlice1(s []int) {
	s[0] = 100
}

func section2a() {
	s := []int{1, 2, 3}
	fmt.Println(s)
	modSlice1(s)
	fmt.Println(s)
	fmt.Println()
}</code></pre></div><p id="-1020789983#i8r364g_103">Sortie :</p><div class="code-block detached" id="-1020789983#i8r364g_104"><pre><code class="language-go">[1 2 3]
[100 2 3]</code></pre></div></section><section><h4 id="-1020789983#modification-l-int-rieur-d-une-fonction-exemple-2" data-toc="modification-l-int-rieur-d-une-fonction-exemple-2#ch03s02-Section-2-Tranches.md-modification-l-int-rieur-d-une-fonction-exemple-2">Modification &agrave; l'int&eacute;rieur d'une fonction : exemple 2</h4><p id="-1020789983#i8r364g_105">Si on modifie une tranche &agrave; l'aide de <span class="inline-code" id="-1020789983#i8r364g_106">append</span> &agrave; l'int&eacute;rieur d'une fonction, les changements ne seront pas visibles &agrave; l'ext&eacute;rieur parce que la longueur et la capacit&eacute; sont des copies locales, donc les changements ne seront pas visible &agrave; l'ext&eacute;rieur de la fonction.</p><div class="code-block detached" id="-1020789983#i8r364g_107"><pre><code class="language-go">func modSlice2(s []int) {
	s = append(s, 100)
}

func section2b() {
	s := []int{1, 2, 3}
	fmt.Println(s)
	modSlice2(s)
	fmt.Println(s)
	fmt.Println()
}</code></pre></div><p id="-1020789983#i8r364g_108">Sortie :</p><div class="code-block detached" id="-1020789983#i8r364g_109"><pre><code class="language-go">[1 2 3]
[1 2 3]</code></pre></div></section><section><h4 id="-1020789983#modification-l-int-rieur-d-une-fonction-exemple-3" data-toc="modification-l-int-rieur-d-une-fonction-exemple-3#ch03s02-Section-2-Tranches.md-modification-l-int-rieur-d-une-fonction-exemple-3">Modification &agrave; l'int&eacute;rieur d'une fonction : exemple 3</h4><p id="-1020789983#i8r364g_110">Pour voir l'effet de <span class="inline-code" id="-1020789983#i8r364g_111">append</span> &agrave; l'ext&eacute;rieur de la fonction, il faut passer un pointeur vers la tranche pour &ecirc;tre capable de modifier la structure qui contient la longueur et la capacit&eacute; de la tranche directement, et non une copie de ces valeurs.</p><div class="code-block detached" id="-1020789983#i8r364g_112"><pre><code class="language-go">func modSlice3(s *[]int) {
	*s = append(*s, 100)
}

func section2c() {
	s := []int{1, 2, 3}
	fmt.Println(s)
	modSlice3(&amp;s)
	fmt.Println(s)
	fmt.Println()
}</code></pre></div><p id="-1020789983#i8r364g_113">Sortie :</p><div class="code-block detached" id="-1020789983#i8r364g_114"><pre><code class="language-go">[1 2 3]
[1 2 3 100]</code></pre></div></section></section><section><h3 id="-1020789983#cr-er-une-tranche-avec-la-fonction-make" data-toc="cr-er-une-tranche-avec-la-fonction-make#ch03s02-Section-2-Tranches.md-cr-er-une-tranche-avec-la-fonction-make">Cr&eacute;er une tranche avec la fonction make</h3><p id="-1020789983#i8r364g_116">Il est possible d'utiliser la fonction <span class="inline-code" id="-1020789983#i8r364g_117">make</span> pour cr&eacute;er une tranche de longueur et de capacit&eacute; variables. La fonction accepte le type &agrave; cr&eacute;er, suivi de la longueur et de la capacit&eacute; : <span class="inline-code" id="-1020789983#i8r364g_118">make([]int, length, capacity)</span>.</p><section><h4 id="-1020789983#modification-l-int-rieur-d-une-fonction-exemple-4" data-toc="modification-l-int-rieur-d-une-fonction-exemple-4#ch03s02-Section-2-Tranches.md-modification-l-int-rieur-d-une-fonction-exemple-4">Modification &agrave; l'int&eacute;rieur d'une fonction : exemple 4</h4><p id="-1020789983#i8r364g_119">Voici un exemple semblable aux pr&eacute;c&eacute;dents, mais avec la fonction <span class="inline-code" id="-1020789983#i8r364g_120">make</span> pour la cr&eacute;ation de la tranche. Dans cet exemple, apr&egrave;s l'appel &agrave; <span class="inline-code" id="-1020789983#i8r364g_121">make</span>, la tranche contient 3 &eacute;l&eacute;ments, tous &eacute;gaux &agrave; 0, la valeur par d&eacute;faut pour un <span class="inline-code" id="-1020789983#i8r364g_122">int</span>. Mais le tableau a de l'espace pour 2 &eacute;l&eacute;ments de plus parce que la capacit&eacute; est 5. Plus de d&eacute;tails sur les algorithmes utilis&eacute;s pour la gestion de la m&eacute;moire par une tranche seront pr&eacute;sent&eacute;s dans un autre chapitre.</p><div class="code-block detached" id="-1020789983#i8r364g_123"><pre><code class="language-go">func modSlice4(s []int) {
	s = append(s, 100)
}

func section2d() {
	s := make([]int, 3, 5)
	s[0] = 4
	s[1] = 1
	s[2] = -5
	fmt.Printf(&quot;%d %d %v\n&quot;, len(s), cap(s), s)
	modSlice4(s)
	fmt.Printf(&quot;%d %d %v\n\n&quot;, len(s), cap(s), s)
}</code></pre></div><p id="-1020789983#i8r364g_124">Sortie :</p><div class="code-block detached" id="-1020789983#i8r364g_125"><pre><code class="language-go">3 5 [4 1 -5]
3 5 [4 1 -5]</code></pre></div></section><section><h4 id="-1020789983#modification-l-int-rieur-d-une-fonction-exemple-5" data-toc="modification-l-int-rieur-d-une-fonction-exemple-5#ch03s02-Section-2-Tranches.md-modification-l-int-rieur-d-une-fonction-exemple-5">Modification &agrave; l'int&eacute;rieur d'une fonction : exemple 5</h4><p id="-1020789983#i8r364g_126">Un autre exemple, semblable au pr&eacute;c&eacute;dent, mais utilisant un pointeur vers une tranche comme type du param&egrave;tre de la fonction. Notez que la capacit&eacute; de la tranche augmente automatiquement si n&eacute;cessaire.</p><div class="code-block detached" id="-1020789983#i8r364g_127"><pre><code class="language-go">func modSlice5(s *[]int) {
	*s = append(*s, 100)
}

func section2e() {
	s := make([]int, 3, 5)
	s[0] = 4
	s[1] = 1
	s[2] = -5
	fmt.Printf(&quot;%d %d %v\n&quot;, len(s), cap(s), s)
	modSlice5(&amp;s)
	fmt.Printf(&quot;%d %d %v\n&quot;, len(s), cap(s), s)
	modSlice5(&amp;s)
	modSlice5(&amp;s)
	fmt.Printf(&quot;%d %d %v\n\n&quot;, len(s), cap(s), s)
}</code></pre></div><p id="-1020789983#i8r364g_128">Sortie :</p><div class="code-block detached" id="-1020789983#i8r364g_129"><pre><code class="language-go">3 5 [4 1 -5]
4 5 [4 1 -5 100]
6 10 [4 1 -5 100 100 100]</code></pre></div></section></section></section><section><h2 id="-1020789983#obtenir-une-sous-tranche-d-une-tranche" data-toc="obtenir-une-sous-tranche-d-une-tranche#ch03s02-Section-2-Tranches.md-obtenir-une-sous-tranche-d-une-tranche">Obtenir une sous-tranche d'une tranche</h2><p id="-1020789983#i8r364g_130">Une sous-tranche est une tranche d&eacute;riv&eacute;e d'une autre tranche. On doit sp&eacute;cifier un intervalle avec 2 index, l'index de d&eacute;part et celui d'arriv&eacute;e. Voici quelques exemples :</p><div class="code-block detached" id="-1020789983#i8r364g_131"><pre><code class="language-go">func section2f() {
	numbers := []int{0, 1, 2, 3, 4, 5}
	fmt.Println(numbers)
	fmt.Println(numbers[1:6])
	fmt.Println(numbers[1:5])
	sub := numbers[1:]
	fmt.Println(sub)
	numbers[2] = -1
	fmt.Println(numbers)
	fmt.Println(sub)
	fmt.Println(sub[:len(sub)-1])
	fmt.Println(sub[1:2])
	fmt.Println(sub[1])
}</code></pre></div><p id="-1020789983#i8r364g_132">Sortie :</p><div class="code-block detached" id="-1020789983#i8r364g_133"><pre><code class="language-go">[0 1 2 3 4 5]
[1 2 3 4 5]
[1 2 3 4]
[1 2 3 4 5]
[0 1 -1 3 4 5]
[1 -1 3 4 5]
[1 -1 3 4]
[-1]
-1</code></pre></div><p id="-1020789983#i8r364g_134">Il est important de noter que les sous-tranches partagent le m&ecirc;me tableau sous-jacent avec la tranche originale, toute modification de la sous-tranche affectera la tranche originale. Ce comportement est d&ucirc; &agrave; la fa&ccedil;on dont les tranches en Go sont con&ccedil;ues, o&ugrave; une tranche se compose d'un pointeur vers le tableau, la longueur de la tranche, et sa capacit&eacute;.</p><p id="-1020789983#i8r364g_135">Lorsque vous traitez de grands ensembles de donn&eacute;es, la cr&eacute;ation de sous-tranches peut &eacute;conomiser de la m&eacute;moire, car vous ne dupliquez pas l'ensemble des donn&eacute;es. Gardez &agrave; l'esprit la caract&eacute;ristique de partage de tableau des tranches lors de la modification de celles-ci, surtout lors de l'ex&eacute;cution concurrente.</p><p id="-1020789983#i8r364g_136">N'oubliez pas de v&eacute;rifier les limites du tableau lors du d&eacute;coupage, pour &eacute;viter une panique d'ex&eacute;cution. Les limites d'une tranche sont inclusives pour l'indice de d&eacute;but et exclusives pour l'indice de fin, c'est-&agrave;-dire <span class="inline-code" id="-1020789983#i8r364g_137">slice[start:end]</span>.</p><p id="-1020789983#i8r364g_138">Notez aussi, dans l'exemple pr&eacute;c&eacute;dent, la diff&eacute;rence entre les 2 derni&egrave;res sorties. La derni&egrave;re sortie est cr&eacute;&eacute;e en sp&eacute;cifiant seulement une valeur entre les crochets <span class="inline-code" id="-1020789983#i8r364g_139">[]</span>, donc aucune sous-tranche n'est cr&eacute;&eacute;e ici, on obtient uniquement l'&eacute;l&eacute;ment &agrave; l'index donn&eacute;. Tandis que pour l'avant-derni&egrave;re sortie, on utilise 2 index s&eacute;par&eacute;s par <span class="inline-code" id="-1020789983#i8r364g_140">:</span>, donc on obtient une tranche avec uniquement un &eacute;l&eacute;ment.</p></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="1928806022">Section 3 : Cha&icirc;nes de caract&egrave;res</h1><p id="1928806022#i9hu5yn_27">En Go, une cha&icirc;ne de caract&egrave;res est essentiellement une tranche d'octets en lecture seule. Cela permet aux cha&icirc;nes Go d'avoir des tailles variables, comme les tranches de n'importe quel type. Si les cha&icirc;nes &eacute;taient construites directement avec des tableaux, on ne pourrait pas m&eacute;langer les cha&icirc;nes de diff&eacute;rentes longueurs.</p><p id="1928806022#i9hu5yn_28">Les cha&icirc;nes de caract&egrave;res sont <span class="control" id="1928806022#i9hu5yn_34">immuables</span>. Cela signifie qu'une fois qu'une cha&icirc;ne est cr&eacute;&eacute;e, elle ne peut pas &ecirc;tre modifi&eacute;e. Si vous essayez de modifier une cha&icirc;ne, Go cr&eacute;era une nouvelle cha&icirc;ne avec les modifications, au lieu de modifier la cha&icirc;ne originale. Ou si vous essayez de modifier directement un caract&egrave;re sp&eacute;cifique d'une cha&icirc;ne, il y aura une erreur.</p><p id="1928806022#i9hu5yn_29">Voici un exemple d&eacute;montrant l'immutabilit&eacute; des cha&icirc;nes :</p><div class="code-block detached" id="1928806022#i9hu5yn_30"><pre><code class="language-go">package main

import &quot;fmt&quot;

func main() {
    s := &quot;bonjour&quot;
    s += &quot; le monde&quot;  // Crée une nouvelle chaîne
    fmt.Println(s) // Affiche : &quot;bonjour le monde&quot;
    
    s[0] = 'B' // ne compilera pas
}</code></pre></div><p id="1928806022#i9hu5yn_31">Dans l'exemple ci-dessus, <span class="inline-code" id="1928806022#i9hu5yn_35">s += &quot; le monde&quot;</span> n'ajoute pas <span class="emphasis" id="1928806022#i9hu5yn_36">&quot;le monde&quot;</span> &agrave; la cha&icirc;ne originale <span class="emphasis" id="1928806022#i9hu5yn_37">&quot;bonjour&quot;</span>. Au lieu de cela, il cr&eacute;e une nouvelle cha&icirc;ne &quot;bonjour le monde&quot; et l'assigne &agrave; <span class="inline-code" id="1928806022#i9hu5yn_38">s</span>.</p><p id="1928806022#i9hu5yn_32">Si vous avez besoin d'un type semblable &agrave; une cha&icirc;ne que vous pouvez modifier, envisagez d'utiliser une tranche d'octets (<span class="inline-code" id="1928806022#i9hu5yn_39">[]byte</span>) ou un <span class="inline-code" id="1928806022#i9hu5yn_40">strings.Builder</span> (voir l'exemple suivant).</p><p id="1928806022#i9hu5yn_33">Les cha&icirc;nes Go sont encod&eacute;es en UTF-8, un seul caract&egrave;re dans une cha&icirc;ne Go pourrait &ecirc;tre repr&eacute;sent&eacute; par un ou plusieurs octets. Donc le nombre de caract&egrave;res dans une cha&icirc;ne n'est pas &eacute;gal, en g&eacute;n&eacute;ral, au nombre d'octets dans une tranche repr&eacute;sentant la m&ecirc;me cha&icirc;ne. C'est en partie pourquoi les cha&icirc;nes sont immuables en Go.</p><section><h2 id="1928806022#utilisation-d-un-strings-builder" data-toc="utilisation-d-un-strings-builder#ch03s03-Section-3-Chaines-de-caracteres.md-utilisation-d-un-strings-builder">Utilisation d'un strings.Builder</h2><p id="1928806022#i9hu5yn_42">Voici un exemple tr&egrave;s simple d'utilisation d'un <span class="inline-code" id="1928806022#i9hu5yn_43">strings.Builder</span>.</p><div class="code-block detached" id="1928806022#i9hu5yn_44"><pre><code class="language-go">package main

import (
	&quot;fmt&quot;
	&quot;strings&quot;
)

func main() {
	var builder strings.Builder

	builder.WriteString(&quot;Hello&quot;)
	builder.WriteString(&quot; &quot;)
	builder.WriteString(&quot;World&quot;)
	builder.WriteString(&quot;!&quot;)

	result := builder.String()

	fmt.Println(result) 
}</code></pre></div><p id="1928806022#i9hu5yn_45">Dans cet exemple, <span class="inline-code" id="1928806022#i9hu5yn_46">strings.Builder</span> est utilis&eacute; pour faire une concat&eacute;nation efficace de plusieurs cha&icirc;nes de caract&egrave;res. C'est tr&egrave;s utile lorsque vous avez besoin de concat&eacute;ner un grand nombre de cha&icirc;nes, car il est plus efficace en termes de performance que l'op&eacute;rateur <span class="inline-code" id="1928806022#i9hu5yn_47">+</span> ou que <span class="inline-code" id="1928806022#i9hu5yn_48">fmt.Sprintf</span>.</p><p id="1928806022#i9hu5yn_49">Plus d'exemples sur l'utilisation des <span class="inline-code" id="1928806022#i9hu5yn_50">strings.Builder</span> seront pr&eacute;sent&eacute;s plus loin.</p></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-1731708154">Exercices</h1><p id="-1731708154#-sx2542_4">Start typing here...</p></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="81604940">Chapitre 4 : La gestion des fichiers</h1><p id="81604940#kivp55_11">Lire ou &eacute;crire dans un fichier est tr&egrave;s semblable &agrave; la lecture &agrave; partir du <span class="inline-code" id="81604940#kivp55_12">stdin</span> et &agrave; l'&eacute;criture sur le <span class="inline-code" id="81604940#kivp55_13">stdout</span>. La diff&eacute;rence principale est qu'il faut ouvrir et fermer les fichiers correctement avant et apr&egrave;s la lecture ou l'&eacute;criture des donn&eacute;es dans les fichiers. Du point de vue du code, il n'y a pratiquement pas de diff&eacute;rences entre lire des donn&eacute;es du <span class="inline-code" id="81604940#kivp55_14">stdin</span> et lire des donn&eacute;es d'un fichier ouvert en mode lecture, et r&eacute;ciproquement, &eacute;crire des donn&eacute;es sur le <span class="inline-code" id="81604940#kivp55_15">stdout</span> ou dans un fichier ouvert en mode &eacute;criture sont presque identiques en termes de code. <span class="inline-code" id="81604940#kivp55_16">os.Stdin</span> et <span class="inline-code" id="81604940#kivp55_17">os.Stdout</span> sont de type <span class="inline-code" id="81604940#kivp55_18">*os.File</span>, donc ils sont des pointeurs vers des fichiers, des fichiers sp&eacute;ciaux du syst&egrave;me d'exploitation qui correspondent &agrave; l'entr&eacute;e et &agrave; la sortie associ&eacute;es &agrave; un terminal.</p></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="1804423059">Section 1 : Lire le contenu d&apos;un fichier</h1><p id="1804423059#nfv8xm_64">La fa&ccedil;on la plus simple, mais pas n&eacute;cessairement la plus efficace, de lire le contenu d'un fichier est d'utiliser la fonction <span class="inline-code" id="1804423059#nfv8xm_65">os.ReadFile</span>. Cette fonction ouvre le fichier, lit son contenu dans une cha&icirc;ne de caract&egrave;res, ferme le fichier, et retourne le contenu. Si le fichier est gros, les performances ne seront pas tr&egrave;s bonnes parce que tout le fichier sera lu et plac&eacute; dans une seule cha&icirc;ne.</p><section><h2 id="1804423059#exemple-simple-avec-os-readfile" data-toc="exemple-simple-avec-os-readfile#ch04s01-Section-1-Lire-le-contenu-d-un-fichier.md-exemple-simple-avec-os-readfile">Exemple simple avec os.ReadFile</h2><div class="code-block detached" id="1804423059#nfv8xm_67"><pre><code class="language-go">package main

import (
    &quot;fmt&quot;
    &quot;os&quot;
    &quot;log&quot;
)

func section1a() {
	content, err := os.ReadFile(&quot;allo.txt&quot;) // Lecture du contenu du fichier
	if err != nil {
		log.Fatalf(&quot;lecture du contenu du fichier impossible : %s&quot;, err)
	}

	fmt.Println(&quot;Contenu du fichier :&quot;)
	fmt.Println(string(content))
}</code></pre></div><p id="1804423059#nfv8xm_68">Si le fichier existe, la sortie sera <span class="inline-code" id="1804423059#nfv8xm_69">Contenu du fichier :</span> sur la premi&egrave;re ligne, suivi du contenu du fichier sur les lignes suivantes.</p><p id="1804423059#nfv8xm_70">Si le fichier n'existe pas, alors il y aura une erreur, <span class="inline-code" id="1804423059#nfv8xm_71">err</span> ne sera pas <span class="inline-code" id="1804423059#nfv8xm_72">nil</span>, et le message d'erreur <span class="inline-code" id="1804423059#nfv8xm_73">lecture du contenu du fichier impossible :</span> sera affich&eacute; pr&eacute;c&eacute;d&eacute; de la date et l'heure, et suivi de l'erreur elle-m&ecirc;me. La date et l'heure viennent de la fonction <span class="inline-code" id="1804423059#nfv8xm_74">log.Fatalf</span>, qui ajoute ces informations automatiquement. Aussi, cette fonction mettra un terme &agrave; l'ex&eacute;cution du programme parce qu'on utilise le niveau de <span class="emphasis" id="1804423059#nfv8xm_75">log</span> <span class="control" id="1804423059#nfv8xm_76">Fatal</span>, qui veut dire qu'on ne peut pas continuer. Le <span class="inline-code" id="1804423059#nfv8xm_77">f</span> &agrave; la fin de la fonction est similaire au <span class="inline-code" id="1804423059#nfv8xm_78">f</span> &agrave; la fin de <span class="inline-code" id="1804423059#nfv8xm_79">fmt.Printf</span>, ce qui veut dire que la fonction accepte les formats pour la sortie.</p><p id="1804423059#nfv8xm_80">Voir la doc officielle (<a href="https://pkg.go.dev/log#Fatalf">https://pkg.go.dev/log#Fatalf</a>) pour plus de d&eacute;tails sur le paquet <span class="inline-code" id="1804423059#nfv8xm_82">log</span>.</p><p id="1804423059#nfv8xm_83">L'erreur la plus commune sera une erreur d'ouverture du fichier, similaire &agrave; <span class="inline-code" id="1804423059#nfv8xm_84">open allo.txt: no such file or directory</span>. Il faut en g&eacute;n&eacute;ral que le fichier soit dans le m&ecirc;me dossier que le programme compil&eacute; en fichier ex&eacute;cutable (extension <span class="inline-code" id="1804423059#nfv8xm_85">.exe</span> sous Windows) si on sp&eacute;cifie seulement le nom du fichier &agrave; ouvrir sans sp&eacute;cifier de chemin. On peut &eacute;galement sp&eacute;cifier un chemin relatif ou absolu avec un ou plusieurs dossiers s&eacute;par&eacute;s par des barres obliques. Le chemin relatif sera &agrave; partir du dossier o&ugrave; on ex&eacute;cute le programme.</p><p id="1804423059#nfv8xm_86">Si on ex&eacute;cute le programme &agrave; travers l'interface graphique de GoLand, &ccedil;a pourrait &ecirc;tre diff&eacute;rent, d&eacute;pendamment de sa configuration. Normalement, le fichier <span class="inline-code" id="1804423059#nfv8xm_87">.go</span> sera compil&eacute; dans un dossier temporaire, et ex&eacute;cut&eacute; &agrave; partir du dossier du principal du projet. Donc le programme essaiera d'ouvrir un fichier &agrave; partir de ce dossier (&agrave; moins d'avoir sp&eacute;cifi&eacute; un chemin absolu).</p><p id="1804423059#nfv8xm_88">&Agrave; partir d'un terminal, on peut compiler le programme &agrave; partir du dossier contenant le fichier <span class="inline-code" id="1804423059#nfv8xm_89">.go</span> avec <span class="inline-code" id="1804423059#nfv8xm_90">go build</span>, et ex&eacute;cuter le programme dans le terminal avec une commande du genre <span class="inline-code" id="1804423059#nfv8xm_91">./main.exe</span>. Dans ce cas, l'ouverture d'un fichier se fera relativement au dossier courant.</p></section><section><h2 id="1804423059#m-me-exemple-mais-avec-ouverture-et-fermeture-de-fichier-explicites" data-toc="m-me-exemple-mais-avec-ouverture-et-fermeture-de-fichier-explicites#ch04s01-Section-1-Lire-le-contenu-d-un-fichier.md-m-me-exemple-mais-avec-ouverture-et-fermeture-de-fichier-explicites">M&ecirc;me exemple, mais avec ouverture et fermeture de fichier explicites</h2><div class="code-block detached" id="1804423059#nfv8xm_92"><pre><code class="language-go">func section1b() {
	file, err := os.Open(&quot;allo.txt&quot;) // Ouverture du fichier en mode lecture
	if err != nil {
		log.Fatalf(&quot;ouverture du fichier impossible : %s&quot;, err)
	}

	content, err := io.ReadAll(file) // Lecture du contenu du fichier
	if err != nil {
		log.Fatalf(&quot;lecture du contenu du fichier impossible : %s&quot;, err)
	}

	fmt.Println(&quot;Contenu du fichier :&quot;)
	fmt.Println(string(content))

	err = file.Close()
	if err != nil {
		log.Printf(&quot;erreur lors de la fermeture du fichier : %s&quot;, err)
	}
}</code></pre></div><p id="1804423059#nfv8xm_93">Cet exemple a le m&ecirc;me probl&egrave;me que le pr&eacute;c&eacute;dent si le fichier lu est gros. Le but ici est d&eacute;montrer comment on peut ouvrir et fermer un fichier explicitement. Il existe une autre fa&ccedil;on de fermer un fichier en Go, avec l'utilisation de <span class="inline-code" id="1804423059#nfv8xm_94">defer</span>, mais pour l'instant, nous le faisons de la mani&egrave;re longue.</p><ol class="list list-decimal" id="1804423059#nfv8xm_95" type="1" start="1"><li class="list-item" id="1804423059#nfv8xm_96"><p id="1804423059#nfv8xm_97">La fonction commence par ouvrir le fichier <span class="inline-code" id="1804423059#nfv8xm_98">allo.txt</span> en mode lecture avec <span class="inline-code" id="1804423059#nfv8xm_99">os.Open</span>. Si une erreur se produit (par exemple, si le fichier ne peut pas &ecirc;tre trouv&eacute;), un message d'erreur sera affich&eacute; et le programme s'arr&ecirc;tera avec <span class="inline-code" id="1804423059#nfv8xm_100">log.Fatalf</span>.</p></li><li class="list-item" id="1804423059#nfv8xm_101"><p id="1804423059#nfv8xm_102">Ensuite, la fonction lit le contenu du fichier avec <span class="inline-code" id="1804423059#nfv8xm_103">io.ReadAll</span>. Encore une fois, si une erreur se produit pendant la lecture (par exemple, si les donn&eacute;es ne peuvent pas &ecirc;tre interpr&eacute;t&eacute;es correctement), un message d'erreur sera affich&eacute; et le programme s'arr&ecirc;tera.</p></li><li class="list-item" id="1804423059#nfv8xm_104"><p id="1804423059#nfv8xm_105">Le contenu du fichier (qui est maintenant en m&eacute;moire sous forme de tableau de bytes) est converti en cha&icirc;ne de caract&egrave;res avec <span class="inline-code" id="1804423059#nfv8xm_106">string(content)</span> et est ensuite affich&eacute; dans la console avec <span class="inline-code" id="1804423059#nfv8xm_107">fmt.Println</span>.</p></li><li class="list-item" id="1804423059#nfv8xm_108"><p id="1804423059#nfv8xm_109">Enfin, la fonction essaie de fermer le fichier avec <span class="inline-code" id="1804423059#nfv8xm_110">file.Close()</span>. Si une erreur se produit lors de la fermeture du fichier (ce qui est rare, mais peut arriver si par exemple l'espace disque est plein et que le syst&egrave;me ne peut pas mettre &agrave; jour les m&eacute;tadonn&eacute;es du fichier), un message d'erreur sera affich&eacute;, mais contrairement aux erreurs pr&eacute;c&eacute;dentes, le programme ne s'arr&ecirc;tera pas dans ce cas.</p></li></ol></section><section><h2 id="1804423059#exemple-compter-le-nombre-de-lignes-non-vides-dans-un-fichier" data-toc="exemple-compter-le-nombre-de-lignes-non-vides-dans-un-fichier#ch04s01-Section-1-Lire-le-contenu-d-un-fichier.md-exemple-compter-le-nombre-de-lignes-non-vides-dans-un-fichier">Exemple : Compter le nombre de lignes non-vides dans un fichier</h2><p id="1804423059#nfv8xm_111">Voici une fonction qui accepte le nom d'un fichier en param&egrave;tre, et qui compte le nombre de lignes non-vides dans ce fichier. Le nom de fichier peut inclure un chemin relatif ou absolu.</p><div class="code-block detached" id="1804423059#nfv8xm_112"><pre><code class="language-go">func countNonEmptyLines(filename string) {
	file, err := os.Open(filename) // Ouverture du fichier en mode lecture
	if err != nil {
		log.Fatalf(&quot;ouverture du fichier impossible : %s&quot;, err)
	}

	count := 0
	scanner := bufio.NewScanner(file)
	for scanner.Scan() {
		if len(scanner.Text()) &gt; 0 {
			count++
		}
	}

	err = scanner.Err()
	if err != nil {
		log.Printf(&quot;erreur lors de la lecture du fichier : %s&quot;, err)
	}

	fmt.Println(&quot;Nombre de ligne non-vide :&quot;, count)

	err = file.Close()
	if err != nil {
		log.Printf(&quot;erreur lors de la fermeture du fichier : %s&quot;, err)
	}
}</code></pre></div><ol class="list list-decimal" id="1804423059#nfv8xm_113" type="1" start="1"><li class="list-item" id="1804423059#nfv8xm_114"><p>La fonction <span class="inline-code" id="1804423059#nfv8xm_115">countNonEmptyLines</span> est d&eacute;finie, qui prend un nom de fichier en param&egrave;tre.</p></li><li class="list-item" id="1804423059#nfv8xm_116"><p>La fonction essaie d'abord d'ouvrir le fichier en lecture. S'il y a une erreur (comme le fichier n'existe pas ou manque les permissions n&eacute;cessaires), l'erreur est enregistr&eacute;e et l'ex&eacute;cution du programme se termine.</p></li><li class="list-item" id="1804423059#nfv8xm_117"><p>Une instance de <span class="inline-code" id="1804423059#nfv8xm_118">bufio.Scanner</span>, <span class="inline-code" id="1804423059#nfv8xm_119">scanner</span> pour le fichier ouvert est cr&eacute;&eacute;e pour lire le fichier.</p></li><li class="list-item" id="1804423059#nfv8xm_120"><p>Le fichier est lu ligne par ligne avec une boucle <span class="inline-code" id="1804423059#nfv8xm_121">for</span>. Si une ligne n'est pas vide (elle contient des caract&egrave;res), le compteur est incr&eacute;ment&eacute;.</p></li><li class="list-item" id="1804423059#nfv8xm_122"><p>Apr&egrave;s que les lignes ont &eacute;t&eacute; analys&eacute;es, il v&eacute;rifie s'il y a des erreurs qui se sont produites lors de la lecture du fichier. Si une erreur s'est produite, elle enregistre le message d'erreur.</p></li><li class="list-item" id="1804423059#nfv8xm_123"><p>Le nombre de lignes non vides trouv&eacute;es dans le fichier est imprim&eacute;.</p></li><li class="list-item" id="1804423059#nfv8xm_124"><p>Enfin, le fichier est ferm&eacute; et s'il y a une erreur lors de la fermeture du fichier, il enregistre le message d'erreur.</p></li></ol></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="1323286084">Section 2 : &Eacute;crire dans un fichier</h1><p id="1323286084#-w42apg_75">La fa&ccedil;on la plus simple de d'ouvrir un fichier pour l'&eacute;criture est avec la fonction <span class="inline-code" id="1323286084#-w42apg_76">os.Create</span>. Elle s'appelle de cette fa&ccedil;on parce que si le fichier n'existe pas, alors le fichier va &ecirc;tre cr&eacute;&eacute; avant de pouvoir y &eacute;crire. Si le fichier existe d&eacute;j&agrave;, il sera <span class="emphasis" id="1323286084#-w42apg_77">tronqu&eacute;</span>, c'est-&agrave;-dire que sont contenu sera effac&eacute; et pour ensuite y &eacute;crire &agrave; partir du d&eacute;but. C'est comme ai on &eacute;crivait par-dessus le fichier existant.</p><section><h2 id="1323286084#exemple-simple-d-criture-dans-un-fichier" data-toc="exemple-simple-d-criture-dans-un-fichier#ch04s02-Section-2-Ecrire-dans-un-fichier.md-exemple-simple-d-criture-dans-un-fichier">Exemple simple d'&eacute;criture dans un fichier</h2><div class="code-block detached" id="1323286084#-w42apg_78"><pre><code class="language-go">func section2a(filename string) {
	// Créer un nouveau fichier, ou le tronquer s'il existe
	file, err := os.Create(filename)
	if err != nil {
		log.Fatal(err)
	}
	defer file.Close()

	// Écrire des bytes dans le fichier
	bytesWritten, err := file.WriteString(&quot;Bonjour tout le monde !&quot;)
	if err != nil {
		log.Fatal(err)
	}
	log.Printf(&quot;Écrit %d bytes.\n&quot;, bytesWritten)
}</code></pre></div><ol class="list list-decimal" id="1323286084#-w42apg_79" type="1" start="1"><li class="list-item" id="1323286084#-w42apg_80"><p>La fonction a comme param&egrave;tre le nom du fichier <span class="inline-code" id="1323286084#-w42apg_81">filename</span> dans lequel on doit &eacute;crire.</p></li><li class="list-item" id="1323286084#-w42apg_82"><p>On commence par cr&eacute;ation du nouveau fichier en utilisant la fonction <span class="inline-code" id="1323286084#-w42apg_83">os.Create</span> avec le nom de fichier fourni en argument. Cette fonction cr&eacute;e un nouveau fichier et si le fichier existe d&eacute;j&agrave;, elle tronque le contenu du fichier. Le r&eacute;sultat de la fonction <span class="inline-code" id="1323286084#-w42apg_84">os.Create</span> comprend deux variables. La premi&egrave;re est un pointeur de de fichier <span class="inline-code" id="1323286084#-w42apg_85">file</span> qui est utilis&eacute;e pour les op&eacute;rations de fichier ult&eacute;rieures et la seconde est une erreur <span class="inline-code" id="1323286084#-w42apg_86">err</span> qui aurait pu se produire.</p></li><li class="list-item" id="1323286084#-w42apg_87"><p>On v&eacute;rifie ensuite s'il y a eu une erreur lors de la cr&eacute;ation du fichier. S'il y a eu une erreur (<span class="inline-code" id="1323286084#-w42apg_88">err</span> n'est pas <span class="inline-code" id="1323286084#-w42apg_89">nil</span>), on logue l'erreur et termine imm&eacute;diatement le programme en utilisant <span class="inline-code" id="1323286084#-w42apg_90">log.Fatal(err)</span>.</p></li><li class="list-item" id="1323286084#-w42apg_91"><p>L'instruction <span class="inline-code" id="1323286084#-w42apg_92">defer file.Close()</span> fait en sorte que <span class="inline-code" id="1323286084#-w42apg_93">file.Close()</span> soit appel&eacute;e juste avant que la fonction <span class="inline-code" id="1323286084#-w42apg_94">section2a</span> ne se termine, soit normalement ou via une erreur non trait&eacute;e, afin de lib&eacute;rer les ressources du syst&egrave;me (voir les d&eacute;tails plus bas).</p></li><li class="list-item" id="1323286084#-w42apg_95"><p>Ensuite, on utilise la fonction <span class="inline-code" id="1323286084#-w42apg_96">file.WriteString</span> pour &eacute;crire une cha&icirc;ne de caract&egrave;res dans le fichier. Le comptage en octets du contenu &eacute;crit est stock&eacute; dans <span class="inline-code" id="1323286084#-w42apg_97">bytesWritten</span>, et toute erreur pendant le processus est stock&eacute;e dans <span class="inline-code" id="1323286084#-w42apg_98">err</span>.</p></li><li class="list-item" id="1323286084#-w42apg_99"><p>Encore une fois, toute erreur lors de l'&eacute;criture dans le fichier est v&eacute;rifi&eacute;e et s'il y a eu une erreur, le programme enregistre l'erreur et se termine imm&eacute;diatement.</p></li><li class="list-item" id="1323286084#-w42apg_100"><p>Si l'&eacute;criture des bytes est r&eacute;ussie, le nombre de bytes &eacute;crits est enregistr&eacute; dans le journal (<span class="inline-code" id="1323286084#-w42apg_101">log</span>).</p></li></ol><p id="1323286084#-w42apg_102">Si on n'utilisait pas <span class="inline-code" id="1323286084#-w42apg_103">defer</span> ici, et qu'on appelait <span class="inline-code" id="1323286084#-w42apg_104">Close</span> &agrave; la fin de la fonction comme dans les exemples pr&eacute;c&eacute;dents, alors &ccedil;a pourrait cr&eacute;er des probl&egrave;mes. Quand on ouvre un fichier (ou toute autre resource), il faut s'assurer de la fermer, ou lib&eacute;rer, avant de quitter la fonction. Si on a un <span class="inline-code" id="1323286084#-w42apg_105">return</span> avant de se rendre &agrave; la fin de la fonction, ou si on quitte &agrave; cause d'une erreur, comme avec <span class="inline-code" id="1323286084#-w42apg_106">log.Fatal</span> ou avec une panique (une erreur grave au moment de l'ex&eacute;cution), alors le fichier, ou en g&eacute;n&eacute;ral la resource, ne sera pas ferm&eacute;e, et &ccedil;a pourrait causer des probl&egrave;mes, comme des fuites de m&eacute;moires ou, dans notre cas, des donn&eacute;es qui ne seraient pas enregistr&eacute;es correctement dans le fichier ouvert. Si on n'utilise pas <span class="inline-code" id="1323286084#-w42apg_107">defer</span>, il faudrait appeler <span class="inline-code" id="1323286084#-w42apg_108">file.Close()</span> possiblement &agrave; plusieurs endroits, &agrave; chaque endroit o&ugrave; on pourrait potentiellement quitter la fonction. Dans certains cas, comme pour les paniques, elles pourraient arriver &agrave; des endroits impr&eacute;vus, donc la resource pourrait ne jamais &ecirc;tre correctement ferm&eacute;e ou lib&eacute;r&eacute;e.</p><p id="1323286084#-w42apg_109">L'utilisation de <span class="inline-code" id="1323286084#-w42apg_110">defer file.Close()</span> nous assure que le fichier sera ferm&eacute;, peu importe la fa&ccedil;on dont nous quittons la fonction. Dans les exemples pr&eacute;c&eacute;dents, puisque les fichiers &eacute;taient ouverts en lecture seule, le fichier n'&eacute;tait pas modifi&eacute;, donc on ne pouvait pas perdre de donn&eacute;es si le fichier n'&eacute;tait pas ferm&eacute; correctement. Mais il est tout de m&ecirc;me pr&eacute;f&eacute;rable d'utiliser <span class="inline-code" id="1323286084#-w42apg_111">defer</span> dans tous les cas pour s'assurer d'une bonne gestion de la m&eacute;moire, pour ne pas conserver les contenu des fichiers en m&eacute;moire pour rien.</p></section><section><h2 id="1323286084#exemple-crire-des-donn-es-entr-es-par-l-utilisateur-dans-un-fichier" data-toc="exemple-crire-des-donn-es-entr-es-par-l-utilisateur-dans-un-fichier#ch04s02-Section-2-Ecrire-dans-un-fichier.md-exemple-crire-des-donn-es-entr-es-par-l-utilisateur-dans-un-fichier">Exemple : &eacute;crire des donn&eacute;es entr&eacute;es par l'utilisateur dans un fichier</h2><p id="1323286084#-w42apg_112">La fonction suivante demande des entr&eacute;es &agrave; l'utilisateur et &eacute;crit ces entr&eacute;es dans un fichier <span class="emphasis" id="1323286084#-w42apg_113">CSV</span> en utilisant les op&eacute;rations d'E/S de fichiers de la biblioth&egrave;que standard.</p><div class="code-block detached" id="1323286084#-w42apg_114"><pre><code class="language-go">func section2b() {
	nAttempts := 3
	// demander le nom du fichier
	fmt.Print(&quot;Nom du fichier dans lequel enregistrer les données : &quot;)
	filename, err := ReadNonEmptyLine(nAttempts)
	if err != nil {
		log.Fatalf(&quot;Impossible de lire le nom du fichier : %s&quot;, err)
	}

	// ouvrir le fichier
	file, err := os.Create(filename)
	if err != nil {
		log.Fatalf(&quot;Impossible d'ouvrir le fichier : %s&quot;, err)
	}
	defer file.Close()

	done := false
	for !done {
		// lire le nom
		fmt.Print(&quot;Veuillez entrer votre nom : &quot;)
		name, err := ReadNonEmptyLine(nAttempts)
		if err != nil {
			log.Printf(&quot;Impossible de lire le nom : %s&quot;, err)
		} else {
			// s'il n'y a pas d'erreur, lire l'âge
			fmt.Print(&quot;Veuillez entrer votre âge : &quot;)
			age, err := ReadInt(nAttempts)
			if err != nil {
				log.Printf(&quot;Impossible de lire l'âge : %s&quot;, err)
			} else {
				// s'il n'y a pas d'erreur
				line := fmt.Sprintf(&quot;%s,%d\n&quot;, name, age)
				_, err = file.WriteString(line)
				if err != nil {
					log.Fatalf(&quot;Impossible d'écrire dans le fichier : %s&quot;, err)
				}
			}
		}

		// continuer ou non ?
		fmt.Println(&quot;Voulez-vous entrer continuer (O/N) ?&quot;)
		continueInput, err := ReadNonEmptyLine(nAttempts)
		if err != nil {
			log.Printf(&quot;Impossible de lire la réponse : %s&quot;, err)
		} else {
			if strings.ToUpper(continueInput) == &quot;N&quot; {
				done = true
			}
		}
	}
}</code></pre></div><p id="1323286084#-w42apg_115">Voici un pas &agrave; pas de la fonction <span class="inline-code" id="1323286084#-w42apg_116">section2b</span>:</p><ol class="list list-decimal" id="1323286084#-w42apg_117" type="1" start="1"><li class="list-item" id="1323286084#-w42apg_118"><p>La fonction <span class="inline-code" id="1323286084#-w42apg_119">section2b</span> commence par d&eacute;clarer une variable <span class="inline-code" id="1323286084#-w42apg_120">nAttempts</span> qui d&eacute;finit une limite au nombre de tentatives de lecture des entr&eacute;es.</p></li><li class="list-item" id="1323286084#-w42apg_121"><p>Elle demande &agrave; l'utilisateur de saisir le nom du fichier dans lequel les donn&eacute;es doivent &ecirc;tre enregistr&eacute;es. Ceci est fait via l'appel &agrave; <span class="inline-code" id="1323286084#-w42apg_122">ReadNonEmptyLine(nAttempts)</span>. Si le nom du fichier est lu avec succ&egrave;s (non vide et pas d'erreur de lecture), il continue, sinon il quitte le programme en enregistrant l'erreur fatale.</p></li><li class="list-item" id="1323286084#-w42apg_123"><p>Ensuite, elle tente de cr&eacute;er le fichier sp&eacute;cifi&eacute; &agrave; l'aide de <span class="inline-code" id="1323286084#-w42apg_124">os.Create(filename)</span>. Si une erreur se produit pendant la cr&eacute;ation du fichier, une erreur fatale est enregistr&eacute;e et le programme quitte. La fermeture du fichier est report&eacute; apr&egrave;s que toutes les op&eacute;rations suivantes ont &eacute;t&eacute; termin&eacute;es.</p></li><li class="list-item" id="1323286084#-w42apg_125"><p>Elle entre ensuite dans une boucle qui continue jusqu'&agrave; ce que <span class="inline-code" id="1323286084#-w42apg_126">done</span> devienne vraie.</p></li><li class="list-item" id="1323286084#-w42apg_127"><p>Dans la boucle, elle demande d'abord &agrave; l'utilisateur d'entrer son nom, en utilisant une v&eacute;rification des erreurs similaire &agrave; l'entr&eacute;e pr&eacute;c&eacute;dente. Si le nom est lu avec succ&egrave;s, elle demande ensuite l'&acirc;ge &agrave; l'aide de la fonction <span class="inline-code" id="1323286084#-w42apg_128">ReadInt(nAttempts)</span>. Sinon, elle enregistre l'erreur et r&eacute;p&egrave;te la boucle.</p></li><li class="list-item" id="1323286084#-w42apg_129"><p>S'il n'y a pas d'erreur lors de la lecture de l'&acirc;ge, elle formate le nom et l'&acirc;ge en une cha&icirc;ne avec <span class="inline-code" id="1323286084#-w42apg_130">fmt.Sprintf</span>, puis tente d'&eacute;crire cette cha&icirc;ne dans le fichier ouvert &agrave; l'aide de <span class="inline-code" id="1323286084#-w42apg_131">file.WriteString(line)</span>. Elle v&eacute;rifie les erreurs lors de l'op&eacute;ration d'&eacute;criture, enregistre l'erreur fatale et quitte si n&eacute;cessaire.</p></li><li class="list-item" id="1323286084#-w42apg_132"><p>Ensuite, elle demande &agrave; l'utilisateur s'il souhaite continuer &agrave; entrer plus de donn&eacute;es. Si l'utilisateur saisit <span class="inline-code" id="1323286084#-w42apg_133">'N'</span> ou <span class="inline-code" id="1323286084#-w42apg_134">'n'</span>, elle change <span class="inline-code" id="1323286084#-w42apg_135">done</span> &agrave; <span class="inline-code" id="1323286084#-w42apg_136">true</span> ce qui brisera la boucle, sinon elle retourne &agrave; la demande du nom et de l'&acirc;ge.</p></li></ol><p id="1323286084#-w42apg_137"><span class="control" id="1323286084#-w42apg_138">Note</span>: le paquet <span class="inline-code" id="1323286084#-w42apg_139">encoding/csv</span> offre une meilleure interface pour lire et &eacute;crire des fichiers <span class="emphasis" id="1323286084#-w42apg_140">CSV</span>. L'exemple pr&eacute;c&eacute;dent &eacute;crit du texte directement dans le fichier. <span class="inline-code" id="1323286084#-w42apg_141">encoding/csv</span> permet de lire et d'&eacute;crire plus efficacement. Deux fonctions qui utilisent <span class="inline-code" id="1323286084#-w42apg_142">encoding/csv</span> suivent. La premi&egrave;re lit un fichier <span class="emphasis" id="1323286084#-w42apg_143">CSV</span>, et l'autre &eacute;crit dans un fichier <span class="emphasis" id="1323286084#-w42apg_144">CSV</span>.</p></section><section><h2 id="1323286084#lire-et-crire-des-fichiers-csv" data-toc="lire-et-crire-des-fichiers-csv#ch04s02-Section-2-Ecrire-dans-un-fichier.md-lire-et-crire-des-fichiers-csv">Lire et &eacute;crire des fichiers CSV</h2><div class="code-block detached" id="1323286084#-w42apg_146"><pre><code class="language-go">func readCSVFile() {
	f, err := os.Open(&quot;abc.csv&quot;)
	if err != nil {
		log.Fatal(err)
	}
	defer f.Close()

	reader := csv.NewReader(f)
	records, err := reader.ReadAll()
	if err != nil {
		log.Fatal(err)
	}

	for _, record := range records {
		fmt.Println(record) // record est une tranche de chaînes de 
		                    // caractères représentant les lignes du fichier
	}
}

func writeCSVFile() {
	f, err := os.Create(&quot;def.csv&quot;)
	if err != nil {
		log.Fatal(err)
	}
	defer f.Close()

	writer := csv.NewWriter(f)
	data := []string{&quot;Col1&quot;, &quot;Col2&quot;, &quot;Col3&quot;}

	if err := writer.Write(data); err != nil {
		log.Fatal(err)
	}
	writer.Flush()

	if err := writer.Error(); err != nil {
		log.Fatal(err)
	}
}</code></pre></div></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-153568269">Section 3 : Copier un fichier en ajoutant des num&eacute;ros de ligne</h1><p id="-153568269#p69y3e_37">La fonction <span class="inline-code" id="-153568269#p69y3e_44">CopyFileWithLineNumbers(srcFile string, dstFile string)</span> fait exactement comme son nom le sugg&egrave;re : Elle copie le contenu du fichier source (sp&eacute;cifi&eacute; par <span class="inline-code" id="-153568269#p69y3e_45">srcFile</span>) vers le fichier de destination (sp&eacute;cifi&eacute; par <span class="inline-code" id="-153568269#p69y3e_46">dstFile</span>), et ins&egrave;re des num&eacute;ros de ligne pendant l'op&eacute;ration de copie.</p><div class="code-block detached" id="-153568269#p69y3e_38"><pre><code class="language-go">func CopyFileWithLineNumbers(srcFilename string, dstFilename string) error {
	// Ouvrez le fichier source en lecture seule
	src, err := os.Open(srcFilename)
	if err != nil {
		return err
	}
	defer src.Close()

	// Ouvrez le fichier de destination en mode écriture
	dst, err := os.Create(dstFilename)
	if err != nil {
		return err
	}
	defer dst.Close()

	scanner := bufio.NewScanner(src)
	writer := bufio.NewWriter(dst)
	lineNumber := 1

	for scanner.Scan() {
		lineStr := fmt.Sprintf(&quot;%d\t%s\n&quot;, lineNumber, scanner.Text())
		if _, err := writer.WriteString(lineStr); err != nil {
			return err
		}
		lineNumber++
	}

	if err := scanner.Err(); err != nil {
		return err
	}

	if err := writer.Flush(); err != nil {
		return err
	}

	return nil
}</code></pre></div><p id="-153568269#p69y3e_39">Voici ce que fait la fonction, &eacute;tape par &eacute;tape :</p><ul class="list" id="-153568269#p69y3e_40" start="1"><li class="list-item" id="-153568269#p69y3e_47"><p>Ouvre le fichier source en mode lecture seule, en utilisant <span class="inline-code" id="-153568269#p69y3e_48">os.Open()</span>. S'il y a une erreur (par exemple, le fichier n'existe pas), elle retourne l'erreur.</p></li><li class="list-item" id="-153568269#p69y3e_49"><p>Ouvre le fichier de destination en mode &eacute;criture (le cr&eacute;ant s'il n'existe pas), en utilisant <span class="inline-code" id="-153568269#p69y3e_50">os.Create()</span>. L&agrave; encore, s'il y a une erreur, elle la retourne.</p></li><li class="list-item" id="-153568269#p69y3e_51"><p>Cr&eacute;e un <span class="inline-code" id="-153568269#p69y3e_52">bufio.Scanner</span> pour lire le fichier source et un <span class="inline-code" id="-153568269#p69y3e_53">bufio.Writer</span> pour &eacute;crire dans le fichier de destination.</p></li><li class="list-item" id="-153568269#p69y3e_54"><p>D&eacute;marre une boucle qui lit chaque ligne du fichier source. </p><ul class="list" id="-153568269#p69y3e_55" start="1"><li class="list-item" id="-153568269#p69y3e_56"><p>Pour chaque ligne, elle formate une cha&icirc;ne qui se compose du num&eacute;ro de ligne (suivi d'un caract&egrave;re de tabulation), du texte de la ligne du fichier source et d'un caract&egrave;re de nouvelle ligne.</p></li><li class="list-item" id="-153568269#p69y3e_57"><p>&Eacute;crit cette cha&icirc;ne dans le fichier de destination. S'il y a une erreur, elle la retourne.</p></li><li class="list-item" id="-153568269#p69y3e_58"><p>Incr&eacute;mente le num&eacute;ro de ligne pour la prochaine it&eacute;ration.</p></li></ul></li><li class="list-item" id="-153568269#p69y3e_59"><p>Apr&egrave;s la boucle (quand toutes les lignes ont &eacute;t&eacute; trait&eacute;es), elle v&eacute;rifie s'il y a eu des erreurs pendant le balayage. Si c'est le cas, elle retourne l'erreur.</p></li><li class="list-item" id="-153568269#p69y3e_60"><p>Appelle <span class="inline-code" id="-153568269#p69y3e_61">writer.Flush()</span> pour s'assurer que toutes les op&eacute;rations en m&eacute;moire tampon (s'il y en a) ont &eacute;t&eacute; appliqu&eacute;es au fichier de destination. S'il y a une erreur, elle la retourne.</p></li><li class="list-item" id="-153568269#p69y3e_62"><p>Si toutes les &eacute;tapes ci-dessus se sont d&eacute;roul&eacute;es sans erreur, elle retourne nil indiquant que l'op&eacute;ration a r&eacute;ussi.</p></li></ul><p id="-153568269#p69y3e_41">Ensuite, nous avons la fonction <span class="inline-code" id="-153568269#p69y3e_63">section3()</span>, qui appelle la fonction <span class="inline-code" id="-153568269#p69y3e_64">CopyFileWithLineNumbers</span>:</p><div class="code-block detached" id="-153568269#p69y3e_42"><pre><code class="language-go">func section3() {
	err := CopyFileWithLineNumbers(&quot;allo.txt&quot;, &quot;allo2.txt&quot;)
	if err != nil {
		fmt.Println(&quot;Erreur lors de la copie du fichier:&quot;, err)
	} else {
		fmt.Println(&quot;Le fichier a été copié avec succès avec des numéros de ligne.&quot;)
	}
}</code></pre></div><ul class="list" id="-153568269#p69y3e_43" start="1"><li class="list-item" id="-153568269#p69y3e_65"><p>Elle appelle <span class="inline-code" id="-153568269#p69y3e_66">CopyFileWithLineNumbers()</span> pour copier le contenu de <span class="inline-code" id="-153568269#p69y3e_67">&quot;allo.txt&quot;</span> &agrave; <span class="inline-code" id="-153568269#p69y3e_68">&quot;allo2.txt&quot;</span>.</p></li><li class="list-item" id="-153568269#p69y3e_69"><p>S'il y a une erreur, elle imprime un message indiquant que la copie du fichier a &eacute;chou&eacute;, et elle donne l'erreur.</p></li><li class="list-item" id="-153568269#p69y3e_70"><p>S'il n'y a pas d'erreur, elle imprime un message indiquant le succ&egrave;s.</p></li></ul></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="1895504192">Section 4 : Autres fa&ccedil;ons d&apos;ouvrir un fichier</h1><p id="1895504192#-oqumsv_119">La fonction <span class="inline-code" id="1895504192#-oqumsv_123">os.OpenFile</span> est un outil tr&egrave;s puissant qui vous permet d'ouvrir un fichier avec diff&eacute;rents niveaux d'acc&egrave;s et permissions. La signature de la fonction est :</p><p id="1895504192#-oqumsv_120"><span class="inline-code" id="1895504192#-oqumsv_124">func OpenFile(name string, flag int, perm FileMode) (*File, error)</span></p><p id="1895504192#-oqumsv_121">O&ugrave; :</p><ul class="list" id="1895504192#-oqumsv_122" start="1"><li class="list-item" id="1895504192#-oqumsv_125"><p><span class="inline-code" id="1895504192#-oqumsv_126">name</span> est le chemin vers le fichier.</p></li><li class="list-item" id="1895504192#-oqumsv_127"><p><span class="inline-code" id="1895504192#-oqumsv_128">flag</span> est une valeur int qui repr&eacute;sente les modes d'acc&egrave;s aux fichiers (lecture, &eacute;criture, ajout, etc.).</p></li><li class="list-item" id="1895504192#-oqumsv_129"><p><span class="inline-code" id="1895504192#-oqumsv_130">perm</span> sont les permissions de fichiers de style Unix que vous souhaitez d&eacute;finir pour le fichier.</p></li></ul><section><h2 id="1895504192#flag" data-toc="flag#ch04s04-Autres-facons-d-ouvrir-un-fichier.md-flag">flag</h2><p id="1895504192#-oqumsv_131">Dans la documentation du paquet <span class="inline-code" id="1895504192#-oqumsv_133">os</span> (<a href="https://pkg.go.dev/os#pkg-constants">https://pkg.go.dev/os#pkg-constants</a>), on a les d&eacute;finitions suivantes :</p><div class="code-block detached" id="1895504192#-oqumsv_134"><pre><code class="language-go">const (
	// Exactly one of O_RDONLY, O_WRONLY, or O_RDWR must be specified.
	O_RDONLY int = syscall.O_RDONLY // open the file read-only.
	O_WRONLY int = syscall.O_WRONLY // open the file write-only.
	O_RDWR   int = syscall.O_RDWR   // open the file read-write.
	// The remaining values may be or'ed in to control behavior.
	O_APPEND int = syscall.O_APPEND // append data to the file when writing.
	O_CREATE int = syscall.O_CREAT  // create a new file if none exists.
	O_EXCL   int = syscall.O_EXCL   // used with O_CREATE, file must not exist.
	O_SYNC   int = syscall.O_SYNC   // open for synchronous I/O.
	O_TRUNC  int = syscall.O_TRUNC  // truncate regular writable file when opened.
)</code></pre></div><p id="1895504192#-oqumsv_135">Le param&egrave;tre <span class="inline-code" id="1895504192#-oqumsv_136">flag</span> sp&eacute;cifie le mode d'acc&egrave;s au fichier. Ce param&egrave;tre est g&eacute;n&eacute;ralement d&eacute;fini en effectuant un <span class="emphasis" id="1895504192#-oqumsv_137">OU</span> binaire entre deux ou plusieurs constantes du package <span class="inline-code" id="1895504192#-oqumsv_138">os</span>. Voici un r&eacute;sum&eacute; de ce que fait chaque flag :</p><ol class="list list-decimal" id="1895504192#-oqumsv_139" type="1" start="1"><li class="list-item" id="1895504192#-oqumsv_140"><p><span class="control" id="1895504192#-oqumsv_141">os.O_RDONLY</span>: Ce flag ouvre le fichier en mode lecture seule. Sa valeur est <span class="inline-code" id="1895504192#-oqumsv_142">0</span>.</p></li><li class="list-item" id="1895504192#-oqumsv_143"><p><span class="control" id="1895504192#-oqumsv_144">os.O_WRONLY</span>: Ce flag ouvre le fichier en mode &eacute;criture seule. Si le fichier existe d&eacute;j&agrave;, et que ce flag est utilis&eacute; seul, le fichier ne sera pas tronqu&eacute;.</p></li><li class="list-item" id="1895504192#-oqumsv_145"><p><span class="control" id="1895504192#-oqumsv_146">os.O_RDWR</span>: Ce flag ouvre le fichier en mode lecture-&eacute;criture.</p></li><li class="list-item" id="1895504192#-oqumsv_147"><p><span class="control" id="1895504192#-oqumsv_148">os.O_APPEND</span>: Ce flag ouvre le fichier en mode ajout, de sorte que les donn&eacute;es sont toujours &eacute;crites &agrave; la fin du fichier.</p></li><li class="list-item" id="1895504192#-oqumsv_149"><p><span class="control" id="1895504192#-oqumsv_150">os.O_CREATE</span>: Ce flag cr&eacute;e le fichier s'il n'existe pas.</p></li><li class="list-item" id="1895504192#-oqumsv_151"><p><span class="control" id="1895504192#-oqumsv_152">os.O_TRUNC</span>: Ce flag vide le fichier (le tronque) s'il existe.</p></li><li class="list-item" id="1895504192#-oqumsv_153"><p><span class="control" id="1895504192#-oqumsv_154">os.O_EXCL</span>: Ce flag, utilis&eacute; uniquement avec O_CREATE, renvoie une erreur si le fichier existe d&eacute;j&agrave;.</p></li><li class="list-item" id="1895504192#-oqumsv_155"><p><span class="control" id="1895504192#-oqumsv_156">os.O_SYNC</span>: Ce flag ouvre le fichier pour l'I/O synchrone, rendant les op&eacute;rations d'E/S imm&eacute;diates et s'assurant que les donn&eacute;es sont &eacute;crites sur le mat&eacute;riel sous-jacent avant de consid&eacute;rer l'op&eacute;ration d'&eacute;criture comme termin&eacute;e.</p></li></ol><p id="1895504192#-oqumsv_157">La combinaison de ces flags vous permet de configurer le comportement de <span class="inline-code" id="1895504192#-oqumsv_158">os.OpenFile</span> pour r&eacute;pondre &agrave; vos besoins sp&eacute;cifiques. Ces flags sont ind&eacute;pendants de la plateforme, vous pouvez donc les utiliser de mani&egrave;re fiable sur tous les syst&egrave;mes d'exploitation pris en charge.</p></section><section><h2 id="1895504192#perm" data-toc="perm#ch04s04-Autres-facons-d-ouvrir-un-fichier.md-perm">perm</h2><p id="1895504192#-oqumsv_159">Le troisi&egrave;me argument de la fonction <span class="inline-code" id="1895504192#-oqumsv_160">os.OpenFile</span>, <span class="inline-code" id="1895504192#-oqumsv_161">perm</span>, est utilis&eacute; pour d&eacute;finir les permissions du fichier dans le style Unix. L'argument <span class="inline-code" id="1895504192#-oqumsv_162">perm</span> signifie &quot;permission&quot;.</p><p id="1895504192#-oqumsv_163">Dans les syst&egrave;mes bas&eacute;s sur Unix, cette permission contr&ocirc;le qui peut lire, &eacute;crire ou ex&eacute;cuter le fichier. Ces permissions sont repr&eacute;sent&eacute;es par un ensemble de 9 bits. Elles sont g&eacute;n&eacute;ralement repr&eacute;sent&eacute;es en octal (base 8) pour plus de commodit&eacute;.</p><p id="1895504192#-oqumsv_164">D&eacute;cortiquons cela:</p><ul class="list" id="1895504192#-oqumsv_165" start="1"><li class="list-item" id="1895504192#-oqumsv_166"><p>Le premier chiffre repr&eacute;sente les permissions du propri&eacute;taire.</p></li><li class="list-item" id="1895504192#-oqumsv_167"><p>Le deuxi&egrave;me chiffre repr&eacute;sente les permissions du groupe.</p></li><li class="list-item" id="1895504192#-oqumsv_168"><p>Le troisi&egrave;me chiffre repr&eacute;sente les permissions de tous les autres.</p></li></ul><p id="1895504192#-oqumsv_169">Chaque chiffre est la somme de :</p><ul class="list" id="1895504192#-oqumsv_170" start="1"><li class="list-item" id="1895504192#-oqumsv_171"><p>4 pour lire (r),</p></li><li class="list-item" id="1895504192#-oqumsv_172"><p>2 pour &eacute;crire (w),</p></li><li class="list-item" id="1895504192#-oqumsv_173"><p>1 pour ex&eacute;cuter (x).</p></li></ul><p id="1895504192#-oqumsv_174">Par exemple, prenons une permission octale : <span class="inline-code" id="1895504192#-oqumsv_175">0644</span>.</p><ul class="list" id="1895504192#-oqumsv_176" start="1"><li class="list-item" id="1895504192#-oqumsv_177"><p>Le <span class="inline-code" id="1895504192#-oqumsv_178">0</span> au d&eacute;but est l&agrave; parce que c'est un nombre octal.</p></li><li class="list-item" id="1895504192#-oqumsv_179"><p><span class="inline-code" id="1895504192#-oqumsv_180">6</span> est <span class="inline-code" id="1895504192#-oqumsv_181">4+2</span>, ce qui signifie des permissions de lecture et d'&eacute;criture pour le propri&eacute;taire du fichier.</p></li><li class="list-item" id="1895504192#-oqumsv_182"><p><span class="inline-code" id="1895504192#-oqumsv_183">4</span> signifie seulement la permission de lecture pour les membres du groupe du fichier.</p></li><li class="list-item" id="1895504192#-oqumsv_184"><p>Le dernier <span class="inline-code" id="1895504192#-oqumsv_185">4</span> signifie seulement la permission de lecture pour tous les autres.</p></li></ul><p id="1895504192#-oqumsv_186">Voici un autre exemple : <span class="inline-code" id="1895504192#-oqumsv_187">0755</span>.</p><ul class="list" id="1895504192#-oqumsv_188" start="1"><li class="list-item" id="1895504192#-oqumsv_189"><p><span class="inline-code" id="1895504192#-oqumsv_190">7</span> est <span class="inline-code" id="1895504192#-oqumsv_191">4+2+1</span>, ce qui signifie des permissions de lecture, d'&eacute;criture et d'ex&eacute;cution pour le propri&eacute;taire.</p></li><li class="list-item" id="1895504192#-oqumsv_192"><p>Le premier <span class="inline-code" id="1895504192#-oqumsv_193">5</span> est <span class="inline-code" id="1895504192#-oqumsv_194">4+0+1</span>, ce qui signifie des permissions de lecture et d'ex&eacute;cution pour le groupe.</p></li><li class="list-item" id="1895504192#-oqumsv_195"><p>Le dernier <span class="inline-code" id="1895504192#-oqumsv_196">5</span> signifie des permissions de lecture et d'ex&eacute;cution pour tous les autres.</p></li></ul><p id="1895504192#-oqumsv_197">En conclusion, le param&egrave;tre <span class="inline-code" id="1895504192#-oqumsv_198">perm</span> de la fonction <span class="inline-code" id="1895504192#-oqumsv_199">os.OpenFile</span> vous permet de contr&ocirc;ler l'acc&egrave;s &agrave; votre fichier lorsque vous le cr&eacute;ez. Par exemple :</p><div class="code-block detached" id="1895504192#-oqumsv_200"><pre><code class="language-go">file, err := os.OpenFile(&quot;filename&quot;, os.O_RDWR|os.O_CREATE, 0644)</code></pre></div><p id="1895504192#-oqumsv_201">Cette ligne cr&eacute;erait un fichier avec des permissions de lecture/&eacute;criture pour le propri&eacute;taire, mais uniquement avec des permissions de lecture pour tous les autres.</p></section><section><h2 id="1895504192#exemples" data-toc="exemples#ch04s04-Autres-facons-d-ouvrir-un-fichier.md-exemples">Exemples</h2><p id="1895504192#-oqumsv_202">Voici quelques fa&ccedil;ons diff&eacute;rentes d'utiliser la fonction <span class="inline-code" id="1895504192#-oqumsv_203">os.OpenFile</span>:</p><ol class="list list-decimal" id="1895504192#-oqumsv_204" type="1" start="1"><li class="list-item" id="1895504192#-oqumsv_205"><p><span class="control" id="1895504192#-oqumsv_206">Ouvrir un fichier en mode lecture seule :</span></p></li></ol><div class="code-block detached" id="1895504192#-oqumsv_207"><pre><code class="language-go">file, err := os.OpenFile(&quot;file.txt&quot;, os.O_RDONLY, 0644)</code></pre></div><ol class="list list-decimal" id="1895504192#-oqumsv_208" type="1" start="2"><li class="list-item" id="1895504192#-oqumsv_209"><p><span class="control" id="1895504192#-oqumsv_210">Ouvrir un fichier en mode &eacute;criture seule (le contenu du fichier existant sera supprim&eacute;) :</span></p></li></ol><div class="code-block detached" id="1895504192#-oqumsv_211"><pre><code class="language-go">file, err := os.OpenFile(&quot;file.txt&quot;, os.O_WRONLY|os.O_TRUNC, 0644)</code></pre></div><ol class="list list-decimal" id="1895504192#-oqumsv_212" type="1" start="3"><li class="list-item" id="1895504192#-oqumsv_213"><p><span class="control" id="1895504192#-oqumsv_214">Ouvrir un fichier en mode &eacute;criture seule et cr&eacute;er le fichier s'il n'existe pas :</span></p></li></ol><div class="code-block detached" id="1895504192#-oqumsv_215"><pre><code class="language-go">file, err := os.OpenFile(&quot;file.txt&quot;, os.O_WRONLY|os.O_CREATE, 0644)</code></pre></div><ol class="list list-decimal" id="1895504192#-oqumsv_216" type="1" start="4"><li class="list-item" id="1895504192#-oqumsv_217"><p><span class="control" id="1895504192#-oqumsv_218">Ouvrir un fichier en mode ajout pour l'&eacute;criture (ajoute au contenu de fichier existant) :</span></p></li></ol><div class="code-block detached" id="1895504192#-oqumsv_219"><pre><code class="language-go">file, err := os.OpenFile(&quot;file.txt&quot;, os.O_APPEND|os.O_WRONLY, 0644)</code></pre></div><ol class="list list-decimal" id="1895504192#-oqumsv_220" type="1" start="5"><li class="list-item" id="1895504192#-oqumsv_221"><p><span class="control" id="1895504192#-oqumsv_222">Ouvrir un fichier en mode lecture-&eacute;criture (le contenu du fichier existant sera supprim&eacute;) :</span></p></li></ol><div class="code-block detached" id="1895504192#-oqumsv_223"><pre><code class="language-go">file, err := os.OpenFile(&quot;file.txt&quot;, os.O_RDWR|os.O_TRUNC, 0644)</code></pre></div><ol class="list list-decimal" id="1895504192#-oqumsv_224" type="1" start="6"><li class="list-item" id="1895504192#-oqumsv_225"><p><span class="control" id="1895504192#-oqumsv_226">Ouvrir un fichier en mode lecture-&eacute;criture et cr&eacute;er le fichier s'il n'existe pas :</span></p></li></ol><div class="code-block detached" id="1895504192#-oqumsv_227"><pre><code class="language-go">file, err := os.OpenFile(&quot;file.txt&quot;, os.O_RDWR|os.O_CREATE, 0644)</code></pre></div><p id="1895504192#-oqumsv_228">Dans tous ces exemples, vous devriez toujours v&eacute;rifier l'erreur retourn&eacute;e (<span class="inline-code" id="1895504192#-oqumsv_229">err</span>) pour s'assurer que le fichier a &eacute;t&eacute; ouvert avec succ&egrave;s :</p><div class="code-block detached" id="1895504192#-oqumsv_230"><pre><code class="language-go">if err != nil {
	log.Fatal(err)
}</code></pre></div><p id="1895504192#-oqumsv_231">N'oubliez pas non plus de fermer le fichier lorsque vous avez termin&eacute; de l'utiliser. Vous pouvez utiliser l'instruction <span class="inline-code" id="1895504192#-oqumsv_232">defer</span> pour vous assurer que <span class="inline-code" id="1895504192#-oqumsv_233">file.Close()</span> sera appel&eacute; &agrave; la fin de la fonction conteneur.</p><div class="code-block detached" id="1895504192#-oqumsv_234"><pre><code class="language-go">defer file.Close()</code></pre></div></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="397306659">Chapitre 5 : Les structures</h1><section><h2 id="397306659#exemple-de-base" data-toc="exemple-de-base#ch05-Chapitre-5-Les-structures.md-exemple-de-base">Exemple de base</h2><p id="397306659#-kq803q_37">En Go, une <span class="inline-code" id="397306659#-kq803q_38">struct</span> (structure) est une collection personnalis&eacute;e de types de donn&eacute;es. Elle permet de combiner des &eacute;l&eacute;ments de diff&eacute;rents types dans une seule structure de donn&eacute;es. L'exemple qui suit d&eacute;montre comment les structs peuvent &ecirc;tre utilis&eacute;es pour cr&eacute;er et g&eacute;rer des instances d'une personne.</p><p id="397306659#-kq803q_39">Voici un exemple minimal d'utilisation d'une <span class="inline-code" id="397306659#-kq803q_40">struct</span> appel&eacute;e <span class="inline-code" id="397306659#-kq803q_41">Person</span> qui contient les champs <span class="inline-code" id="397306659#-kq803q_42">Name</span> et <span class="inline-code" id="397306659#-kq803q_43">Age</span>:</p><div class="code-block detached" id="397306659#-kq803q_44"><pre><code class="language-go">package main

import &quot;fmt&quot;

type Person struct {
	Name string
	Age  int
}

func main() {
    // Initialiser une nouvelle instance de Person
	person1 := Person{Name: &quot;John Doe&quot;, Age: 30}

	// Accéder aux champs de la struct
	fmt.Println(person1.Name) // John Doe
	fmt.Println(person1.Age)  // 30

	// Modifier les champs de la struct
	person1.Name = &quot;Jane Doe&quot;
	person1.Age = 28

	fmt.Println(person1.Name) // Jane Doe
	fmt.Println(person1.Age)  // 28
	
	fmt.Println(person1)      // {Jane Doe 28}
}</code></pre></div><ol class="list list-decimal" id="397306659#-kq803q_45" type="1" start="1"><li class="list-item" id="397306659#-kq803q_46"><p>Nous d&eacute;finissons un nouveau type appel&eacute; <span class="inline-code" id="397306659#-kq803q_47">Person</span> qui est une struct contenant deux champs : <span class="inline-code" id="397306659#-kq803q_48">Name</span> de type <span class="inline-code" id="397306659#-kq803q_49">string</span> et <span class="inline-code" id="397306659#-kq803q_50">Age</span> de type <span class="inline-code" id="397306659#-kq803q_51">int</span>.</p></li><li class="list-item" id="397306659#-kq803q_52"><p>Dans la fonction <span class="inline-code" id="397306659#-kq803q_53">main</span>, nous cr&eacute;ons une nouvelle instance de <span class="inline-code" id="397306659#-kq803q_54">Person</span> et l'initialisons avec des valeurs pour <span class="inline-code" id="397306659#-kq803q_55">Name</span> et <span class="inline-code" id="397306659#-kq803q_56">Age</span>.</p></li><li class="list-item" id="397306659#-kq803q_57"><p>Nous utilisons l'op&eacute;rateur <span class="inline-code" id="397306659#-kq803q_58">.</span> pour acc&eacute;der aux champs de notre instance de <span class="inline-code" id="397306659#-kq803q_59">Person</span>, puis nous imprimons ces valeurs avec <span class="inline-code" id="397306659#-kq803q_60">fmt.Println</span>.</p></li><li class="list-item" id="397306659#-kq803q_61"><p>Enfin, nous utilisons l'op&eacute;rateur '.' pour modifier les valeurs des champs <span class="inline-code" id="397306659#-kq803q_62">Name</span> et <span class="inline-code" id="397306659#-kq803q_63">Age</span> dans notre instance de <span class="inline-code" id="397306659#-kq803q_64">Person</span>.</p></li><li class="list-item" id="397306659#-kq803q_65"><p>Nous pouvons aussi imprimer une structure directement dans un <span class="inline-code" id="397306659#-kq803q_66">fmt.Println</span>, mais la sortie peut &ecirc;tre ambigu&euml;, comme le montre la derni&egrave;re sortie dans l'exemple : &agrave; partir d'uniquement du r&eacute;sultat de la sortie, il n'est pas clair s'il y a 2 ou 3 champs dans la structure.</p></li></ol><p id="397306659#-kq803q_67">Puisque les champs <span class="inline-code" id="397306659#-kq803q_68">Name</span> et <span class="inline-code" id="397306659#-kq803q_69">Age</span> commencent par des majuscules, ils sont publics. S'ils commen&ccedil;aient par une minuscule, ils seraient priv&eacute;s, donc accessibles seulement au code situ&eacute; dans le m&ecirc;me paquet (<span class="inline-code" id="397306659#-kq803q_70">package</span>) que sa d&eacute;claration. En Go, l'accessibilit&eacute; (public vs. priv&eacute;) est toujours d&eacute;finie au niveau du paquet.</p></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-1606007203">Section 1 : Valeur vs. pointeur</h1><p id="-1606007203#-hklur_41">Voici un exemple de structure pour repr&eacute;senter un point en 2 dimensions, chaque dimension &eacute;tant un nombre r&eacute;el (type <span class="inline-code" id="-1606007203#-hklur_53">float64</span>).</p><div class="code-block detached" id="-1606007203#-hklur_42"><pre><code class="language-go">type Point struct {
	X float64
	Y float64
}

func NewPoint(x float64, y float64) *Point {
	return &amp;Point{X: x, Y: y}
}

func section1a() {
	p := Point{2, 5}
	fmt.Println(p)

	pPtr := &amp;p
	fmt.Printf(&quot;%p %v\n&quot;, pPtr, *pPtr)

	pPtr = &amp;Point{4, 3}
	fmt.Printf(&quot;%p %v\n&quot;, pPtr, *pPtr)
	
	pPtr = new(Point)
	fmt.Printf(&quot;%p %v\n&quot;, pPtr, *pPtr)
	pPtr.X = 1
	pPtr.Y = 6
	fmt.Printf(&quot;%p %v\n&quot;, pPtr, *pPtr)
	
	pPtr = NewPoint(-1, 5.5)
	fmt.Printf(&quot;%p %v\n&quot;, pPtr, *pPtr)
}</code></pre></div><p id="-1606007203#-hklur_43">Sortie :</p><div class="code-block detached" id="-1606007203#-hklur_44"><pre><code class="language-go">{2 5}
0xc0000a6020 {2 5}
0xc0000a6050 {4 3}
0xc0000a6070 {0 0}
0xc0000a6070 {1 6}
0xc0000a60a0 {-1 5.5}</code></pre></div><p id="-1606007203#-hklur_45">La variable <span class="inline-code" id="-1606007203#-hklur_54">p</span> est de type valeur, elle contient un point, qui est compos&eacute; de 2 <span class="inline-code" id="-1606007203#-hklur_55">float64</span>. L'espace utilis&eacute; par cette variable est la somme de l'espace utilis&eacute; par ses composantes, donc 128 bits dans ce cas-ci. En g&eacute;n&eacute;ral, l'espace utilis&eacute; pourrait &ecirc;tre plus grand que la somme de l'espace utilis&eacute; par ses composantes si les composantes sont de diff&eacute;rentes tailles (voir les d&eacute;tails plus loin). La variable <span class="inline-code" id="-1606007203#-hklur_56">pPtr</span> est un pointeur vers un <span class="inline-code" id="-1606007203#-hklur_57">Point</span>.</p><div class="container"><figure class="image-container"><img class="center image" id="-1606007203#-hklur_46" alt="struct valeur" title="struct valeur" src="/home/denis/projets/WritersideProjects/native1/Writerside/images/Structure_240121_155544.jpg" width="1600" height="300"><figcaption class="center-text">struct valeur</figcaption></figure></div><p id="-1606007203#-hklur_47">On peut cr&eacute;er un nouveau point de cette fa&ccedil;on : <span class="inline-code" id="-1606007203#-hklur_58">pPtr = &amp;Point{4, 3}</span>. Notez l'utilisation du <span class="inline-code" id="-1606007203#-hklur_59">&amp;</span> devant <span class="inline-code" id="-1606007203#-hklur_60">Point{4, 3}</span>. On cr&eacute;e un nouveau point, et on place l'adresse du nouveau point dans <span class="inline-code" id="-1606007203#-hklur_61">pPtr</span>. On ne touche pas au premier point ici, on remplace seulement l'adresse m&eacute;moire contenu dans la variable <span class="inline-code" id="-1606007203#-hklur_62">pPtr</span> par une nouvelle adresse. On a donc 2 points diff&eacute;rents en m&eacute;moire &agrave; ce moment. V&eacute;rifiez dans la sortie, les adresses sont diff&eacute;rentes. Les adresses vont &ecirc;tre fort probablement diff&eacute;rentes des adresses donn&eacute;es plus haut.</p><div class="container"><figure class="image-container"><img class="center image" id="-1606007203#-hklur_48" alt="struct pointeur" title="struct pointeur" src="/home/denis/projets/WritersideProjects/native1/Writerside/images/Structure2_240204_201808.jpg" width="1600" height="372"><figcaption class="center-text">struct pointeur</figcaption></figure></div><p id="-1606007203#-hklur_49">On peut &eacute;galement cr&eacute;er un nouveau point avec <span class="inline-code" id="-1606007203#-hklur_63">new</span>. Le probl&egrave;me avec <span class="inline-code" id="-1606007203#-hklur_64">new</span>, c'est qu'on ne peut pas sp&eacute;cifier les valeurs des diff&eacute;rents champs de cette fa&ccedil;on. On doit donc modifier les valeurs par d&eacute;faut des champs apr&egrave;s avoir cr&eacute;&eacute; la structure avec <span class="inline-code" id="-1606007203#-hklur_65">new</span>. En Go, lorsqu'une variable est de <span class="emphasis" id="-1606007203#-hklur_66">type pointeur vers une structure</span>, il n'est pas n&eacute;cessaire de d&eacute;r&eacute;f&eacute;rencer le pointeur avec l'ast&eacute;risque <span class="inline-code" id="-1606007203#-hklur_67">*</span> avant d'acc&eacute;der &agrave; ces champs. Si on devait le faire, on utiliserait <span class="inline-code" id="-1606007203#-hklur_68">(*pPtr).X = 1</span> &agrave; la place de <span class="inline-code" id="-1606007203#-hklur_69">pPtr.X = 1</span>. Il est tr&egrave;s commun de manipuler des pointeurs vers des structures, donc les cr&eacute;ateurs de Go ont d&eacute;cid&eacute; d'introduire la notation avec le <span class="inline-code" id="-1606007203#-hklur_70">.</span> non seulement directement sur les structures, mais aussi sur les pointeurs vers des structures.</p><div class="container"><figure class="image-container"><img class="center image" id="-1606007203#-hklur_50" alt="new(Point)" title="new(Point)" src="/home/denis/projets/WritersideProjects/native1/Writerside/images/Structure3_240204_205941.jpg" width="1600" height="468"><figcaption class="center-text">new(Point)</figcaption></figure></div><p id="-1606007203#-hklur_51">Il est &eacute;galement possible de d&eacute;clarer une fonction pour cr&eacute;er un nouveau point, similaire &agrave; un constructeur dans un langage orient&eacute;-objet. Dans GoLand, il est possible de g&eacute;n&eacute;rer un constructeur automatiquement avec le raccourci <span class="inline-code" id="-1606007203#-hklur_71">alt-ins</span>. Cette fonction d&eacute;montre &eacute;galement qu'il est possible de sp&eacute;cifier la valeur des champs d'une structure par leurs noms, suivis d'un <span class="inline-code" id="-1606007203#-hklur_72">:</span> et des valeurs de champ. Si on ne sp&eacute;cifie pas les noms des champs dans l'initialisation, on doit placer les valeurs des champs dans le m&ecirc;me ordre que leurs d&eacute;clarations.</p><p id="-1606007203#-hklur_52">Il faut noter que dans cet exemple, apr&egrave;s avoir cr&eacute;&eacute; un nouveau point avec <span class="inline-code" id="-1606007203#-hklur_73">new</span> et avoir plac&eacute; son adresse dans <span class="inline-code" id="-1606007203#-hklur_74">pPtr</span>, nous perdons l'adresse du point <span class="inline-code" id="-1606007203#-hklur_75">{4 3}</span>, qui ne sera plus accessible du tout par le programme. Similairement, apr&egrave;s avoir cr&eacute;&eacute; un nouveau point avec le constructeur, nous allons perdre le point <span class="inline-code" id="-1606007203#-hklur_76">{1 6}</span> parce que nous perdons son adresse. En g&eacute;n&eacute;ral, il serait pr&eacute;f&eacute;rable de r&eacute;utiliser les points d&eacute;j&agrave; cr&eacute;&eacute;s pour &eacute;viter d'allouer de la m&eacute;moire pour rien. En Go, comme dans d'autres langages tels que Java et C#, il y a un vidangeur (<span class="emphasis" id="-1606007203#-hklur_77">garbage collector</span>) qui va r&eacute;cup&eacute;rer cet espace m&eacute;moire, mais ce proc&eacute;d&eacute; n'est pas gratuit, il pourrait y avoir un impact sur la performance dans certain cas. Dans la plupart des cas, l'impact sera faible, mais de bonnes pratiques en termes de gestion de la m&eacute;moire est pr&eacute;f&eacute;rable. Les langages qui n'ont pas de vidangeur, comme le C et le C++, ne pourront pas r&eacute;cup&eacute;rer la m&eacute;moire perdue, ce qui cr&eacute;era une fuite de m&eacute;moire (<span class="emphasis" id="-1606007203#-hklur_78">memory leak</span>).</p></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-254878348">Section 2 : M&eacute;thodes</h1><p id="-254878348#b33l13_37">Voici le contenu du fichier <span class="inline-code" id="-254878348#b33l13_41">point.go</span>, qui contient le m&ecirc;me d&eacute;finition de la structure <span class="inline-code" id="-254878348#b33l13_42">Point</span> et le m&ecirc;me constructeur que dans la section pr&eacute;c&eacute;dente, mais qui contient en plus quelques m&eacute;thodes d&eacute;finies sur <span class="inline-code" id="-254878348#b33l13_43">Point</span>.</p><p id="-254878348#b33l13_38">point.go sur Github (<a href="https://github.com/profdenis/native1/tree/master/chap5/point.go">https://github.com/profdenis/native1/tree/master/chap5/point.go</a>)</p><div class="code-block detached" id="-254878348#b33l13_39"><pre><code class="language-go">package main

import (
	&quot;fmt&quot;
	&quot;math&quot;
)

type Point struct {
	X float64
	Y float64
}

func NewPoint(x float64, y float64) *Point {
	return &amp;Point{X: x, Y: y}
}

// String convertir le Point en String pour implémenter l'interface Stringer
func (p *Point) String() string {
	return fmt.Sprintf(&quot;Point(%f, %f)&quot;, p.X, p.Y)
}

// Add additionne 2 points et retourne le résultat dans un 3e point
func (p *Point) Add(other *Point) *Point {
	return &amp;Point{p.X + other.X, p.Y + other.Y}
}

// Subtract soustrait 2 point et retourne le résultat dans un 3e point
func (p *Point) Subtract(other *Point) *Point {
	return &amp;Point{p.X - other.X, p.Y - other.Y}
}

// Distance calcule et retourne la distance Euclidienne entre 2 point
func (p *Point) Distance(other *Point) float64 {
	return math.Sqrt(math.Pow(other.X-p.X, 2) + math.Pow(other.Y-p.Y, 2))
}

// Scale mise à l'échelle d'un Point par un facteur et retourne le résultat dans un nouveau point
func (p *Point) Scale(factor float64) *Point {
	return &amp;Point{p.X * factor, p.Y * factor}
}</code></pre></div><p id="-254878348#b33l13_40">Les m&eacute;thodes sont un type de fonctions particuli&egrave;res : ce sont des fonctions d&eacute;finies sur des structures. C'est le m&ecirc;me concept que les m&eacute;thodes dans d'autres langages comme Java et C#, mais d&eacute;finies sur des structures &agrave; la place des classes.</p><section><h2 id="-254878348#est-ce-que-go-est-orient-objet" data-toc="est-ce-que-go-est-orient-objet#ch05s02-Section-2-Methodes.md-est-ce-que-go-est-orient-objet">Est-ce que Go est orient&eacute;-objet ?</h2><p id="-254878348#b33l13_45">Go n'est pas un langage orient&eacute;-objet dans le m&ecirc;me sens que Java et C# le sont parce que Go ne supporte pas l'h&eacute;ritage entre classes (ou structures), mais &agrave; part pour cette diff&eacute;rence, les structures et les classes sont des concepts tr&egrave;s similaires. Go supporte les interfaces et la composition de structures et d'interfaces en plus des m&eacute;thodes, mais pas l'h&eacute;ritage entre classes et le polymorphisme, donc c'est pourquoi Go n'est pas consid&eacute;r&eacute; comme &eacute;tant orient&eacute;-objet par certains qui consid&egrave;rent l'h&eacute;ritage entre classes et le polymorphisme comme &eacute;tant obligatoire pour qu' un langage soit qualifi&eacute; d'orient&eacute;-objet. Il n'existe aucune d&eacute;finition exacte de ce qu'est un langage orient&eacute;-objet, donc d&eacute;pendamment de la d&eacute;finition utilis&eacute;e, Go peut &ecirc;tre consid&eacute;r&eacute; comme orient&eacute;-objet ou non.</p></section><section><h2 id="-254878348#comment-d-finir-une-m-thode" data-toc="comment-d-finir-une-m-thode#ch05s02-Section-2-Methodes.md-comment-d-finir-une-m-thode">Comment d&eacute;finir une m&eacute;thode</h2><p id="-254878348#b33l13_46">Comme pr&eacute;sent&eacute; dans l'exemple plus haut, les m&eacute;thodes sont d&eacute;finies en dehors de la d&eacute;finition de la structure. Une m&eacute;thode est une fonction avec un &eacute;l&eacute;ment de plus : un <span class="emphasis" id="-254878348#b33l13_47">receveur</span> est ajout&eacute; entre le mot <span class="inline-code" id="-254878348#b33l13_48">func</span> et le nom de la fonction. Le receveur d&eacute;fini sur quel type de structure la m&eacute;thode peut &ecirc;tre appel&eacute;e. Le receveur peut &ecirc;tre de type valeur ou pointeur. Le receveur est comme un param&egrave;tre suppl&eacute;mentaire sur une fonction, donc les m&ecirc;mes r&egrave;gles s'appliquent au receveur qu'aux autres param&egrave;tres d'une fonction :</p><ul class="list" id="-254878348#b33l13_49" start="1"><li class="list-item" id="-254878348#b33l13_50"><p>si le receveur est de type valeur, alors le contenu de la structure sur laquelle la m&eacute;thode est appel&eacute;e sera copi&eacute;e dans une variable locale temporaire pour l'ex&eacute;cution de la m&eacute;thode.</p></li><li class="list-item" id="-254878348#b33l13_51"><p>si le receveur est un pointeur, alors le contenu de la structure ne sera pas copi&eacute; parce que l'adresse de la structure sera donn&eacute;e &agrave; la m&eacute;thode, donc les modifications apport&eacute;es &agrave; la structure dans la m&eacute;thode seront visibles &agrave; l'ext&eacute;rieur de la m&eacute;thode.</p></li></ul></section><section><h2 id="-254878348#comment-appeler-une-m-thode" data-toc="comment-appeler-une-m-thode#ch05s02-Section-2-Methodes.md-comment-appeler-une-m-thode">Comment appeler une m&eacute;thode</h2><p id="-254878348#b33l13_52">Dans cet exemple, on commence par cr&eacute;er 2 points avec le constructeur, et ensuite, on appelle la m&eacute;thode <span class="inline-code" id="-254878348#b33l13_53">Add</span> sur le premier point, en donnant le 2e point en argument. Pour appeler une m&eacute;thode sur une structure, il faut utiliser le <span class="inline-code" id="-254878348#b33l13_54">.</span> directement pr&eacute;c&eacute;d&eacute; d'une structure ou d'un pointeur vers une structure, suivi du nom de la m&eacute;thode et de ses arguments.</p><div class="code-block detached" id="-254878348#b33l13_55"><pre><code class="language-go">p1 := NewPoint(1, 2)
p2 := NewPoint(3, 4)
fmt.Println(p1)
fmt.Println(p2)

p3 := p1.Add(p2)
fmt.Println(p3)</code></pre></div><p id="-254878348#b33l13_56">Sortie :</p><div class="code-block detached" id="-254878348#b33l13_57"><pre><code class="language-go">Point(1.000000, 2.000000)
Point(3.000000, 4.000000)
Point(4.000000, 6.000000)</code></pre></div></section><section><h2 id="-254878348#conversion-pour-l-impression" data-toc="conversion-pour-l-impression#ch05s02-Section-2-Methodes.md-conversion-pour-l-impression">Conversion pour l'impression</h2><p id="-254878348#b33l13_58">La m&eacute;thode <span class="inline-code" id="-254878348#b33l13_59">String</span> d&eacute;finie sur la structure <span class="inline-code" id="-254878348#b33l13_60">Point</span> est sp&eacute;ciale car elle permet la conversion de la structure en cha&icirc;ne de caract&egrave;res pour la sortie, sur le terminal dans cet exemple-ci. Quand on appelle <span class="inline-code" id="-254878348#b33l13_61">fmt.Println</span> (ou d'autres fonctions d'impression) sur un point, si la m&eacute;thode <span class="inline-code" id="-254878348#b33l13_62">String()</span> qui retourne une <span class="inline-code" id="-254878348#b33l13_63">string</span> est d&eacute;finie, alors elle sera utilis&eacute;e pour la conversion du point en cha&icirc;ne de caract&egrave;res. Cette fonction est d&eacute;finie dans l'interface <span class="inline-code" id="-254878348#b33l13_64">Stringer</span>. En Java, la m&eacute;thode <span class="inline-code" id="-254878348#b33l13_65">toString</span> joue le m&ecirc;me r&ocirc;le.</p><p id="-254878348#b33l13_66">Si cette m&eacute;thode n'est pas d&eacute;finie, alors la sortie sera :</p><div class="code-block detached" id="-254878348#b33l13_67"><pre><code class="language-go">&amp;{1 2}
&amp;{3 4}
&amp;{4 6}</code></pre></div><p id="-254878348#b33l13_68">Par d&eacute;fault, si la m&eacute;thode String n'est pas d&eacute;finie, alors la sortie commencera par <span class="inline-code" id="-254878348#b33l13_69">&amp;</span> si on a un pointeur vers une structure, et entre accolades <span class="inline-code" id="-254878348#b33l13_70">{}</span>, on aura la valeur de tous les champs s&eacute;par&eacute;s par des espaces.</p></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-1486224620">Section 3 : S&eacute;rialisation des structures</h1><p id="-1486224620#-ts78qr_83">La s&eacute;rialisation est le processus de conversion des structures de donn&eacute;es ou des objets en un format qui peut &ecirc;tre stock&eacute; (par exemple, dans un fichier ou une m&eacute;moire tampon), ou transmis (par exemple, &agrave; travers un r&eacute;seau) et reconstruit plus tard (peut-&ecirc;tre dans un environnement diff&eacute;rent).</p><p id="-1486224620#-ts78qr_84">Pour une structure Go, la s&eacute;rialisation signifie la conversion de l'instance de la struct en un format qui peut &ecirc;tre facilement stock&eacute; ou transmis. Le format cible peut &ecirc;tre JSON, XML, texte brut ou tout autre format de donn&eacute;es utilisable.</p><p id="-1486224620#-ts78qr_85">Reprenons l'exemple de la structure <span class="inline-code" id="-1486224620#-ts78qr_96">Person</span>:</p><div class="code-block detached" id="-1486224620#-ts78qr_86"><pre><code class="language-go">type Person struct{
    Name string
    Age int
}</code></pre></div><p id="-1486224620#-ts78qr_87">Et une instance de cette struct :</p><div class="code-block detached" id="-1486224620#-ts78qr_88"><pre><code class="language-go">p := Person{Name: &quot;Alice&quot;, Age:25}</code></pre></div><p id="-1486224620#-ts78qr_89">La s&eacute;rialisation de cette instance de struct (dans le format JSON) transforme la struct en une cha&icirc;ne JSON :</p><div class="code-block detached" id="-1486224620#-ts78qr_90"><pre><code class="language-json">{
  &quot;Name&quot;: &quot;Alice&quot;,
  &quot;Age&quot;: 25
}</code></pre></div><p id="-1486224620#-ts78qr_91">On peut ensuite enregistrer cette cha&icirc;ne JSON dans un fichier, ou l'envoyer &agrave; travers un r&eacute;seau, etc. Lorsque nous avons besoin d'utiliser ces donn&eacute;es &agrave; nouveau, nous d&eacute;s&eacute;rialisons la cha&icirc;ne JSON en une instance de la struct <span class="inline-code" id="-1486224620#-ts78qr_97">Person</span>. Cela permet de sauvegarder l'&eacute;tat de l'objet et de le restaurer plus tard, ou de le transmettre &agrave; un autre emplacement ou un autre syst&egrave;me.</p><p id="-1486224620#-ts78qr_92">Dans certaines situations, selon les conventions utilis&eacute;es, il peut &ecirc;tre pr&eacute;f&eacute;rable de nommer les cl&eacute;s en JSON, qui correspondent aux noms des champs en Go, en utilisant le <span class="emphasis" id="-1486224620#-ts78qr_98">camelCase</span>. Pour ce faire, on peut placer des &eacute;tiquettes (<span class="emphasis" id="-1486224620#-ts78qr_99">tags</span>) dans la d&eacute;claration des structures, qui seront utilis&eacute;es dans le processus de conversion (voir les exemples plus bas). La d&eacute;claration de la structure <span class="inline-code" id="-1486224620#-ts78qr_100">Person</span> deviendra :</p><div class="code-block detached" id="-1486224620#-ts78qr_93"><pre><code class="language-go">type Person struct {
	Name string `json:&quot;name&quot;`
	Age  int    `json:&quot;age&quot;`
}</code></pre></div><p id="-1486224620#-ts78qr_94">La cr&eacute;ation des instances ne sera pas affect&eacute;e, mais le r&eacute;sultat de la s&eacute;rialisation donnera du JSON avec les noms sp&eacute;cifi&eacute;s dans les &eacute;tiquettes.</p><div class="code-block detached" id="-1486224620#-ts78qr_95"><pre><code class="language-json">{
  &quot;name&quot;: &quot;Alice&quot;,
  &quot;age&quot;: 25
}</code></pre></div><section><h2 id="-1486224620#exemple-complet" data-toc="exemple-complet#ch05s03-Section-3-Serialisation-des-structures.md-exemple-complet">Exemple complet</h2><p id="-1486224620#-ts78qr_101">Voici un exemple complet de s&eacute;rialisation et d&eacute;s&eacute;rialisation d'une structure vers/&agrave; partir une cha&icirc;ne JSON.</p><div class="code-block detached" id="-1486224620#-ts78qr_102"><pre><code class="language-go">package main

import (
	&quot;encoding/json&quot;
	&quot;fmt&quot;
)

type Person struct {
	Name string `json:&quot;name&quot;`
	Age  int    `json:&quot;age&quot;`
}

func section3a() {
	// Créer une instance de Person
	p := Person{Name: &quot;John&quot;, Age: 30}

	// Séraliser la struct en JSON
	jsonData, err := json.Marshal(p)
	if err != nil {
		fmt.Println(err)
		return
	}
	fmt.Println(string(jsonData)) // Affiche : {&quot;name&quot;:&quot;John&quot;,&quot;age&quot;:30}

	// Désérialiser le JSON en struct
	jsonStr := `{&quot;name&quot;:&quot;James&quot;,&quot;age&quot;:40}`
	var p2 Person
	err = json.Unmarshal([]byte(jsonStr), &amp;p2)
	if err != nil {
		fmt.Println(err)
		return
	}
	fmt.Println(p2) // Affiche : {James 40}
}</code></pre></div><p id="-1486224620#-ts78qr_103">Sortie :</p><div class="code-block detached" id="-1486224620#-ts78qr_104"><pre><code class="language-go">{&quot;name&quot;:&quot;John&quot;,&quot;age&quot;:30}
{James 40}</code></pre></div><ol class="list list-decimal" id="-1486224620#-ts78qr_105" type="1" start="1"><li class="list-item" id="-1486224620#-ts78qr_106"><p id="-1486224620#-ts78qr_107">Une instance de la structure <span class="inline-code" id="-1486224620#-ts78qr_108">Person</span> est cr&eacute;&eacute;e avec le nom &quot;John&quot; et l'&acirc;ge 30.</p><div class="code-block detached" id="-1486224620#-ts78qr_109"><pre><code class="language-go">p := Person{Name: &quot;John&quot;, Age: 30}</code></pre></div></li><li class="list-item" id="-1486224620#-ts78qr_110"><p id="-1486224620#-ts78qr_111">Cette instance est ensuite s&eacute;rialis&eacute;e au format JSON &agrave; l'aide de la fonction <span class="inline-code" id="-1486224620#-ts78qr_112">json.Marshal</span>. S'il y a une erreur lors de ce processus, elle est imprim&eacute;e et la fonction retourne imm&eacute;diatement.</p><div class="code-block detached" id="-1486224620#-ts78qr_113"><pre><code class="language-go">jsonData, err := json.Marshal(p)
if err != nil {
		fmt.Println(err)
		return
	}
fmt.Println(string(jsonData)) // Imprime: {&quot;name&quot;:&quot;John&quot;,&quot;age&quot;:30}</code></pre></div></li><li class="list-item" id="-1486224620#-ts78qr_114"><p id="-1486224620#-ts78qr_115">Ensuite, une cha&icirc;ne JSON repr&eacute;sentant une autre personne (<span class="emphasis" id="-1486224620#-ts78qr_116">nom : &quot;James&quot;, &acirc;ge : 40</span>) est d&eacute;s&eacute;rialis&eacute;e en une instance de la structure <span class="inline-code" id="-1486224620#-ts78qr_117">Person</span> en utilisant la fonction <span class="inline-code" id="-1486224620#-ts78qr_118">json.Unmarshal</span>. L&agrave; encore, s'il y a une erreur lors de ce processus, elle est imprim&eacute;e et la fonction retourne imm&eacute;diatement.</p><div class="code-block detached" id="-1486224620#-ts78qr_119"><pre><code class="language-go">jsonStr := `{&quot;name&quot;:&quot;James&quot;,&quot;age&quot;:40}`
	var p2 Person
	err = json.Unmarshal([]byte(jsonStr), &amp;p2)
	if err != nil {
		fmt.Println(err)
		return
	}
	fmt.Println(p2) // Imprime: {James 40}</code></pre></div></li></ol><p id="-1486224620#-ts78qr_120">La structure <span class="inline-code" id="-1486224620#-ts78qr_121">Person</span> et ces op&eacute;rations (s&eacute;rialisation et d&eacute;s&eacute;rialisation en JSON) sont pr&eacute;dominantes dans les sc&eacute;narios o&ugrave; les donn&eacute;es doivent &ecirc;tre stock&eacute;es, transf&eacute;r&eacute;es ou trait&eacute;es. JSON (JavaScript Object Notation) est un format populaire &agrave; ces fins en raison de sa simplicit&eacute; et de sa compatibilit&eacute; avec de nombreux langages, y compris Go.</p></section><section><h2 id="-1486224620#exemple-d-criture-d-une-structure-dans-un-fichier" data-toc="exemple-d-criture-d-une-structure-dans-un-fichier#ch05s03-Section-3-Serialisation-des-structures.md-exemple-d-criture-d-une-structure-dans-un-fichier">Exemple d'&eacute;criture d'une structure dans un fichier</h2><div class="code-block detached" id="-1486224620#-ts78qr_122"><pre><code class="language-go">import (
	&quot;encoding/json&quot;
	&quot;fmt&quot;
	&quot;io/ioutil&quot;
	&quot;os&quot;
)

type Person struct {
	Name string `json:&quot;name&quot;`
	Age  int    `json:&quot;age&quot;`
}

func section3b() {
	// Créer une instance de Person
	p := Person{Name: &quot;John&quot;, Age: 30}

	// Séraliser la struct en JSON
	jsonData, err := json.Marshal(p)
	if err != nil {
		fmt.Println(err)
		return
	}

	// Ouvrir le fichier en mode écriture
	file, err := os.OpenFile(&quot;person.json&quot;, os.O_CREATE|os.O_WRONLY, 0644)
	if err != nil {
		fmt.Println(err)
		return
	}
	defer file.Close()

	// Écrire les données JSON dans le fichier
	_, err = file.Write(jsonData)
	if err != nil {
		fmt.Println(err)
		return
	}
	file.Sync()

	// Lire les données du fichier
	data, err := os.ReadFile(&quot;person.json&quot;)
	if err != nil {
		fmt.Println(err)
		return
	}

	// Désérialiser les données JSON pour recréer une instance de Person
	var p2 Person
	err = json.Unmarshal(data, &amp;p2)
	if err != nil {
		fmt.Println(err)
		return
	}

	// Afficher l'instance de Person
	fmt.Println(p2) // Devrait afficher: {John 30}
}</code></pre></div><p id="-1486224620#-ts78qr_123">Dans la fonction <span class="inline-code" id="-1486224620#-ts78qr_124">section3b</span>:</p><ol class="list list-decimal" id="-1486224620#-ts78qr_125" type="1" start="1"><li class="list-item" id="-1486224620#-ts78qr_126"><p>On commence par cr&eacute;er une instance <span class="inline-code" id="-1486224620#-ts78qr_127">Person</span> avec le nom &quot;John&quot; et l'&acirc;ge 30, que l'on s&eacute;rialise en JSON.</p></li><li class="list-item" id="-1486224620#-ts78qr_128"><p>Ensuite, on ouvre un fichier appel&eacute; &quot;person.json&quot; en mode &eacute;criture. Si le fichier n'existe pas, il sera cr&eacute;&eacute; (<span class="inline-code" id="-1486224620#-ts78qr_129">os.O_CREATE</span>). Si le fichier existe d&eacute;j&agrave;, son contenu sera &eacute;cras&eacute; (<span class="inline-code" id="-1486224620#-ts78qr_130">os.O_WRONLY</span>). Le chiffre <span class="inline-code" id="-1486224620#-ts78qr_131">0644</span> est une valeur octale repr&eacute;sentant les permissions du fichier.</p></li><li class="list-item" id="-1486224620#-ts78qr_132"><p>On &eacute;crit ensuite les donn&eacute;es JSON dans le fichier.</p></li><li class="list-item" id="-1486224620#-ts78qr_133"><p>Apr&egrave;s cela, on lit les donn&eacute;es du fichier dans un <span class="inline-code" id="-1486224620#-ts78qr_134">byte</span> slice.</p></li><li class="list-item" id="-1486224620#-ts78qr_135"><p>Enfin, on d&eacute;s&eacute;rialise les donn&eacute;es JSON pour recr&eacute;er une instance <span class="inline-code" id="-1486224620#-ts78qr_136">Person</span> et on l'affiche.</p></li></ol><p id="-1486224620#-ts78qr_137"><span class="control" id="-1486224620#-ts78qr_138">Note</span>: Assurez-vous de g&eacute;rer vos erreurs correctement dans un v&eacute;ritable environnement de production. Ici, nous nous contentons d'imprimer les erreurs, mais en r&eacute;alit&eacute;, vous devriez les g&eacute;rer d'une mani&egrave;re qui convient &agrave; votre application. Aussi, n'oubliez pas de fermer le fichier apr&egrave;s l'avoir utilis&eacute; pour lib&eacute;rer les ressources syst&egrave;me.</p></section><section><h2 id="-1486224620#exemple-d-criture-d-une-tranche-de-structures-dans-un-fichier" data-toc="exemple-d-criture-d-une-tranche-de-structures-dans-un-fichier#ch05s03-Section-3-Serialisation-des-structures.md-exemple-d-criture-d-une-tranche-de-structures-dans-un-fichier">Exemple d'&eacute;criture d'une tranche de structures dans un fichier</h2><p id="-1486224620#-ts78qr_139">D'accord, pour &eacute;crire et lire une tranche de Person, vous pouvez suivre un sch&eacute;ma similaire. Voici comment :</p><div class="code-block detached" id="-1486224620#-ts78qr_140"><pre><code class="language-go">import (
	&quot;encoding/json&quot;
	&quot;fmt&quot;
	&quot;os&quot;
)

type Person struct {
	Name string `json:&quot;name&quot;`
	Age  int	   `json:&quot;age&quot;`
}

func section3c() {
	// Créer une tranche de Person
	people := []Person{
		{Name: &quot;John&quot;, Age: 30},
		{Name: &quot;Jane&quot;, Age: 25},
		{Name: &quot;Alice&quot;, Age: 35},
	}

	// Séraliser la slice en JSON
	jsonData, err := json.MarshalIndent(people, &quot;&quot;, &quot;\t&quot;)
	if err != nil {
		fmt.Println(err)
		return
	}

	// Ouvrir le fichier en mode écriture
	file, err := os.OpenFile(&quot;people.json&quot;, os.O_CREATE|os.O_TRUNC|os.O_WRONLY, 0644)
	if err != nil {
		fmt.Println(err)
		return
	}
	defer file.Close()

	// Écrire les données JSON dans le fichier
	_, err = file.Write(jsonData)
	if err != nil {
		fmt.Println(err)
		return
	}
	file.Sync()

	// Lire les données du fichier
	data, err := os.ReadFile(&quot;people.json&quot;)
	if err != nil {
		fmt.Println(err)
		return
	}

	// Désérialiser les données JSON pour recréer une slice de Person
	var people2 []Person
	err = json.Unmarshal(data, &amp;people2)
	if err != nil {
		fmt.Println(err)
		return
	}

	// Afficher la slice de Person
	fmt.Println(people2) // Devrait afficher : [{John 30} {Jane 25} {Alice 35}]
}</code></pre></div><p id="-1486224620#-ts78qr_141">Dans la fonction <span class="inline-code" id="-1486224620#-ts78qr_142">section3c</span>:</p><ol class="list list-decimal" id="-1486224620#-ts78qr_143" type="1" start="1"><li class="list-item" id="-1486224620#-ts78qr_144"><p>On commence par cr&eacute;er une tranche de <span class="inline-code" id="-1486224620#-ts78qr_145">Person</span> avec trois personnes, que l'on s&eacute;rialise en JSON. </p><ul class="list" id="-1486224620#-ts78qr_146" start="1"><li class="list-item" id="-1486224620#-ts78qr_147"><p>Dans ce cas-ci, on utilise <span class="inline-code" id="-1486224620#-ts78qr_148">json.MarshalIndent</span> pour faciliter la lecture de la cha&icirc;ne produite par un humain.</p></li><li class="list-item" id="-1486224620#-ts78qr_149"><p>On donne la cha&icirc;ne vide come pr&eacute;fixe, et le caract&egrave;re de tabulation pour le caract&egrave;re d'indentation. On pourrait utiliser des espaces &agrave; la place, comme par exemple <span class="inline-code" id="-1486224620#-ts78qr_150">&quot;    &quot;</span>.</p></li></ul></li><li class="list-item" id="-1486224620#-ts78qr_151"><p>On ouvre ensuite un fichier appel&eacute; &quot;people.json&quot; en mode &eacute;criture. Si le fichier n'existe pas, il est cr&eacute;&eacute; (<span class="inline-code" id="-1486224620#-ts78qr_152">os.O_CREATE</span>). Si le fichier existe d&eacute;j&agrave;, son contenu est &eacute;cras&eacute; (<span class="inline-code" id="-1486224620#-ts78qr_153">os.O_WRONLY</span>).</p></li><li class="list-item" id="-1486224620#-ts78qr_154"><p>On y &eacute;crit ensuite les donn&eacute;es JSON.</p></li><li class="list-item" id="-1486224620#-ts78qr_155"><p>On lit ensuite les donn&eacute;es du fichier dans une tranche de <span class="inline-code" id="-1486224620#-ts78qr_156">byte</span>.</p></li><li class="list-item" id="-1486224620#-ts78qr_157"><p>Enfin, on d&eacute;s&eacute;rialise ces donn&eacute;es JSON pour cr&eacute;er une nouvelle tranche de <span class="inline-code" id="-1486224620#-ts78qr_158">Person</span> et on l'affiche.</p></li></ol><p id="-1486224620#-ts78qr_159">S'il y a une erreur &agrave; chaque &eacute;tape, celle-ci est affich&eacute;e et la fonction retourne imm&eacute;diatement.</p><p id="-1486224620#-ts78qr_160">Contenu du fichier <span class="inline-code" id="-1486224620#-ts78qr_161">people.json</span>:</p><div class="code-block detached" id="-1486224620#-ts78qr_162"><pre><code class="language-json">[
  {
    &quot;name&quot;: &quot;John&quot;,
    &quot;age&quot;: 30
  },
  {
    &quot;name&quot;: &quot;Jane&quot;,
    &quot;age&quot;: 25
  },
  {
    &quot;name&quot;: &quot;Alice&quot;,
    &quot;age&quot;: 35
  }
]</code></pre></div></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-1701683408">Chapitre 6 : Gestion de la m&eacute;moire</h1><p id="-1701683408#ool1ai_22">Le langage de programmation Go g&egrave;re la m&eacute;moire de mani&egrave;re automatique &agrave; travers un ramasse-miettes (<span class="emphasis" id="-1701683408#ool1ai_27">garbage collector</span> en anglais). Voici des d&eacute;tails importants &agrave; noter :</p><ul class="list" id="-1701683408#ool1ai_23" start="1"><li class="list-item" id="-1701683408#ool1ai_28"><p id="-1701683408#ool1ai_29"><span class="control" id="-1701683408#ool1ai_30">Allocation de m&eacute;moire</span>: En Go, lorsque vous d&eacute;clarez une variable, Go alloue automatiquement de la m&eacute;moire pour cette variable. L'espace m&eacute;moire est allou&eacute; sur le <span class="control" id="-1701683408#ool1ai_31">tas</span> si la variable est cr&eacute;&eacute;e &agrave; l'aide du mot-cl&eacute; <span class="inline-code" id="-1701683408#ool1ai_32">new</span> ou si elle est un composite (slice, map, channel) ou si vous utilisez seulement son adresse pour y acc&eacute;der, sinon, elle est allou&eacute;e sur la <span class="control" id="-1701683408#ool1ai_33">pile</span>. Vous n'avez pas besoin de sp&eacute;cifier la quantit&eacute; de m&eacute;moire n&eacute;cessaire.</p></li><li class="list-item" id="-1701683408#ool1ai_34"><p id="-1701683408#ool1ai_35"><span class="control" id="-1701683408#ool1ai_36">Garbage Collection</span>: Go utilise un ramasse-miettes pour lib&eacute;rer la m&eacute;moire. Cela signifie qu'au lieu de devoir lib&eacute;rer explicitement la m&eacute;moire que vous avez allou&eacute;e (comme vous le feriez en C ou en C++), le ramasse-miettes de Go identifiera les portions de m&eacute;moire qui ne sont plus r&eacute;f&eacute;renc&eacute;es par votre programme et lib&eacute;rera automatiquement cette m&eacute;moire. Cela contribue &agrave; pr&eacute;venir les fuites de m&eacute;moire.</p></li><li class="list-item" id="-1701683408#ool1ai_37"><p id="-1701683408#ool1ai_38"><span class="control" id="-1701683408#ool1ai_39">Concurrence</span>: Go est con&ccedil;u pour &ecirc;tre efficace avec le multiprocesseur et les syst&egrave;mes concurrents. Le <span class="emphasis" id="-1701683408#ool1ai_40">garbage collector</span> de Go est con&ccedil;u pour &ecirc;tre rapide et ne pas bloquer l'ex&eacute;cution de votre programme pendant qu'il lib&egrave;re la m&eacute;moire. Cela facilite la cr&eacute;ation de programmes Go tr&egrave;s concurrents.</p></li></ul><p id="-1701683408#ool1ai_24">Un des plus grands avantages de la gestion de la m&eacute;moire en Go est qu'elle diminue la complexit&eacute; de la programmation en &eacute;liminant la n&eacute;cessit&eacute; de g&eacute;rer manuellement la m&eacute;moire, pr&eacute;venant ainsi de fuites de m&eacute;moire et d'erreurs d'acc&egrave;s &agrave; la m&eacute;moire.</p><div class="code-block detached" id="-1701683408#ool1ai_25"><pre><code class="language-go">package main

import &quot;fmt&quot;

func main() {
    // La mémoire est allouée automatiquement lors de la déclaration d'une variable
    var num *int
    num = new(int) // Le mot-clé &quot;new&quot; alloue de la mémoire pour stocker un int sur le tas

    // Le ramasse-miettes libèrera automatiquement la mémoire allouée à &quot;num&quot;
    // lorsque &quot;num&quot; ne sera plus utilisé
    fmt.Println(*num) 
}</code></pre></div><p id="-1701683408#ool1ai_26">Le code ci-dessus est un exemple de comment la gestion de la m&eacute;moire est effectu&eacute;e en Go.</p></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="508122018">Section 1 : La pile d'ex&eacute;cution</h1><p id="508122018#-s0khtj_33">En Go, chaque goroutine se voit attribuer sa propre pile, (<span class="emphasis" id="508122018#-s0khtj_39">stack</span>) qui contient l'espace m&eacute;moire pour les variables locales et les arguments de fonction. Lorsqu'une fonction est appel&eacute;e, un <span class="emphasis" id="508122018#-s0khtj_40">frame</span> (aussi appel&eacute; <span class="emphasis" id="508122018#-s0khtj_41">cadre d'ex&eacute;cution</span>) est cr&eacute;&eacute; sur la pile de la goroutine. Ce frame contient les variables locales et les arguments de la fonction.</p><p id="508122018#-s0khtj_34">Voici une vue simplifi&eacute;e de ce &agrave; quoi ressemble la m&eacute;canique de la pile et des frames :</p><div class="container"><figure class="image-container"><img class="center image" id="508122018#-s0khtj_35" alt="Pile et cadres d'ex&amp;eacute;cution" title="Pile et cadres d'ex&amp;eacute;cution" src="/home/denis/projets/WritersideProjects/native1/Writerside/images/PileAppelsFonctions1.jpg" width="1600" height="798"><figcaption class="center-text">Pile et cadres d'ex&eacute;cution</figcaption></figure></div><p id="508122018#-s0khtj_36">Prenons par exemple deux fonctions A et B. En supposant que la fonction A appelle la fonction B, le frame pour A sera d'abord empil&eacute;, suivi par le frame pour B. Chaque frame contient les variables locales et les arguments de fonction pour la fonction correspondante. Le sommet de la pile correspond toujours &agrave; la fonction en cours d'ex&eacute;cution (B dans ce sc&eacute;nario).</p><p id="508122018#-s0khtj_37">Concernant l'allocation de m&eacute;moire, en Go, les variables locales et les arguments de fonction sont allou&eacute;s sur la pile. C'est l'une des fonctionnalit&eacute;s cl&eacute;s de Go qui permet des performances &eacute;lev&eacute;es, car l'allocation et la d&eacute;sallocation sur la pile sont g&eacute;n&eacute;ralement plus rapides que sur le tas. De plus, la m&eacute;moire allou&eacute;e sur la pile ne n&eacute;cessite pas de <span class="emphasis" id="508122018#-s0khtj_42">garbage collection</span>, ce qui peut &eacute;galement am&eacute;liorer les performances.</p><p id="508122018#-s0khtj_38">Il est cependant important de noter que ce n'est pas toujours le cas. Si une variable locale est r&eacute;f&eacute;renc&eacute;e en dehors de la fonction (c'est-&agrave;-dire, elle &quot;&eacute;chappe&quot; la fonction), alors elle sera allou&eacute;e sur le tas. C'est ce qu'on appelle <span class="emphasis" id="508122018#-s0khtj_43">l'analyse d'&eacute;chappement</span>, que le compilateur Go utilise pour d&eacute;terminer o&ugrave; allouer de la m&eacute;moire pour une variable.</p><section><h2 id="508122018#exemple-1" data-toc="exemple-1#ch06s01-Section-1-La-pile.md-exemple-1">Exemple 1</h2><p id="508122018#-s0khtj_45"><span class="control" id="508122018#-s0khtj_46">Question</span>: qu'est-ce que la fonction suivante calcule ?</p><div class="code-block detached" id="508122018#-s0khtj_47"><pre><code class="language-go">func f(i int) int {
	if i &lt;= 0 {
		return 0
	}
	return i + f(i-1)
}</code></pre></div><p id="508122018#-s0khtj_48">Si on appelle la fonction de cette fa&ccedil;on : <span class="inline-code" id="508122018#-s0khtj_49">f(4)</span>, nous aurons une pile d'ex&eacute;cution qui ressemblera &agrave; ceci &agrave; un certain moment, si la fonction est appel&eacute;e <span class="inline-code" id="508122018#-s0khtj_50">f</span> est appel&eacute;e &agrave; partir de la fonction <span class="inline-code" id="508122018#-s0khtj_51">main</span>:</p><div class="container"><figure class="image-container"><img class="center image" id="508122018#-s0khtj_44" alt="Pile et cadres d'ex&amp;eacute;cution" title="Pile et cadres d'ex&amp;eacute;cution" src="/home/denis/projets/WritersideProjects/native1/Writerside/images/PileAppelsFonctions1.jpg" width="1600" height="798"><figcaption class="center-text">Pile et cadres d'ex&eacute;cution</figcaption></figure></div><p id="508122018#-s0khtj_52">Chaque rectangle est un cadre d'ex&eacute;cution pour chaque appel de fonction. Dans ce cadre, il y aura, entre autres, la m&eacute;moire n&eacute;cessaire aux param&egrave;tres et aux variables locales (dans ce cas-ci, il y a seulement le param&egrave;tre <span class="inline-code" id="508122018#-s0khtj_53">i</span>). &Agrave; chaque appel de fonction, un cadre d'ex&eacute;cution est ajout&eacute; sur la pile d'ex&eacute;cution.</p></section><section><h2 id="508122018#exemple-2" data-toc="exemple-2#ch06s01-Section-1-La-pile.md-exemple-2">Exemple 2</h2><p id="508122018#-s0khtj_55">Si la fonction <span class="inline-code" id="508122018#-s0khtj_56">main</span> appelle la fonction <span class="inline-code" id="508122018#-s0khtj_57">section1</span>, qui elle-m&ecirc;me appelle la fonction <span class="inline-code" id="508122018#-s0khtj_58">ReadInt</span>, qui elle-m&ecirc;me appelle la fonction <span class="inline-code" id="508122018#-s0khtj_59">ReadLine</span>, nous aurons &agrave; un moment donn&eacute;, lors de l'ex&eacute;cution de <span class="inline-code" id="508122018#-s0khtj_60">ReadLine</span>, une pile d'appels de fonctions qui aura les cadres suivants :</p><div class="container"><figure class="image-container"><img class="center image" id="508122018#-s0khtj_54" alt="Pile et cadres d'ex&amp;eacute;cution" title="Pile et cadres d'ex&amp;eacute;cution" src="/home/denis/projets/WritersideProjects/native1/Writerside/images/PileAppelsFonctions2.jpg" width="1600" height="798"><figcaption class="center-text">Pile et cadres d'ex&eacute;cution</figcaption></figure></div><p id="508122018#-s0khtj_61">Chaque cadre contiendra de l'espace m&eacute;moire pour ses variables locales et ses param&egrave;tres.</p></section><section><h2 id="508122018#exercice" data-toc="exercice#ch06s01-Section-1-La-pile.md-exercice">Exercice</h2><p id="508122018#-s0khtj_62">Ex&eacute;cutez les fonctions des 2 exemples avec le d&eacute;bugueur, ligne par ligne, en &eacute;tudiant la composition de la pile d'ex&eacute;cution.</p></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-2005119944">Section 2 : Le tas</h1><p id="-2005119944#r8lqml_53">Le probl&egrave;me avec la m&eacute;moire allou&eacute;e sur la pile d'ex&eacute;cution est qu'&agrave; la fin de l'ex&eacute;cution de la fonction, la m&eacute;moire est lib&eacute;r&eacute;e avec le cadre d'ex&eacute;cution de la fonction. Donc une fonction peut partager de la m&eacute;moire avec les fonctions qu'elle appelle, en passant des pointeurs vers les variables &agrave; partager aux autres fonctions, et une fonction peut retourner une ou des valeurs &agrave; la fonction qui l'a appel&eacute;e, mais ces valeurs retourn&eacute;es seront copi&eacute;es lors du retour de fonction (donc, pas vraiment partag&eacute;es).</p><p id="-2005119944#r8lqml_54">Pour partager de la m&eacute;moire plus librement, sans avoir besoin de la copier &agrave; plusieurs reprises, et sans avoir besoin de se pr&eacute;occuper de son allocation sur la pile, on peut allouer de la m&eacute;moire sur le tas. La m&eacute;moire allou&eacute;e sur le tas est g&eacute;r&eacute;e diff&eacute;remment de la m&eacute;moire allou&eacute;e sur la pile, qui est directement li&eacute;e &agrave; la dur&eacute;e d'ex&eacute;cution d'une fonction.</p><p id="-2005119944#r8lqml_55">L'allocation de m&eacute;moire sur le tas (<span class="emphasis" id="-2005119944#r8lqml_56">heap</span>) est g&eacute;n&eacute;ralement g&eacute;r&eacute;e par le compilateur. Cela se fait principalement par l'interm&eacute;diaire du mot-cl&eacute; <span class="inline-code" id="-2005119944#r8lqml_57">new</span> et l'op&eacute;rateur <span class="inline-code" id="-2005119944#r8lqml_58">&amp;</span> lors de l'initialisation d'une variable.</p><section><h2 id="-2005119944#avec-le-mot-cl-new" data-toc="avec-le-mot-cl-new#ch06s02-Section-2-Le-tas.md-avec-le-mot-cl-new">Avec le mot-cl&eacute; new</h2><p id="-2005119944#r8lqml_60">En Go, <span class="inline-code" id="-2005119944#r8lqml_61">new(T)</span> alloue de la m&eacute;moire sur le tas pour une nouvelle item de type <span class="inline-code" id="-2005119944#r8lqml_62">T</span>, initialise &agrave; z&eacute;ro et renvoie un pointeur vers cet item. Voici un exemple :</p><div class="code-block detached" id="-2005119944#r8lqml_63"><pre><code class="language-go">i := new(int)
*i = 3
fmt.Println(*i)  // Affiche &quot;3&quot;</code></pre></div><p id="-2005119944#r8lqml_64">Dans cet exemple, <span class="inline-code" id="-2005119944#r8lqml_65">new(int)</span> alloue de la m&eacute;moire pour un nouvel <span class="inline-code" id="-2005119944#r8lqml_66">int</span> sur le tas, initialis&eacute; &agrave; z&eacute;ro, et renvoie un pointeur vers cet <span class="inline-code" id="-2005119944#r8lqml_67">int</span>. Ensuite, nous utilisons le <span class="inline-code" id="-2005119944#r8lqml_68">*</span> pour d&eacute;r&eacute;f&eacute;rencer le pointeur et assigner la valeur <span class="inline-code" id="-2005119944#r8lqml_69">3</span> &agrave; l' <span class="inline-code" id="-2005119944#r8lqml_70">int</span> sur le tas.</p></section><section><h2 id="-2005119944#avec-l-op-rateur-lors-de-l-initialisation-de-variables" data-toc="avec-l-op-rateur-lors-de-l-initialisation-de-variables#ch06s02-Section-2-Le-tas.md-avec-l-op-rateur-lors-de-l-initialisation-de-variables">Avec l'op&eacute;rateur &amp; lors de l'initialisation de variables</h2><p id="-2005119944#r8lqml_72">Cet op&eacute;rateur est g&eacute;n&eacute;ralement utilis&eacute; pour obtenir l'adresse d'une variable existante. Cependant, lorsqu'il est utilis&eacute; pendant l'initialisation d'une variable (par exemple, lors de l'initialisation d'une <span class="inline-code" id="-2005119944#r8lqml_73">struct</span>), cela provoquera aussi l'allocation de m&eacute;moire sur le tas.</p><div class="code-block detached" id="-2005119944#r8lqml_74"><pre><code class="language-go">type Person struct {
   Name string
   Age  int
}
   
p := &amp;Person{&quot;Alice&quot;, 30}
fmt.Println(p)  // Affiche l'adresse mémoire de la struct Person sur le tas</code></pre></div><p id="-2005119944#r8lqml_75">Dans cet exemple, <span class="inline-code" id="-2005119944#r8lqml_76">&amp;Person{&quot;Alice&quot;, 30}</span> cr&eacute;e une nouvelle struct <span class="inline-code" id="-2005119944#r8lqml_77">Person</span> avec les valeurs fournies, alloue de la m&eacute;moire pour celle-ci sur le tas, et renvoie un pointeur vers cette struct.</p><p id="-2005119944#r8lqml_78">Il est &agrave; noter que les d&eacute;tails de l'allocation de m&eacute;moire peuvent &ecirc;tre assez compliqu&eacute;s en pratique, car le compilateur Go utilise une technique appel&eacute;e &quot;analyse d'&eacute;chappement&quot; pour d&eacute;cider o&ugrave; une variable devrait &ecirc;tre allou&eacute;e. Il existe des cas o&ugrave; une variable pourrait &ecirc;tre allou&eacute;e sur la pile m&ecirc;me si vous avez utilis&eacute; <span class="inline-code" id="-2005119944#r8lqml_79">new</span> ou <span class="inline-code" id="-2005119944#r8lqml_80">&amp;</span> lors de l'initialisation.</p></section><section><h2 id="-2005119944#analyse-d-chappement" data-toc="analyse-d-chappement#ch06s02-Section-2-Le-tas.md-analyse-d-chappement">Analyse d'&eacute;chappement</h2><p id="-2005119944#r8lqml_81"><span class="control" id="-2005119944#r8lqml_82">L'analyse d'&eacute;chappement</span> (ou <span class="emphasis" id="-2005119944#r8lqml_83">Escape Analysis</span> en anglais) est un processus effectu&eacute; par le compilateur pour d&eacute;terminer si une certaine variable peut &ecirc;tre allou&eacute;e sur la pile au lieu du tas.</p><p id="-2005119944#r8lqml_84">La logique principale derri&egrave;re l'analyse d'&eacute;chappement est la suivante : si la dur&eacute;e de vie d'une variable est limit&eacute;e &agrave; l'ex&eacute;cution d'une seule fonction, alors le compilateur peut d&eacute;cider d'allouer cette variable sur la pile plut&ocirc;t que sur le tas. Cela peut offrir un avantage de performance significatif, car l'acc&egrave;s &agrave; la pile est g&eacute;n&eacute;ralement plus rapide que l'acc&egrave;s &agrave; la m&eacute;moire du tas, et les objets de la pile ne n&eacute;cessitent pas de garbage collection.</p><p id="-2005119944#r8lqml_85">N&eacute;anmoins, si une variable est accessible (ou &laquo; s'&eacute;chappe &raquo;) en dehors de la fonction o&ugrave; elle a &eacute;t&eacute; d&eacute;finie (par exemple, si elle est renvoy&eacute;e par une fonction ou captur&eacute;e &agrave; l'int&eacute;rieur d'une fermeture), alors elle doit &ecirc;tre allou&eacute;e sur le tas.</p><p id="-2005119944#r8lqml_86">Par exemple, dans le code Go suivant:</p><div class="code-block detached" id="-2005119944#r8lqml_87"><pre><code class="language-go">func foo() *Bar {
    b := Bar{}
    return &amp;b
}</code></pre></div><p id="-2005119944#r8lqml_88">La variable <span class="inline-code" id="-2005119944#r8lqml_89">b</span> est allou&eacute;e sur le tas parce qu'elle est renvoy&eacute;e par la fonction <span class="inline-code" id="-2005119944#r8lqml_90">foo</span> et pourrait donc &ecirc;tre utilis&eacute;e ailleurs, en dehors de la port&eacute;e de la fonction <span class="inline-code" id="-2005119944#r8lqml_91">foo</span>. Si <span class="inline-code" id="-2005119944#r8lqml_92">b</span> &eacute;tait allou&eacute;e sur la pile, elle serait d&eacute;truite d&egrave;s que <span class="inline-code" id="-2005119944#r8lqml_93">foo</span> aurait termin&eacute; l'ex&eacute;cution, ce qui ne serait pas correct si une autre partie du code a besoin d'y acc&eacute;der plus tard.</p><p id="-2005119944#r8lqml_94">Le compilateur Go ex&eacute;cute l'analyse d'&eacute;chappement pour d&eacute;terminer si les variables doivent &ecirc;tre allou&eacute;es sur le tas ou sur la pile.</p></section><section><h2 id="-2005119944#adresse-sur-la-pile-vs-sur-le-tas" data-toc="adresse-sur-la-pile-vs-sur-le-tas#ch06s02-Section-2-Le-tas.md-adresse-sur-la-pile-vs-sur-le-tas">Adresse sur la pile vs. sur le tas</h2><p id="-2005119944#r8lqml_95">Voici un exemple de code qui montre comment allouer une struct <span class="inline-code" id="-2005119944#r8lqml_96">Person</span> sur le tas et une sur la pile, puis imprime leur adresse pour comparaison :</p><div class="code-block detached" id="-2005119944#r8lqml_97"><pre><code class="language-go">package main

import (
	&quot;fmt&quot;
)

type Person struct {
	Name string
	Age  int
}

func main() {
	// Allocation sur le tas
	pHeap := &amp;Person{&quot;Alice&quot;, 30}
	fmt.Printf(&quot;Address of person on heap: %p\n&quot;, pHeap)

	// Allocation sur la pile
	pStack := Person{&quot;Bob&quot;, 35}
	fmt.Printf(&quot;Address of person on stack: %p\n&quot;, &amp;pStack)
}</code></pre></div><p id="-2005119944#r8lqml_98">Dans ce code, <span class="inline-code" id="-2005119944#r8lqml_99">pHeap</span> est un pointeur vers une instance de <span class="inline-code" id="-2005119944#r8lqml_100">Person</span> qui est allou&eacute;e sur le tas, et <span class="inline-code" id="-2005119944#r8lqml_101">pStack</span> est une instance de <span class="inline-code" id="-2005119944#r8lqml_102">Person</span> qui est allou&eacute;e sur la pile. Les adresses de ces deux variables sont ensuite imprim&eacute;es pour comparaison. Vous remarquerez probablement que l'adresse de la variable sur le tas est significativement plus grande que celle de la variable sur la pile. Les adresses pr&eacute;cises varieront &agrave; chaque ex&eacute;cution du programme.</p></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-14094199">Section 3 : Le vidangeur</h1><p id="-14094199#i8b355m_22">Le <span class="emphasis" id="-14094199#i8b355m_28">vidangeur</span> (<span class="emphasis" id="-14094199#i8b355m_29">ramasse-miettes</span>, <span class="emphasis" id="-14094199#i8b355m_30">garbage collector</span>) (GC) de Go a pour objectif de lib&eacute;rer automatiquement l'espace m&eacute;moire qui n'est plus utilis&eacute; par un programme, c'est-&agrave;-dire les objets qui ne sont plus accessibles par le code.</p><p id="-14094199#i8b355m_23">Le GC de Go est un GC &agrave; balayage concurrent, ce qui signifie qu'il peut fonctionner en m&ecirc;me temps que votre code sans avoir besoin de l'arr&ecirc;ter compl&egrave;tement (ce qu'on appelle un &quot;stop-the-world&quot; GC).</p><p id="-14094199#i8b355m_24">Le processus de GC se d&eacute;roule en trois phases principales :</p><ol class="list list-decimal" id="-14094199#i8b355m_25" type="1" start="1"><li class="list-item" id="-14094199#i8b355m_31"><p id="-14094199#i8b355m_32"><span class="control" id="-14094199#i8b355m_33">Phase de marquage (Mark)</span>: Le GC commence &agrave; la racine de l'arbre d'objets (par exemple, les variables globales, les piles de chaque goroutine, etc.) et suit chaque pointeur, marquant chaque objet atteint comme &eacute;tant en cours d'utilisation. Cette phase est r&eacute;alis&eacute;e de mani&egrave;re concurrente avec l'ex&eacute;cution du programme, avec une courte pause au d&eacute;but et &agrave; la fin de la phase.</p></li><li class="list-item" id="-14094199#i8b355m_34"><p id="-14094199#i8b355m_35"><span class="control" id="-14094199#i8b355m_36">Phase d'assistance (Assist)</span>: Pendant cette phase, le code de l'application aide le GC en participant activement &agrave; la phase de marquage. L'application consacre une partie de son temps CPU &agrave; la collecte des d&eacute;chets, proportionnellement &agrave; l'allocation de m&eacute;moire qu'elle effectue.</p></li><li class="list-item" id="-14094199#i8b355m_37"><p id="-14094199#i8b355m_38"><span class="control" id="-14094199#i8b355m_39">Phase de balayage (Sweep)</span>: Le GC parcourt tous les objets en m&eacute;moire et lib&egrave;re ceux qui n'ont pas &eacute;t&eacute; marqu&eacute;s comme &eacute;tant en cours d'utilisation. Cela lib&egrave;re de l'espace pour de nouvelles allocations. Cette phase est &eacute;galement effectu&eacute;e en arri&egrave;re-plan, de mani&egrave;re concurrente avec l'application.</p></li></ol><p id="-14094199#i8b355m_26">Le GC de Go a &eacute;t&eacute; con&ccedil;u pour minimiser l'impact sur les performances de l'application. Il est &eacute;galement possible de contr&ocirc;ler le GC de mani&egrave;re plus fine par le biais de r&eacute;glages et de la fonction <span class="inline-code" id="-14094199#i8b355m_40">runtime.GC()</span> qui force une collecte de d&eacute;chets.</p><p id="-14094199#i8b355m_27">Cependant, les d&eacute;tails exacts du fonctionnement du GC en Go peuvent varier entre les versions du langage et sont sujettes &agrave; des optimisations continuelles par les d&eacute;veloppeurs de Go.</p></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-1126436045">Section 4 : Les tranches</h1><p id="-1126436045#-8cwzmg_38">Les tranches (<span class="emphasis" id="-1126436045#-8cwzmg_46">slices</span>) sont une abstraction au-dessus des tableaux. Elles se composent de trois composants :</p><ol class="list list-decimal" id="-1126436045#-8cwzmg_39" type="1" start="1"><li class="list-item" id="-1126436045#-8cwzmg_47"><p>un pointeur vers un tableau,</p></li><li class="list-item" id="-1126436045#-8cwzmg_48"><p>une longueur et</p></li><li class="list-item" id="-1126436045#-8cwzmg_49"><p>une capacit&eacute;.</p></li></ol><p id="-1126436045#-8cwzmg_40">Lorsqu'une tranche est cr&eacute;&eacute;e, un tableau sous-jacent est &eacute;galement cr&eacute;&eacute;. La tranche pointe vers ce tableau, et la taille de la tranche ne peut jamais d&eacute;passer la taille du tableau sous-jacent.</p><p id="-1126436045#-8cwzmg_41">Voici un exemple de cr&eacute;ation de tranche :</p><div class="code-block detached" id="-1126436045#-8cwzmg_42"><pre><code class="language-go">s := make([]int, 5, 10) // Crée une tranche de longueur 5 et de capacité 10</code></pre></div><p id="-1126436045#-8cwzmg_43">Dans cet exemple, un tableau de 10 &eacute;l&eacute;ments est cr&eacute;&eacute; dans le tas, et une tranche de longueur 5 est cr&eacute;&eacute;e qui pointe vers les cinq premiers &eacute;l&eacute;ments de ce tableau. Les cinq &eacute;l&eacute;ments restants sont r&eacute;serv&eacute;s pour permettre &agrave; la tranche de s'&eacute;tendre.</p><p id="-1126436045#-8cwzmg_44">Il est important de noter que les tranches, &eacute;tant une structure de donn&eacute;es dynamique, sont <span class="control" id="-1126436045#-8cwzmg_50">presque toujours allou&eacute;es sur le tas</span>, du moins pour le tableau sous-jacent, m&ecirc;me si leur taille est connue au moment de la compilation.</p><p id="-1126436045#-8cwzmg_45">Mais comme toujours en Go, les d&eacute;tails pr&eacute;cis de l'allocation de m&eacute;moire peuvent d&eacute;pendre de nombreux facteurs et peuvent &ecirc;tre g&eacute;r&eacute;s par le <span class="emphasis" id="-1126436045#-8cwzmg_51">runtime</span> Go. Par exemple, pour les tranches tr&egrave;s petites, Go pourrait d&eacute;cider de les allouer sur la pile au lieu du tas pour des raisons de performances. Cependant, ce sont des d&eacute;tails d'impl&eacute;mentation qui ne sont g&eacute;n&eacute;ralement pas expos&eacute;s &agrave; l'utilisateur.</p><section><h2 id="-1126436045#comment-les-tranches-g-rent-la-m-moire" data-toc="comment-les-tranches-g-rent-la-m-moire#ch06s04-Section-4-Les-tranches.md-comment-les-tranches-g-rent-la-m-moire">Comment les tranches g&egrave;rent la m&eacute;moire</h2><p id="-1126436045#-8cwzmg_52">Lorsque vous cr&eacute;ez une tranche, Go alloue dynamiquement un tableau sous-jacent et renvoie une tranche qui fait r&eacute;f&eacute;rence &agrave; une partie de ce tableau. Si vous augmentez la taille de la tranche au-del&agrave; de la capacit&eacute; de ce tableau, Go alloue un nouveau tableau, copie les &eacute;l&eacute;ments existants dans le nouveau tableau, puis met &agrave; jour la tranche pour qu'elle pointe vers le nouveau tableau. Ce processus est appel&eacute; <span class="control" id="-1126436045#-8cwzmg_53">redimensionnement dynamique</span>.</p><p id="-1126436045#-8cwzmg_54">Par exemple, lorsque vous utilisez <span class="inline-code" id="-1126436045#-8cwzmg_55">append</span> pour ajouter un &eacute;l&eacute;ment &agrave; une tranche, si la tranche a de la capacit&eacute; disponible dans son tableau sous-jacent, l'&eacute;l&eacute;ment sera ajout&eacute; dans cet espace. Si la tranche est d&eacute;j&agrave; au maximum de sa capacit&eacute;, un nouveau tableau sera cr&eacute;&eacute; avec une capacit&eacute; doubl&eacute;e, tous les &eacute;l&eacute;ments existants seront copi&eacute;s, et le nouvel &eacute;l&eacute;ment sera ajout&eacute; &agrave; la suite.</p><p id="-1126436045#-8cwzmg_56">Il convient de noter que lorsqu'une tranche est redimensionn&eacute;e, l'ancien tableau sous-jacent reste en m&eacute;moire jusqu'&agrave; ce qu'il soit &eacute;limin&eacute; par le <span class="emphasis" id="-1126436045#-8cwzmg_57">garbage collector</span> de Go. Cela peut entra&icirc;ner une utilisation non optimale de la m&eacute;moire si le tableau sous-jacent d'une tranche est grand et que seul un petit sous-ensemble de celui-ci est encore n&eacute;cessaire. Pour &eacute;viter une telle situation, vous pourriez utiliser la fonction <span class="inline-code" id="-1126436045#-8cwzmg_58">copy</span> et <span class="inline-code" id="-1126436045#-8cwzmg_59">runtime.GC</span> de Go pour copier la tranche dans un petit tableau sous-jacent et forcer le <span class="emphasis" id="-1126436045#-8cwzmg_60">garbage collector</span> &agrave; &eacute;liminer l'ancien grand tableau.</p><p id="-1126436045#-8cwzmg_61">En r&eacute;sum&eacute;, les tranches en Go fournissent une abstraction flexible et facile &agrave; utiliser pour travailler avec des s&eacute;quences de donn&eacute;es, mais il est important de comprendre comment elles g&egrave;rent la m&eacute;moire sous-jacente pour &eacute;viter les &eacute;cueils potentiels.</p><section><h3 id="-1126436045#tranches-de-structures-vs-tranches-de-pointeurs-vers-des-structures" data-toc="tranches-de-structures-vs-tranches-de-pointeurs-vers-des-structures#ch06s04-Section-4-Les-tranches.md-tranches-de-structures-vs-tranches-de-pointeurs-vers-des-structures">Tranches de structures vs. tranches de pointeurs vers des structures</h3><p id="-1126436045#-8cwzmg_62">Travailler avec des tranches de structures ou des tranches de pointeurs vers des structures peut avoir un impact significatif sur la fa&ccedil;on dont la m&eacute;moire est utilis&eacute;e et g&eacute;r&eacute;e.</p><p id="-1126436045#-8cwzmg_63">Consid&eacute;rons un exemple o&ugrave; <span class="inline-code" id="-1126436045#-8cwzmg_64">Person</span> est une structure avec quelques champs. Si vous cr&eacute;ez une tranche de <span class="inline-code" id="-1126436045#-8cwzmg_65">Person</span>, chaque <span class="inline-code" id="-1126436045#-8cwzmg_66">Person</span> dans la tranche est stock&eacute;e en tant que valeur. Cela signifie que si vous passez des &eacute;l&eacute;ments de la tranche &agrave; une fonction ou si vous les copiez dans une nouvelle tranche, vous cr&eacute;ez une copie de ces structures. Cette copie repr&eacute;sente un co&ucirc;t en termes de performances et d'utilisation de la m&eacute;moire, surtout si les structures sont grandes.</p><div class="code-block detached" id="-1126436045#-8cwzmg_67"><pre><code class="language-go">people := []Person{
    {Name: &quot;John&quot;, Age: 30},
    {Name: &quot;Jane&quot;, Age: 25},
}</code></pre></div><p id="-1126436045#-8cwzmg_68">D'autre part, si vous cr&eacute;ez une tranche de pointeurs vers des structures <span class="inline-code" id="-1126436045#-8cwzmg_69">Person</span>, vous ne stockez que les adresses m&eacute;moire des structures dans la tranche. Lorsque vous passez ces &eacute;l&eacute;ments &agrave; une fonction ou les copiez dans une nouvelle tranche, vous copiez seulement les pointeurs, pas les structures elles-m&ecirc;mes. Cela peut &ecirc;tre plus efficace en termes d'utilisation de la m&eacute;moire et de performance, surtout pour les grandes structures. De plus, puisque vous travaillez avec des pointeurs, toute modification apport&eacute;e &agrave; la structure &agrave; travers le pointeur sera refl&eacute;t&eacute;e dans toute votre application, car tous les pointeurs se r&eacute;f&egrave;rent au m&ecirc;me emplacement m&eacute;moire.</p><div class="code-block detached" id="-1126436045#-8cwzmg_70"><pre><code class="language-go">people := []*Person{
    &amp;Person{Name: &quot;John&quot;, Age: 30},
    &amp;Person{Name: &quot;Jane&quot;, Age: 25},
}</code></pre></div><p id="-1126436045#-8cwzmg_71">Cependant, il convient de noter que travailler avec des pointeurs peut compliquer la gestion de la m&eacute;moire. Par exemple, si une structure est supprim&eacute;e &agrave; un endroit, mais que des pointeurs vers cette structure existent toujours ailleurs dans le programme, cela peut entra&icirc;ner des bugs subtils et difficiles &agrave; rep&eacute;rer.</p><p id="-1126436045#-8cwzmg_72">Il n'y a pas de r&egrave;gle stricte pour d&eacute;terminer quand utiliser des tranches de structures ou des tranches de pointeurs &agrave; des structures. Cela d&eacute;pend principalement de vos besoins sp&eacute;cifiques. Si la taille de votre structure est petite et que les effets de la copie de structures ne sont pas significatifs, les tranches de structures peuvent suffire. Si les structures sont grandes ou si vous avez besoin de modifications en place sur la structure &agrave; travers le programme, les tranches de pointeurs vers des structures peuvent &ecirc;tre pr&eacute;f&eacute;rables.</p></section></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-1910369746">Op&eacute;rations sur les tranches</h1><p id="-1910369746#-a1k07q_112">Certaines op&eacute;rations sur les tranches peuvent &ecirc;tre faites <span class="control" id="-1910369746#-a1k07q_113">sur place</span> ou <span class="control" id="-1910369746#-a1k07q_114">en place</span> (<span class="emphasis" id="-1910369746#-a1k07q_115">in-place</span>), ce qui va modifier le contenu des tranches, ou sinon elles peuvent cr&eacute;er une nouvelle tranche sans toucher &agrave; l'originale.</p><section><h2 id="-1910369746#trier-une-tranche" data-toc="trier-une-tranche#ch06s04-Operations-sur-les-tranches.md-trier-une-tranche">Trier une tranche</h2><p id="-1910369746#-a1k07q_116">Le code suivant d&eacute;finit une fonction appel&eacute;e <span class="inline-code" id="-1910369746#-a1k07q_117">section4a()</span>. Cette fonction effectue le tri de tranches de diff&eacute;rents types (entier, et struct) de diff&eacute;rentes fa&ccedil;ons. Ces op&eacute;rations sont faites <span class="emphasis" id="-1910369746#-a1k07q_118">sur place</span>, donc les tranches sont modifi&eacute;es.</p><div class="code-block detached" id="-1910369746#-a1k07q_119"><pre><code class="language-go">func section4a() {
	// trier une tranche de nombres entiers
	numbers1 := []int{2, 5, 1, 7, 3, 8, 4, 7, 6, 4}
	fmt.Println(numbers1)
	fmt.Println(&quot;Trié ?&quot;, sort.IntsAreSorted(numbers1))

	sort.Ints(numbers1)
	fmt.Println(numbers1)
	fmt.Println(&quot;Trié ?&quot;, sort.IntsAreSorted(numbers1))

	numbers1 = []int{2, 5, 1, 7, 3, 8, 4, 7, 6, 4}
	fmt.Println(numbers1)
	fmt.Println(&quot;Trié ?&quot;, sort.IntsAreSorted(numbers1))
	sort.Slice(numbers1, func(i, j int) bool {
		return numbers1[i] &lt; numbers1[j]
	})
	fmt.Println(numbers1)
	fmt.Println(&quot;Trié ?&quot;, sort.IntsAreSorted(numbers1))

	numbers1 = []int{2, 5, 1, 7, 3, 8, 4, 7, 6, 4}
	fmt.Println(numbers1)
	fmt.Println(&quot;Trié ?&quot;, sort.IntsAreSorted(numbers1))
	// trier en ordre décroissant
	sort.Slice(numbers1, func(i, j int) bool {
		return numbers1[i] &gt; numbers1[j]
	})
	fmt.Println(numbers1)
	fmt.Println(&quot;Trié ?&quot;, sort.IntsAreSorted(numbers1))

	// trier une tranche de struct Person
	people := []Person{
		{Name: &quot;John&quot;, Age: 30},
		{Name: &quot;Jane&quot;, Age: 25},
		{Name: &quot;Alice&quot;, Age: 35},
	}
	fmt.Println(people)
	// trier par âge croissant
	sort.Slice(people, func(i, j int) bool {
		return people[i].Age &lt; people[j].Age
	})
	fmt.Println(people)
	// trier par âge décroissant
	sort.Slice(people, func(i, j int) bool {
		return people[i].Age &gt; people[j].Age
	})
	fmt.Println(people)

	// trier par nom croissant
	sort.Slice(people, personNameCompare(people))
	fmt.Println(people)
	// trier par nom décroissant
	sort.Slice(people, personNameCompareReverse(people))
	fmt.Println(people)

}

func personNameCompareReverse(people []Person) func(i int, j int) bool {
	return func(i, j int) bool {
		return people[i].Name &gt; people[j].Name
	}
}

func personNameCompare(people []Person) func(i int, j int) bool {
	return func(i, j int) bool {
		return people[i].Name &lt; people[j].Name
	}
}</code></pre></div><ol class="list list-decimal" id="-1910369746#-a1k07q_120" type="1" start="1"><li class="list-item" id="-1910369746#-a1k07q_121"><p id="-1910369746#-a1k07q_122"><span class="control" id="-1910369746#-a1k07q_123">Tri d'une tranche d'entiers</span>: D'abord, elle cr&eacute;&eacute; une tranche d'entiers appel&eacute;e <span class="inline-code" id="-1910369746#-a1k07q_124">numbers1</span>, affiche la tranche, v&eacute;rifie si elle est tri&eacute;e (en utilisant <span class="inline-code" id="-1910369746#-a1k07q_125">sort.IntsAreSorted()</span>) et affiche le r&eacute;sultat. Elle trie ensuite la tranche en utilisant <span class="inline-code" id="-1910369746#-a1k07q_126">sort.Ints()</span>, affiche de nouveau la tranche et v&eacute;rifie si elle est tri&eacute;e. Ce processus est r&eacute;p&eacute;t&eacute; deux fois, la seconde fois en triant la tranche dans l'ordre d&eacute;croissant avec une fonction lambda et <span class="inline-code" id="-1910369746#-a1k07q_127">sort.Slice()</span>.</p></li><li class="list-item" id="-1910369746#-a1k07q_128"><p id="-1910369746#-a1k07q_129"><span class="control" id="-1910369746#-a1k07q_130">Tri d'une tranche de structs</span>: Ensuite, une tranche de structs <span class="inline-code" id="-1910369746#-a1k07q_131">Person</span> est cr&eacute;&eacute;e. Chaque <span class="inline-code" id="-1910369746#-a1k07q_132">Person</span> a un nom et un &acirc;ge. Elle affiche la tranche de personnes, la trie par &acirc;ge en ordre croissant, l'affiche &agrave; nouveau, la trie par &acirc;ge en ordre d&eacute;croissant, et l'affiche une fois de plus. Elle trie ensuite la tranche de personnes par nom en ordre croissant, l'affiche, la trie par nom en ordre d&eacute;croissant, et l'affiche une derni&egrave;re fois.</p></li></ol><p id="-1910369746#-a1k07q_133">Les deux fonctions <span class="inline-code" id="-1910369746#-a1k07q_134">personNameCompare()</span> et <span class="inline-code" id="-1910369746#-a1k07q_135">personNameCompareReverse()</span> sont utilis&eacute;es pour g&eacute;n&eacute;rer des fonctions de comparaison pour le tri de slices. La premi&egrave;re fonction retourne une fonction qui compare deux personnes en fonction de leur nom dans l'ordre croissant, tandis que la seconde fonction retourne une fonction de comparaison qui compare deux personnes en fonction de leur nom dans l'ordre d&eacute;croissant.</p><section><h3 id="-1910369746#fonctions-citoyennes-de-premi-re-classe" data-toc="fonctions-citoyennes-de-premi-re-classe#ch06s04-Operations-sur-les-tranches.md-fonctions-citoyennes-de-premi-re-classe">Fonctions : citoyennes de premi&egrave;re classe</h3><p id="-1910369746#-a1k07q_136">En programmation, lorsque nous parlons de <span class="control" id="-1910369746#-a1k07q_137">citoyennet&eacute; de premi&egrave;re classe</span>, nous faisons r&eacute;f&eacute;rence &agrave; des entit&eacute;s qui peuvent &ecirc;tre manipul&eacute;es de toutes les fa&ccedil;ons dont les autres entit&eacute;s peuvent l'&ecirc;tre. Si nous disons que les fonctions sont des <span class="emphasis" id="-1910369746#-a1k07q_138">citoyennes de premi&egrave;re classe</span> dans un langage de programmation comme Go, cela signifie que les fonctions peuvent &ecirc;tre utilis&eacute;es comme n'importe quel autre type de donn&eacute;es.</p><p id="-1910369746#-a1k07q_139">En Go, les fonctions sont des citoyens de premi&egrave;re classe, car elles peuvent &ecirc;tre utilis&eacute;es de mani&egrave;re interchangeable avec les autres types de donn&eacute;es. Elles peuvent &ecirc;tre affect&eacute;es &agrave; des variables, pass&eacute;es en param&egrave;tre &agrave; d'autres fonctions, retourn&eacute;es par d'autres fonctions, d&eacute;clar&eacute;es dans une fonction et m&ecirc;me faire partie de structures de donn&eacute;es comme les tranches ou les maps.</p><p id="-1910369746#-a1k07q_140">Dans le code pr&eacute;c&eacute;dent, nous voyons des exemples de cela. Par exemple, les deux fonctions <span class="inline-code" id="-1910369746#-a1k07q_141">personNameCompare()</span> et <span class="inline-code" id="-1910369746#-a1k07q_142">personNameCompareReverse()</span> retournent des fonctions. Ces fonctions retourn&eacute;es sont ensuite utilis&eacute;es comme arguments pour la fonction <span class="inline-code" id="-1910369746#-a1k07q_143">sort.Slice()</span>. C'est un exemple de traitement des fonctions comme des citoyens de premi&egrave;re classe : dans ce cas, des fonctions sont retourn&eacute;es par d'autres fonctions et pass&eacute;es &agrave; d'autres fonctions. C'est une caract&eacute;ristique puissante de Go que l'on retrouve dans d'autres langages fonctionnels.</p><section><h4 id="-1910369746#fonctions-lambda" data-toc="fonctions-lambda#ch06s04-Operations-sur-les-tranches.md-fonctions-lambda">Fonctions lambda</h4><p id="-1910369746#-a1k07q_144">Les fonctions lambda (aussi connues sous le nom de fonctions anonymes) en Go sont des fonctions qui ne sont d&eacute;finies avec aucun nom et peuvent &ecirc;tre utilis&eacute;es pour cr&eacute;er des d&eacute;finitions de fonctions en ligne. Il s'agit de d&eacute;finir une fonction juste o&ugrave; vous en avez besoin. En d'autres termes, une fonction lambda est une fonction d&eacute;clar&eacute;e sans nom associ&eacute;.</p><p id="-1910369746#-a1k07q_145">Les fonctions lambda sont tr&egrave;s utiles pour r&eacute;aliser des op&eacute;rations simples et cela &eacute;vite &eacute;galement d'encombrer le code avec de multiples petites fonctions. Elles sont souvent utilis&eacute;es comme arguments pour des fonctions qui prennent des fonctions en param&egrave;tre.</p><p id="-1910369746#-a1k07q_146">Reprenons le code que nous avons discut&eacute; pr&eacute;c&eacute;demment pour illustrer cela. Par exemple, lorsque nous trions la tranche d'entiers <span class="inline-code" id="-1910369746#-a1k07q_147">numbers1</span> ou la tranche <span class="inline-code" id="-1910369746#-a1k07q_148">people</span> de structures <span class="inline-code" id="-1910369746#-a1k07q_149">Person</span>, nous utilisons des fonctions lambda. Voici l'extrait de code correspondant :</p><div class="code-block detached" id="-1910369746#-a1k07q_150"><pre><code class="language-go">sort.Slice(numbers1, func(i, j int) bool {
	return numbers1[i] &lt; numbers1[j]
})

sort.Slice(people, func(i, j int) bool {
	return people[i].Age &lt; people[j].Age
})</code></pre></div><p id="-1910369746#-a1k07q_151">Dans chacun de ces appels &agrave; <span class="inline-code" id="-1910369746#-a1k07q_152">sort.Slice()</span>, le deuxi&egrave;me argument est une fonction lambda qui est utilis&eacute;e pour d&eacute;terminer l'ordre de tri. Ces fonctions sont d&eacute;finies sur place, et elles n'ont pas de nom. Ce sont des fonctions lambda.</p></section></section></section><section><h2 id="-1910369746#filtrer-une-tranche" data-toc="filtrer-une-tranche#ch06s04-Operations-sur-les-tranches.md-filtrer-une-tranche">Filtrer une tranche</h2><p id="-1910369746#-a1k07q_153">Le code suivant fourni illustre plusieurs op&eacute;rations de filtrage sur une tranche de structures <span class="inline-code" id="-1910369746#-a1k07q_154">Person</span>. Le but est de d&eacute;montrer diff&eacute;rentes mani&egrave;res de filtrer les donn&eacute;es dans un tableau de <span class="inline-code" id="-1910369746#-a1k07q_155">Person</span> selon diff&eacute;rentes conditions, notamment l'&acirc;ge et les caract&eacute;ristiques du nom.</p><div class="code-block detached" id="-1910369746#-a1k07q_156"><pre><code class="language-go">func section4b() {
	people := []Person{
		{Name: &quot;John&quot;, Age: 30},
		{Name: &quot;Jane&quot;, Age: 25},
		{Name: &quot;Alice&quot;, Age: 35},
	}
	fmt.Println(people)

	// filtrer une tranche de struct Person
	// filtre : plus de 30 ans
	filteredPeople := make([]Person, 0)
	for _, person := range people {
		if person.Age &gt; 30 {
			filteredPeople = append(filteredPeople, person)
		}
	}
	fmt.Println(filteredPeople)

	// filtrer une tranche de struct Person
	// filtre : nom commençant par &quot;J&quot;
	filteredPeople = make([]Person, 0)
	for _, person := range people {
		if person.Name[0] == 'J' {
			filteredPeople = append(filteredPeople, person)
		}
	}
	fmt.Println(filteredPeople)

	// filtrer une tranche de struct Person
	// filtre : nom contenant plus de 5 caractères
	filteredPeople = make([]Person, 0)
	for _, person := range people {
		if len(person.Name) &gt; 5 {
			filteredPeople = append(filteredPeople, person)
		}
	}
	fmt.Println(filteredPeople)
}</code></pre></div><p id="-1910369746#-a1k07q_157">Tout d'abord, une structure <span class="inline-code" id="-1910369746#-a1k07q_158">Person</span> est d&eacute;clar&eacute;e avant la fonction principale :</p><div class="code-block detached" id="-1910369746#-a1k07q_159"><pre><code class="language-go">type Person struct {
	Name string
	Age  int
}</code></pre></div><p id="-1910369746#-a1k07q_160">Cette structure repr&eacute;sente une personne avec un nom (type <span class="inline-code" id="-1910369746#-a1k07q_161">string</span>) et un &acirc;ge (type <span class="inline-code" id="-1910369746#-a1k07q_162">int</span>).</p><p id="-1910369746#-a1k07q_163">La fonction <span class="inline-code" id="-1910369746#-a1k07q_164">section4b</span> cr&eacute;e d'abord un tableau de <span class="inline-code" id="-1910369746#-a1k07q_165">Person</span> nomm&eacute; <span class="inline-code" id="-1910369746#-a1k07q_166">people</span>:</p><div class="code-block detached" id="-1910369746#-a1k07q_167"><pre><code class="language-go">people := []Person{
		{Name: &quot;John&quot;, Age: 30},
		{Name: &quot;Jane&quot;, Age: 25},
		{Name: &quot;Alice&quot;, Age: 35},
}</code></pre></div><p id="-1910369746#-a1k07q_168">Ensuite, il y a plusieurs sections de code qui filtrent ce tableau <span class="inline-code" id="-1910369746#-a1k07q_169">people</span> en fonction de diff&eacute;rentes conditions et impriment le r&eacute;sultat.</p><p id="-1910369746#-a1k07q_170">Voici le premier filtre :</p><div class="code-block detached" id="-1910369746#-a1k07q_171"><pre><code class="language-go">filteredPeople := make([]Person, 0)
for _, person := range people {
	if person.Age &gt; 30 {
		filteredPeople = append(filteredPeople, person)
	}
}
fmt.Println(filteredPeople)</code></pre></div><p id="-1910369746#-a1k07q_172">Cette section filtre toutes les personnes qui ont plus de 30 ans. Le tableau <span class="inline-code" id="-1910369746#-a1k07q_173">filteredPeople</span> est initialement vide. Pour chaque <span class="inline-code" id="-1910369746#-a1k07q_174">Person</span> dans le tableau <span class="inline-code" id="-1910369746#-a1k07q_175">people</span>, si l' <span class="inline-code" id="-1910369746#-a1k07q_176">Age</span> est sup&eacute;rieur &agrave; 30, cette <span class="inline-code" id="-1910369746#-a1k07q_177">Person</span> est ajout&eacute;e au tableau <span class="inline-code" id="-1910369746#-a1k07q_178">filteredPeople</span>. Le r&eacute;sultat est ensuite imprim&eacute;.</p><p id="-1910369746#-a1k07q_179">Les deux sections suivantes suivent la m&ecirc;me proc&eacute;dure, mais avec diff&eacute;rentes conditions :</p><ul class="list" id="-1910369746#-a1k07q_180" start="1"><li class="list-item" id="-1910369746#-a1k07q_181"><p>La deuxi&egrave;me section de filtrage ajoute &agrave; <span class="inline-code" id="-1910369746#-a1k07q_182">filteredPeople</span> toutes les <span class="inline-code" id="-1910369746#-a1k07q_183">Person</span> dont le nom commence par la lettre 'J'.</p></li><li class="list-item" id="-1910369746#-a1k07q_184"><p>La troisi&egrave;me section de filtrage ajoute les personnes dont le nom comporte plus de 5 caract&egrave;res.</p></li></ul><section><h3 id="-1910369746#version-am-lior-e" data-toc="version-am-lior-e#ch06s04-Operations-sur-les-tranches.md-version-am-lior-e">Version am&eacute;lior&eacute;e</h3><p id="-1910369746#-a1k07q_185">En examinant le code pr&eacute;c&eacute;dent, il y a un patron r&eacute;p&eacute;t&eacute; de cr&eacute;ation d'une liste filtr&eacute;e de personnes en fonction de diff&eacute;rentes conditions. C'est une bonne occasion d'appliquer la refonte <span class="control" id="-1910369746#-a1k07q_186">Extraire la fonction</span>. En extrayant la logique r&eacute;p&eacute;t&eacute;e dans une fonction distincte qui prend une fonction de filtrage comme l'un de ses param&egrave;tres, vous pouvez &eacute;liminer la r&eacute;p&eacute;tition du code tout en rendant le code plus facile &agrave; comprendre et &agrave; modifier.</p><p id="-1910369746#-a1k07q_187">Le code qui suit est une r&eacute;&eacute;criture de l'exemple pr&eacute;c&eacute;dent qui r&eacute;duit la r&eacute;p&eacute;tition.</p><div class="code-block detached" id="-1910369746#-a1k07q_188"><pre><code class="language-go">func section4c() {
    people := []Person{
        {Name: &quot;John&quot;, Age: 30},
        {Name: &quot;Jane&quot;, Age: 25},
        {Name: &quot;Alice&quot;, Age: 35},
    }
    fmt.Println(people)

    filteredPeople := filterPeople(people, func(person Person) bool {
        return person.Age &gt; 30
    })
    fmt.Println(filteredPeople)

    filteredPeople = filterPeople(people, func(person Person) bool {
        return person.Name[0] == 'J'
    })
    fmt.Println(filteredPeople)

    filteredPeople = filterPeople(people, func(person Person) bool {
        return len(person.Name) &gt; 5
    })
    fmt.Println(filteredPeople)
}

type FilterFunc func(person Person) bool

func filterPeople(people []Person, filter FilterFunc) []Person {
    filteredPeople := make([]Person, 0)
    for _, person := range people {
        if filter(person) {
            filteredPeople = append(filteredPeople, person)
        }
    }
    return filteredPeople
}</code></pre></div><p id="-1910369746#-a1k07q_189"><span class="inline-code" id="-1910369746#-a1k07q_190">FilterFunc</span> est un nouveau type pour une fonction qui prend une <span class="inline-code" id="-1910369746#-a1k07q_191">Person</span> et renvoie un <span class="inline-code" id="-1910369746#-a1k07q_192">bool</span>, d&eacute;finissant si cette personne doit &ecirc;tre incluse dans les r&eacute;sultats filtr&eacute;s.</p><p id="-1910369746#-a1k07q_193">Donc, dans chacun des appels &agrave; <span class="inline-code" id="-1910369746#-a1k07q_194">filterPeople</span>, une nouvelle fonction anonyme est cr&eacute;&eacute;e qui sp&eacute;cifie la logique de filtrage pour cette liste particuli&egrave;re.</p><p id="-1910369746#-a1k07q_195">Cette refactorisation &eacute;limine la redondance dans votre code, et rend &eacute;galement le code plus facile &agrave; comprendre : au lieu de devoir lire les sp&eacute;cificit&eacute;s de chaque boucle pour comprendre ce qui se passe, vous pouvez maintenant voir facilement que chaque s&eacute;quence filtre la liste <span class="inline-code" id="-1910369746#-a1k07q_196">people</span> selon un crit&egrave;re distinct. De plus, si vous souhaitez ajouter une nouvelle condition pour filtrer les personnes, vous avez simplement besoin d'ajouter un nouvel appel &agrave; <span class="inline-code" id="-1910369746#-a1k07q_197">filterPeople</span> avec la fonction de filtrage appropri&eacute;e.</p></section><section><h3 id="-1910369746#autre-am-lioration" data-toc="autre-am-lioration#ch06s04-Operations-sur-les-tranches.md-autre-am-lioration">Autre am&eacute;lioration</h3><p id="-1910369746#-a1k07q_198">Si d&eacute;sir&eacute;, &agrave; la place d'utiliser des fonctions de filtrage anonymes, les fonctions de filtrage pourraient &ecirc;tre d&eacute;finies un peu &agrave; la mani&egrave;re de la fonction <span class="inline-code" id="-1910369746#-a1k07q_199">personNameCompareReverse</span> de l'exemple de tri pr&eacute;c&eacute;dent.</p><div class="code-block detached" id="-1910369746#-a1k07q_200"><pre><code class="language-go">func section4d() {
	people := []Person{
		{Name: &quot;John&quot;, Age: 30},
		{Name: &quot;Jane&quot;, Age: 25},
		{Name: &quot;Alice&quot;, Age: 35},
	}
	fmt.Println(people)

	filteredPeople := filterPeople(people, peopleFilterMinAge(31))
	fmt.Println(filteredPeople)

}

func peopleFilterMinAge(minAge int) FilterFunc {
	return func(person Person) bool {
		return person.Age &gt;= minAge
	}
}</code></pre></div><p id="-1910369746#-a1k07q_201">Ce code poursuit la tendance de refactorisation et d'am&eacute;lioration de la lisibilit&eacute; en utilisant le filtrage des personnes.</p><p id="-1910369746#-a1k07q_202">Commen&ccedil;ons par examiner la nouvelle fonction <span class="inline-code" id="-1910369746#-a1k07q_203">peopleFilterMinAge</span>.</p><p id="-1910369746#-a1k07q_204">Elle d&eacute;finit une fonction <span class="inline-code" id="-1910369746#-a1k07q_205">peopleFilterMinAge</span> qui prend un &acirc;ge minimum <span class="inline-code" id="-1910369746#-a1k07q_206">minAge</span> comme argument et renvoie une fonction de type <span class="inline-code" id="-1910369746#-a1k07q_207">FilterFunc</span> qui, &agrave; son tour, accepte une personne et renvoie si l'&acirc;ge de cette personne est sup&eacute;rieur ou &eacute;gal &agrave; <span class="inline-code" id="-1910369746#-a1k07q_208">minAge</span>.</p><p id="-1910369746#-a1k07q_209">Nous pouvons voir le rendement de cette fonction utilis&eacute;e dans un filtre dans la fonction <span class="inline-code" id="-1910369746#-a1k07q_210">section4d</span>:</p><div class="code-block detached" id="-1910369746#-a1k07q_211"><pre><code class="language-go">filteredPeople := filterPeople(people, peopleFilterMinAge(31))</code></pre></div><p id="-1910369746#-a1k07q_212">Ici, <span class="inline-code" id="-1910369746#-a1k07q_213">peopleFilterMinAge(31)</span> renvoie une fonction qui sera utilis&eacute;e comme crit&egrave;re de filtre par <span class="inline-code" id="-1910369746#-a1k07q_214">filterPeople</span>. Elle v&eacute;rifiera si l'&acirc;ge de chaque personne dans le tableau <span class="inline-code" id="-1910369746#-a1k07q_215">people</span> est sup&eacute;rieur ou &eacute;gale &agrave; 31. Si c'est le cas, cette personne sera incluse dans la liste <span class="inline-code" id="-1910369746#-a1k07q_216">filteredPeople</span>.</p><p id="-1910369746#-a1k07q_217">En r&eacute;sum&eacute;, <span class="inline-code" id="-1910369746#-a1k07q_218">section4d</span> utilise une nouvelle fonction <span class="inline-code" id="-1910369746#-a1k07q_219">peopleFilterMinAge</span> pour cr&eacute;er une fonction de filtre dynamique bas&eacute;e sur un &acirc;ge minimum, puis utilise cette fonction de filtre pour obtenir une liste de personnes dont l'&acirc;ge est sup&eacute;rieur ou &eacute;gal &agrave; l'&acirc;ge minimum. Ceci donne encore plus de flexibilit&eacute; au code, car on peut maintenant facilement cr&eacute;er diff&eacute;rents filtres d'&acirc;ge en appelant simplement <span class="inline-code" id="-1910369746#-a1k07q_220">peopleFilterMinAge</span> avec l'&acirc;ge minimum souhait&eacute; en param&egrave;tre. On pourrait poursuivre avec des d&eacute;finitions similaires pour d'autres crit&egrave;res.</p></section></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="1260909113">Chapitre 7 : Structures de donn&eacute;es</h1><p id="1260909113#asyc06_63">Les structures de donn&eacute;es sont une mani&egrave;re d&rsquo;organiser, de stocker et de manipuler des donn&eacute;es afin qu'elles soient efficacement accessibles et utilisables. Elles forment la base de presque tous les syst&egrave;mes logiciels et algorithmes, car la mani&egrave;re dont les donn&eacute;es sont structur&eacute;es peut avoir un effet significatif sur la performance et sur le fonctionnement du programme.</p><p id="1260909113#asyc06_64">Il existe plusieurs types de structures de donn&eacute;es, qui peuvent &ecirc;tre class&eacute;s de nombreuses mani&egrave;res. Toutefois, on peut les diviser en deux cat&eacute;gories principales : les structures de donn&eacute;es lin&eacute;aires et non lin&eacute;aires.</p><ul class="list" id="1260909113#asyc06_65" start="1"><li class="list-item" id="1260909113#asyc06_67"><p id="1260909113#asyc06_68">Les structures de donn&eacute;es <span class="control" id="1260909113#asyc06_69">lin&eacute;aires</span> sont celles dans lesquelles les &eacute;l&eacute;ments sont arrang&eacute;s d'une mani&egrave;re s&eacute;quentielle et chaque &eacute;l&eacute;ment est connect&eacute; au pr&eacute;c&eacute;dent et au suivant. Quelques exemples de ce type sont les tableaux, les listes cha&icirc;n&eacute;es, les piles et les files d'attente.</p><ul class="list" id="1260909113#asyc06_70" start="1"><li class="list-item" id="1260909113#asyc06_71"><p id="1260909113#asyc06_72">Les <span class="control" id="1260909113#asyc06_73">tableaux</span> sont des structures de donn&eacute;es qui stockent des &eacute;l&eacute;ments du m&ecirc;me type dans une s&eacute;quence contigu&euml;.</p></li><li class="list-item" id="1260909113#asyc06_74"><p id="1260909113#asyc06_75">Les <span class="control" id="1260909113#asyc06_76">listes cha&icirc;n&eacute;es</span> sont similaires, mais chaque &eacute;l&eacute;ment (noeud) contient un lien vers le prochain noeud, permettant un acc&egrave;s plus flexible et dynamique aux &eacute;l&eacute;ments.</p></li><li class="list-item" id="1260909113#asyc06_77"><p id="1260909113#asyc06_78">Les <span class="control" id="1260909113#asyc06_79">piles</span> et les <span class="control" id="1260909113#asyc06_80">files d'attente</span> sont des structures de donn&eacute;es qui imposent un ordre sp&eacute;cifique pour l'ajout et la suppression d'&eacute;l&eacute;ments, g&eacute;n&eacute;ralement <span class="emphasis" id="1260909113#asyc06_81">dernier entr&eacute;, premier sorti</span> (<span class="control" id="1260909113#asyc06_82">LIFO</span>) pour les piles et <span class="emphasis" id="1260909113#asyc06_83">premier entr&eacute;, premier sorti</span> (<span class="control" id="1260909113#asyc06_84">FIFO</span>) pour les files.</p></li></ul></li><li class="list-item" id="1260909113#asyc06_85"><p id="1260909113#asyc06_86">Les structures de donn&eacute;es <span class="control" id="1260909113#asyc06_87">non lin&eacute;aires</span> sont celles dans lesquelles les &eacute;l&eacute;ments ne sont pas dispos&eacute;s de fa&ccedil;on lin&eacute;aire. Ils incluent les arbres, les graphes, les hachages et d'autres types.</p><ul class="list" id="1260909113#asyc06_88" start="1"><li class="list-item" id="1260909113#asyc06_89"><p id="1260909113#asyc06_90">Les <span class="control" id="1260909113#asyc06_91">arbres</span> sont compos&eacute;s de noeuds li&eacute;s o&ugrave; un noeud parent peut avoir de multiples noeuds enfants, mais chaque noeud enfant ne peut avoir qu'un seul noeud parent.</p></li><li class="list-item" id="1260909113#asyc06_92"><p id="1260909113#asyc06_93">Les <span class="control" id="1260909113#asyc06_94">graphes</span> &eacute;tendent cette id&eacute;e en permettant aux noeuds d'avoir des liens vers plusieurs autres noeuds.</p></li><li class="list-item" id="1260909113#asyc06_95"><p id="1260909113#asyc06_96">Les <span class="control" id="1260909113#asyc06_97">dictionnaires</span> ou <span class="control" id="1260909113#asyc06_98">tableaux associatifs</span> (ou <span class="emphasis" id="1260909113#asyc06_99">maps</span> en anglais) stockent des &eacute;l&eacute;ments dans des emplacements bas&eacute;s sur une cl&eacute; d&eacute;riv&eacute;e d'une fonction de hachage, permettant un acc&egrave;s direct aux valeurs en utilisant ces cl&eacute;s.</p></li></ul></li></ul><p id="1260909113#asyc06_66">Choisir la bonne structure de donn&eacute;es d&eacute;pend du probl&egrave;me sp&eacute;cifique que vous &ecirc;tes en train de r&eacute;soudre. Par exemple, si vous avez besoin d'un acc&egrave;s constant &agrave; des &eacute;l&eacute;ments par leur index, un tableau serait appropri&eacute;, mais si vous avez besoin d'ajouter et de supprimer fr&eacute;quemment des &eacute;l&eacute;ments, une liste cha&icirc;n&eacute;e ou une pile pourrait &ecirc;tre pr&eacute;f&eacute;rable. Comprendre la nature de ces diff&eacute;rentes structures de donn&eacute;es et la fa&ccedil;on dont elles fonctionnent vous permettra de concevoir des logiciels plus efficaces, plus propres et plus adapt&eacute;s &agrave; vos objectifs.</p><section><h2 id="1260909113#structures-de-donn-es-en-go" data-toc="structures-de-donn-es-en-go#ch07-Chapitre-7-Structures-de-donnees.md-structures-de-donn-es-en-go">Structures de donn&eacute;es en Go</h2><p id="1260909113#asyc06_100">Le langage Go offre plusieurs types de structures de donn&eacute;es int&eacute;gr&eacute;s sans avoir besoin d'importer de paquets suppl&eacute;mentaires. Les principaux sont :</p><ol class="list list-decimal" id="1260909113#asyc06_101" type="1" start="1"><li class="list-item" id="1260909113#asyc06_102"><p id="1260909113#asyc06_103"><span class="control" id="1260909113#asyc06_104">Les tableaux</span>: Un tableau en Go est une collection ordonn&eacute;e d'&eacute;l&eacute;ments de m&ecirc;me type. Sa taille doit &ecirc;tre connue au moment de la d&eacute;claration.</p><div class="code-block detached" id="1260909113#asyc06_105"><pre><code class="language-go">var arr [10]int // Un tableau contenant 10 entiers.</code></pre></div></li><li class="list-item" id="1260909113#asyc06_106"><p id="1260909113#asyc06_107"><span class="control" id="1260909113#asyc06_108">Les cha&icirc;nes de caract&egrave;res (<span class="inline-code" id="1260909113#asyc06_109">string</span>)</span>: Une <span class="emphasis" id="1260909113#asyc06_110">string</span> est une s&eacute;quence de caract&egrave;res. En Go, les cha&icirc;nes de caract&egrave;res sont cod&eacute;es en UTF-8 et peuvent contenir n'importe quel caract&egrave;re Unicode.</p><div class="code-block detached" id="1260909113#asyc06_111"><pre><code class="language-go">s := &quot;hello, world&quot;</code></pre></div></li><li class="list-item" id="1260909113#asyc06_112"><p id="1260909113#asyc06_113"><span class="control" id="1260909113#asyc06_114">Les tranches (tableaux dynamiques)</span>: Les slices sont similaires aux tableaux, mais leur taille peut changer. Ils fournissent un moyen plus flexible de travailler avec des collections de m&ecirc;me type.</p><div class="code-block detached" id="1260909113#asyc06_115"><pre><code class="language-go">sl := []int{1, 2, 3} // Une slice d'entiers.</code></pre></div></li><li class="list-item" id="1260909113#asyc06_116"><p id="1260909113#asyc06_117"><span class="control" id="1260909113#asyc06_118">Les dictionnaires (tableaux associatifs, ou <span class="emphasis" id="1260909113#asyc06_119">maps</span>)</span>: En Go, une map est une structure de donn&eacute;es qui associe des valeurs &agrave; des cl&eacute;s uniques, similaires aux dictionnaires en Python, aux <span class="inline-code" id="1260909113#asyc06_120">HashMap</span> ou <span class="inline-code" id="1260909113#asyc06_121">TreeMap</span> en Java, ou aux objets en JavaScript.</p><div class="code-block detached" id="1260909113#asyc06_122"><pre><code class="language-go">m := map[string]int{ // Une map qui associe des strings à des entiers.
    &quot;one&quot;: 1,
    &quot;two&quot;: 2,
}</code></pre></div></li></ol></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-1747296416">Section 1 : Les dictionnaires (map)</h1><p id="-1747296416#i31u264_104">Dans les sciences de l'informatique, un <span class="control" id="-1747296416#i31u264_110">dictionnaire</span>, &eacute;galement connu sous le nom de <span class="emphasis" id="-1747296416#i31u264_111">map</span> et de <span class="emphasis" id="-1747296416#i31u264_112">tableau associatif</span>, est une structure de donn&eacute;es qui stocke les valeurs en paires de cl&eacute;s et de valeurs. Chaque cl&eacute; unique est associ&eacute;e &agrave; une valeur, ce qui permet de r&eacute;cup&eacute;rer efficacement la valeur &agrave; l'aide de la cl&eacute; correspondante.</p><p id="-1747296416#i31u264_105">L'un des principaux avantages d'un dictionnaire est qu'il permet un acc&egrave;s rapide &agrave; ses &eacute;l&eacute;ments. Dans de nombreux cas, l'acc&egrave;s, l'insertion et la suppression d'un &eacute;l&eacute;ment sont tous effectu&eacute;s en temps constant, ind&eacute;pendamment de la taille du dictionnaire. Cela contraste avec des structures de donn&eacute;es telles que les listes ou les tableaux, o&ugrave; le temps n&eacute;cessaire pour trouver un &eacute;l&eacute;ment peut augmenter &agrave; mesure que la taille de la structure de donn&eacute;es augmente.</p><p id="-1747296416#i31u264_106">Dans les dictionnaires, la cl&eacute; joue un r&ocirc;le significatif, car elle est utilis&eacute;e pour acc&eacute;der &agrave; la valeur correspondante, et chaque cl&eacute; est unique. Cela signifie que si vous essayez d'ins&eacute;rer une nouvelle cl&eacute; qui existe d&eacute;j&agrave; dans le dictionnaire, la valeur existante de cette cl&eacute; sera remplac&eacute;e par la nouvelle valeur.</p><p id="-1747296416#i31u264_107">Les dictionnaires sont utilis&eacute;s dans un grand nombre d'applications. Par exemple, ils sont souvent utilis&eacute;s pour impl&eacute;menter la fonctionnalit&eacute; de recherche rapide dans les bases de donn&eacute;es, o&ugrave; la cl&eacute; serait un identifiant unique et la valeur serait l'enregistrement associ&eacute; &agrave; cet identifiant. D'autres utilisations courantes des dictionnaires incluent la d&eacute;tection de duplications, le comptage d'occurrences d'&eacute;l&eacute;ments, ou le stockage de configuration et de m&eacute;tadonn&eacute;es.</p><p id="-1747296416#i31u264_108">Il est important de noter que les dictionnaires, en raison de leur fonctionnement interne, <span class="emphasis" id="-1747296416#i31u264_113">ne maintiennent pas d'ordre sp&eacute;cifique des &eacute;l&eacute;ments</span> stock&eacute;s, sauf dans des certaines impl&eacute;mentations sp&eacute;cifiques, comme le <span class="inline-code" id="-1747296416#i31u264_114">TreeMap</span> de Java. Par cons&eacute;quent, si vous avez besoin d'une structure de donn&eacute;es ordonn&eacute;e, d'autres options, comme les listes tri&eacute;es ou les arbres, pourraient &ecirc;tre plus appropri&eacute;es.</p><p id="-1747296416#i31u264_109">En r&eacute;sum&eacute;, les dictionnaires ou les <span class="emphasis" id="-1747296416#i31u264_115">maps</span> sont des structures de donn&eacute;es associatives puissantes et flexibles qui op&egrave;rent sur des paires de cl&eacute;s et de valeurs, offrant un acc&egrave;s rapide et des op&eacute;rations efficaces sur les donn&eacute;es.</p><section><h2 id="-1747296416#les-maps-en-go" data-toc="les-maps-en-go#ch07s01-Section-1-Les-dictionnaires.md-les-maps-en-go">Les maps en Go</h2><p id="-1747296416#i31u264_117">Les maps sont une structure de donn&eacute;es fondamentale dans Go, souvent utilis&eacute;es lorsque vous souhaitez stocker des associations cl&eacute;/valeur, similaires aux dictionnaires en Python, au <span class="inline-code" id="-1747296416#i31u264_118">HashMap</span> en Java et aux objets en JavaScript.</p><p id="-1747296416#i31u264_119">Voici comment d&eacute;clarer une map en Go :</p><div class="code-block detached" id="-1747296416#i31u264_120"><pre><code class="language-go">var myMap map[string]int</code></pre></div><p id="-1747296416#i31u264_121">Ceci d&eacute;clare une map appel&eacute;e <span class="inline-code" id="-1747296416#i31u264_122">myMap</span> qui a des cl&eacute;s de type <span class="inline-code" id="-1747296416#i31u264_123">string</span> et des valeurs de type <span class="inline-code" id="-1747296416#i31u264_124">int</span>.</p><p id="-1747296416#i31u264_125">Veuillez noter que d&eacute;clarer une map de cette mani&egrave;re l'initialise &agrave; <span class="inline-code" id="-1747296416#i31u264_126">nil</span>. Pour assigner une nouvelle map vide &agrave; <span class="inline-code" id="-1747296416#i31u264_127">myMap</span>, nous devons utiliser la fonction <span class="inline-code" id="-1747296416#i31u264_128">make</span>:</p><div class="code-block detached" id="-1747296416#i31u264_129"><pre><code class="language-go">myMap = make(map[string]int)</code></pre></div><p id="-1747296416#i31u264_130">On peut d&eacute;clarer et initialiser une map en une seule d&eacute;claration :</p><div class="code-block detached" id="-1747296416#i31u264_131"><pre><code class="language-go">myMap := make(map[string]int)</code></pre></div><p id="-1747296416#i31u264_132">Pour ajouter des valeurs &agrave; notre map :</p><div class="code-block detached" id="-1747296416#i31u264_133"><pre><code class="language-go">myMap[&quot;One&quot;] = 1
myMap[&quot;Two&quot;] = 2
myMap[&quot;Three&quot;] = 3</code></pre></div><p id="-1747296416#i31u264_134">Pour r&eacute;cup&eacute;rer une valeur de la map :</p><div class="code-block detached" id="-1747296416#i31u264_135"><pre><code class="language-go">value := myMap[&quot;Two&quot;]  // value est maintenant égal à 2</code></pre></div><p id="-1747296416#i31u264_136">Si vous essayez d'acc&eacute;der &agrave; une cl&eacute; qui n'existe pas dans la map, Go retournera la valeur z&eacute;ro pour le type de valeur de la map. Pour un int, cela donnerait 0.</p><p id="-1747296416#i31u264_137">Pour v&eacute;rifier si une cl&eacute; existe dans la map, vous pouvez utiliser la d&eacute;claration <span class="inline-code" id="-1747296416#i31u264_138">if</span>:</p><div class="code-block detached" id="-1747296416#i31u264_139"><pre><code class="language-go">val, exists := myMap[&quot;Four&quot;]
if exists {
    fmt.Println(&quot;La valeur existe et est&quot;, val)
} else {
    fmt.Println(&quot;La valeur n'existe pas&quot;)
}</code></pre></div><p id="-1747296416#i31u264_140">Pour supprimer une entr&eacute;e de la map, utilisez la fonction <span class="inline-code" id="-1747296416#i31u264_141">delete</span>:</p><div class="code-block detached" id="-1747296416#i31u264_142"><pre><code class="language-go">delete(myMap, &quot;Two&quot;)</code></pre></div><p id="-1747296416#i31u264_143">Cela supprime l'entr&eacute;e avec la cl&eacute; &quot;Two&quot; de la map. Si la cl&eacute; n'existe pas dans la map, <span class="inline-code" id="-1747296416#i31u264_144">delete</span> ne fait rien et le programme continue &agrave; fonctionner.</p><p id="-1747296416#i31u264_145">Enfin, pour parcourir une map, vous pouvez utiliser une boucle <span class="inline-code" id="-1747296416#i31u264_146">for</span>:</p><div class="code-block detached" id="-1747296416#i31u264_147"><pre><code class="language-go">for key, value := range myMap {
    fmt.Printf(&quot;Clé : %s, Valeur : %d\n&quot;, key, value)
}</code></pre></div><p id="-1747296416#i31u264_148">Ici, <span class="inline-code" id="-1747296416#i31u264_149">range</span> sur une map retourne deux valeurs &agrave; chaque it&eacute;ration, la cl&eacute; et la valeur.</p></section><section><h2 id="-1747296416#exemple-1" data-toc="exemple-1#ch07s01-Section-1-Les-dictionnaires.md-exemple-1">Exemple 1</h2><div class="code-block detached" id="-1747296416#i31u264_150"><pre><code class="language-go">var menuStrings = make(map[string]string)

func ShowMenu(name string) {

	if _, ok := menuStrings[name]; !ok {
		menuBytes, err := os.ReadFile(&quot;menu/&quot; + name + &quot;.txt&quot;)
		if err != nil {
			log.Fatalf(&quot;lecture du contenu du menu impossible : %s&quot;, err)
		}
		menuStrings[name] = string(menuBytes)
	}
	fmt.Println(menuStrings[name])
}</code></pre></div><ul class="list" id="-1747296416#i31u264_151" start="1"><li class="list-item" id="-1747296416#i31u264_152"><p id="-1747296416#i31u264_153">Tout d'abord, une variable globale <span class="inline-code" id="-1747296416#i31u264_154">menuStrings</span> est d&eacute;clar&eacute;e qui est une map avec des cl&eacute;s <span class="inline-code" id="-1747296416#i31u264_155">string</span> et des valeurs <span class="inline-code" id="-1747296416#i31u264_156">string</span>. Cette variable est initialis&eacute;e avec une map vide &agrave; l'aide de la fonction <span class="inline-code" id="-1747296416#i31u264_157">make</span>.</p></li><li class="list-item" id="-1747296416#i31u264_158"><p id="-1747296416#i31u264_159">Ensuite, une fonction <span class="inline-code" id="-1747296416#i31u264_160">ShowMenu</span> est d&eacute;finie, qui prend un param&egrave;tre <span class="inline-code" id="-1747296416#i31u264_161">name</span> de type <span class="inline-code" id="-1747296416#i31u264_162">string</span>.</p></li><li class="list-item" id="-1747296416#i31u264_163"><p id="-1747296416#i31u264_164">Dans cette fonction, il y a une v&eacute;rification pour voir si une cl&eacute; correspondant &agrave; <span class="inline-code" id="-1747296416#i31u264_165">name</span> existe d&eacute;j&agrave; dans la map <span class="inline-code" id="-1747296416#i31u264_166">menuStrings</span>. La syntaxe <span class="inline-code" id="-1747296416#i31u264_167">_, ok := menuStrings[name]</span> effectue une recherche de la cl&eacute; dans la map et renvoie deux valeurs : la valeur du dictionnaire &agrave; la cl&eacute;, et un bool&eacute;en indiquant si la cl&eacute; a &eacute;t&eacute; trouv&eacute;e dans la map. Le symbole <span class="inline-code" id="-1747296416#i31u264_168">_</span> est un identifiant vide en Go, qui est utilis&eacute; lorsque vous voulez ignorer une valeur retourn&eacute;e. Ici, nous ignorons la valeur renvoy&eacute;e par la map et nous nous int&eacute;ressons seulement &agrave; la valeur bool&eacute;enne <span class="inline-code" id="-1747296416#i31u264_169">ok</span>.</p></li><li class="list-item" id="-1747296416#i31u264_170"><p id="-1747296416#i31u264_171">Si la cl&eacute; n'existe pas dans <span class="inline-code" id="-1747296416#i31u264_172">menuStrings</span> (c'est-&agrave;-dire que <span class="inline-code" id="-1747296416#i31u264_173">ok</span> est <span class="inline-code" id="-1747296416#i31u264_174">false</span>), alors le programme tente de lire un fichier texte du r&eacute;pertoire <span class="inline-code" id="-1747296416#i31u264_175">menu/</span> ayant le nom dans la variable<span class="inline-code" id="-1747296416#i31u264_176">name</span> avec l'extension <span class="inline-code" id="-1747296416#i31u264_177">.txt</span>. L'op&eacute;ration de lecture de fichier peut &eacute;chouer pour diverses raisons (par exemple si le fichier n'existe pas), et dans ce cas une erreur <span class="inline-code" id="-1747296416#i31u264_178">err</span> est renvoy&eacute;e.</p></li><li class="list-item" id="-1747296416#i31u264_179"><p id="-1747296416#i31u264_180">Si une erreur est produite lors de la lecture du fichier, un message d'erreur est affich&eacute; et le programme se termine avec <span class="inline-code" id="-1747296416#i31u264_181">log.Fatalf</span>. Sinon, le contenu du fichier, qui est un tableau de bytes (<span class="inline-code" id="-1747296416#i31u264_182">menuBytes</span>), est converti en <span class="inline-code" id="-1747296416#i31u264_183">string</span> et stock&eacute; dans la map <span class="inline-code" id="-1747296416#i31u264_184">menuStrings</span> avec la cl&eacute; &eacute;tant <span class="inline-code" id="-1747296416#i31u264_185">name</span>.</p></li><li class="list-item" id="-1747296416#i31u264_186"><p id="-1747296416#i31u264_187">Enfin, que la valeur ait &eacute;t&eacute; lue &agrave; partir du fichier ou qu'elle existait d&eacute;j&agrave; dans la map, la fonction <span class="inline-code" id="-1747296416#i31u264_188">fmt.Println</span> est utilis&eacute;e pour afficher la cha&icirc;ne correspondante &agrave; la cl&eacute; <span class="inline-code" id="-1747296416#i31u264_189">name</span> de la map <span class="inline-code" id="-1747296416#i31u264_190">menuStrings</span>.</p></li></ul><p id="-1747296416#i31u264_191">En somme, ce petit programme effectue une op&eacute;ration de mise en cache des menus bas&eacute;e sur les noms de fichier. Chaque fois que vous demandez un menu par son nom, le programme v&eacute;rifie d'abord s'il a d&eacute;j&agrave; lu le fichier du disque. Si c'est le cas, il utilise la version en cache. Sinon, il lit le fichier du disque, l'ajoute au cache, et l'utilise.</p></section><section><h2 id="-1747296416#exemple-2" data-toc="exemple-2#ch07s01-Section-1-Les-dictionnaires.md-exemple-2">Exemple 2</h2><div class="code-block detached" id="-1747296416#i31u264_192"><pre><code class="language-go">package main

import &quot;fmt&quot;

type Person struct {
	Id   int
	Name string
	Age  int
}

func (p Person) String() string {
	return fmt.Sprintf(&quot;ID: %d, Nom : %s, Âge : %d\n&quot;, p.Id, p.Name, p.Age)
}

func main() {
	// Création des personnes
	person1 := &amp;Person{Id: 1, Name: &quot;John Doe&quot;, Age: 30}
	person2 := &amp;Person{Id: 2, Name: &quot;Jane Doe&quot;, Age: 28}
	person3 := &amp;Person{Id: 3, Name: &quot;Richard Roe&quot;, Age: 33}
	person4 := &amp;Person{Id: 4, Name: &quot;Maggie Roe&quot;, Age: 32}
	
	// Création de la map pour stocker les personnes par leur ID
	persons := make(map[int]*Person)

	// Ajout des personnes dans la map
	persons[person1.Id] = person1
	persons[person2.Id] = person2
	persons[person3.Id] = person3
	persons[person4.Id] = person4
	
	// Affichage des personnes de la map
	for _, person := range persons {
		fmt.Print(person)
	}
}</code></pre></div><p id="-1747296416#i31u264_193">Dans cet exemple, quatre instances de <span class="inline-code" id="-1747296416#i31u264_194">Person</span> sont cr&eacute;&eacute;es (elles sont allou&eacute;es avec <span class="inline-code" id="-1747296416#i31u264_195">&amp;</span> pour retourner un pointeur vers l'instance). Ensuite une map appel&eacute;e <span class="inline-code" id="-1747296416#i31u264_196">persons</span> est cr&eacute;&eacute;e avec <span class="inline-code" id="-1747296416#i31u264_197">make(map[int]*Person)</span>. Cette map associe des entiers (les identifiants des personnes) &agrave; des pointeurs de <span class="inline-code" id="-1747296416#i31u264_198">Person</span>.</p><p id="-1747296416#i31u264_199">Chaque personne est ajout&eacute;e &agrave; la map avec son <span class="inline-code" id="-1747296416#i31u264_200">ID</span> comme cl&eacute; et elle-m&ecirc;me comme valeur (<span class="inline-code" id="-1747296416#i31u264_201">persons[person1.Id] = person1</span>).</p><p id="-1747296416#i31u264_202">Enfin, une boucle <span class="inline-code" id="-1747296416#i31u264_203">for</span> est utilis&eacute;e pour parcourir la map <span class="inline-code" id="-1747296416#i31u264_204">persons</span> et chaque personne est affich&eacute;e avec son ID et ses d&eacute;tails.</p></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-1459793511">Section 2 : Les listes cha&icirc;n&eacute;es</h1><p id="-1459793511#bz5h75_233">Une liste cha&icirc;n&eacute;e est une structure de donn&eacute;es lin&eacute;aire compos&eacute;e de n&oelig;uds qui contiennent des donn&eacute;es et un pointeur, qui pointe vers le prochain n&oelig;ud dans la s&eacute;quence. Si le pointeur d'un n&oelig;ud pointe vers <span class="inline-code" id="-1459793511#bz5h75_237">nil</span> (ou <span class="inline-code" id="-1459793511#bz5h75_238">null</span>), cela signifie qu'il s'agitdu dernier n&oelig;ud de la liste.</p><p id="-1459793511#bz5h75_234">Une liste cha&icirc;n&eacute;e a plusieurs utilisations :</p><ol class="list list-decimal" id="-1459793511#bz5h75_235" type="1" start="1"><li class="list-item" id="-1459793511#bz5h75_239"><p id="-1459793511#bz5h75_240"><span class="control" id="-1459793511#bz5h75_241">Gestion de la m&eacute;moire :</span> Contrairement aux tableaux, les listes cha&icirc;n&eacute;es ne sont pas stock&eacute;es dans des blocs de m&eacute;moire contigus. Cela les rend particuli&egrave;rement utiles lorsque vous ne savez pas combien d'&eacute;l&eacute;ments seront dans la liste et que vous avez besoin d'ajouter ou de supprimer des &eacute;l&eacute;ments dynamiquement.</p></li><li class="list-item" id="-1459793511#bz5h75_242"><p id="-1459793511#bz5h75_243"><span class="control" id="-1459793511#bz5h75_244">Ajout/Suppression efficace des &eacute;l&eacute;ments :</span> Dans une liste cha&icirc;n&eacute;e, ajouter ou supprimer un &eacute;l&eacute;ment en t&ecirc;te de liste (ou possiblement &agrave; la fin de la liste) se fait en temps constant, ind&eacute;pendamment de la taille de la liste.</p></li><li class="list-item" id="-1459793511#bz5h75_245"><p id="-1459793511#bz5h75_246"><span class="control" id="-1459793511#bz5h75_247">Impl&eacute;mentation d'abstractions de donn&eacute;es de haut niveau :</span> Les listes cha&icirc;n&eacute;es peuvent &ecirc;tre utilis&eacute;es pour impl&eacute;menter des structures de donn&eacute;es plus complexes comme des piles, des files d'attente, et des tables de hachage.</p></li></ol><p id="-1459793511#bz5h75_236">Il est important de noter que les listes cha&icirc;n&eacute;es ont &eacute;galement leurs inconv&eacute;nients. Par exemple, contrairement aux tableaux, l'acc&egrave;s &agrave; un &eacute;l&eacute;ment sp&eacute;cifique d'une liste cha&icirc;n&eacute;e n&eacute;cessite g&eacute;n&eacute;ralement de traverser la liste depuis le d&eacute;but, ce qui peut &ecirc;tre lent pour de grandes listes.</p><section><h2 id="-1459793511#comparaison-des-listes-cha-n-es-aux-tableaux-de-taille-fixe-et-aux-tableaux-dynamiques" data-toc="comparaison-des-listes-cha-n-es-aux-tableaux-de-taille-fixe-et-aux-tableaux-dynamiques#ch07s02-Section-2-Les-listes-chainees.md-comparaison-des-listes-cha-n-es-aux-tableaux-de-taille-fixe-et-aux-tableaux-dynamiques">Comparaison des listes cha&icirc;n&eacute;es aux tableaux de taille fixe et aux tableaux dynamiques</h2><ol class="list list-decimal" id="-1459793511#bz5h75_248" type="1" start="1"><li class="list-item" id="-1459793511#bz5h75_249"><p id="-1459793511#bz5h75_250"><span class="control" id="-1459793511#bz5h75_251">Tableaux de taille fixe :</span></p><ul class="list" id="-1459793511#bz5h75_252" start="1"><li class="list-item" id="-1459793511#bz5h75_253"><p><span class="emphasis" id="-1459793511#bz5h75_254">Utilisation</span>: Les tableaux de taille fixe sont utiles lorsque la taille des donn&eacute;es est connue &agrave; l'avance et reste constante.</p></li><li class="list-item" id="-1459793511#bz5h75_255"><p><span class="emphasis" id="-1459793511#bz5h75_256">Performance</span>: L'acc&egrave;s &agrave; un &eacute;l&eacute;ment sp&eacute;cifique du tableau se fait en temps constant. C'est tr&egrave;s rapide, car chaque &eacute;l&eacute;ment est stock&eacute; &agrave; un emplacement contigu en m&eacute;moire. Cependant, l'ajout ou la suppression d'&eacute;l&eacute;ments peut n&eacute;cessiter de d&eacute;placer plusieurs &eacute;l&eacute;ments, ce qui peut prendre beaucoup de temps pour de grands tableaux.</p></li></ul></li><li class="list-item" id="-1459793511#bz5h75_257"><p id="-1459793511#bz5h75_258"><span class="control" id="-1459793511#bz5h75_259">Tableaux dynamiques (par exemple, des slices en Go ou des vecteurs en C++):</span></p><ul class="list" id="-1459793511#bz5h75_260" start="1"><li class="list-item" id="-1459793511#bz5h75_261"><p><span class="emphasis" id="-1459793511#bz5h75_262">Utilisation</span>: Les tableaux dynamiques sont utiles lorsque les donn&eacute;es changent dynamiquement en taille. Ils ajustent leur taille en allouant automatiquement de la nouvelle m&eacute;moire lors de l'ajout d'&eacute;l&eacute;ments.</p></li><li class="list-item" id="-1459793511#bz5h75_263"><p><span class="emphasis" id="-1459793511#bz5h75_264">Performance</span>: Comme les tableaux &agrave; taille fixe, l'acc&egrave;s &agrave; un &eacute;l&eacute;ment sp&eacute;cifique dans un tableau dynamique est &eacute;galement en temps constant. L'ajout d'&eacute;l&eacute;ments &agrave; la fin du tableau est g&eacute;n&eacute;ralement rapide, mais si la capacit&eacute; du tableau est d&eacute;pass&eacute;e, une nouvelle m&eacute;moire doit &ecirc;tre allou&eacute;e, ce qui peut prendre du temps. De m&ecirc;me, l'ajout ou la suppression d'&eacute;l&eacute;ments au milieu du tableau peut n&eacute;cessiter de d&eacute;placer plusieurs &eacute;l&eacute;ments.</p></li></ul></li><li class="list-item" id="-1459793511#bz5h75_265"><p id="-1459793511#bz5h75_266"><span class="control" id="-1459793511#bz5h75_267">Listes cha&icirc;n&eacute;es :</span></p><ul class="list" id="-1459793511#bz5h75_268" start="1"><li class="list-item" id="-1459793511#bz5h75_269"><p><span class="emphasis" id="-1459793511#bz5h75_270">Utilisation</span>: Les listes cha&icirc;n&eacute;es sont utiles lorsque les donn&eacute;es doivent &ecirc;tre ins&eacute;r&eacute;es ou supprim&eacute;es fr&eacute;quemment. Les listes cha&icirc;n&eacute;es sont &eacute;galement utiles pour impl&eacute;menter d'autres structures de donn&eacute;es comme les piles et les files d'attente.</p></li><li class="list-item" id="-1459793511#bz5h75_271"><p><span class="emphasis" id="-1459793511#bz5h75_272">Performance</span>: L'ajout et la suppression d'&eacute;l&eacute;ments au d&eacute;but ou &agrave; la fin de la liste se fait en temps constant, sans n&eacute;cessit&eacute; de d&eacute;placer d'autres &eacute;l&eacute;ments. Cependant, l'acc&egrave;s &agrave; un &eacute;l&eacute;ment sp&eacute;cifique dans une liste cha&icirc;n&eacute;e n&eacute;cessite de traverser la liste depuis le d&eacute;but, ce qui peut &ecirc;tre lent pour de grandes listes. De plus, contrairement aux tableaux, les listes cha&icirc;n&eacute;es n&eacute;cessitent un espace m&eacute;moire suppl&eacute;mentaire pour stocker les pointeurs vers les &eacute;l&eacute;ments suivants.</p></li></ul></li></ol><p id="-1459793511#bz5h75_273">En r&eacute;sum&eacute;, le choix entre un tableau (fixe ou dynamique) et une liste cha&icirc;n&eacute;e d&eacute;pend largement des sp&eacute;cificit&eacute;s de l'usage auquel la structure de donn&eacute;es est destin&eacute;e.</p></section><section><h2 id="-1459793511#code" data-toc="code#ch07s02-Section-2-Les-listes-chainees.md-code">Code</h2><p id="-1459793511#bz5h75_274">Code listes native1 (<a href="https://github.com/profdenis/native1/tree/master/chap7/list">https://github.com/profdenis/native1/tree/master/chap7/list</a>)</p><p id="-1459793511#bz5h75_276">Dans ce code Go, une impl&eacute;mentation d'une liste simplement cha&icirc;n&eacute;e est fournie.</p><p id="-1459793511#bz5h75_277">Il y a deux structures d&eacute;finies : <span class="inline-code" id="-1459793511#bz5h75_278">intNode</span> et <span class="inline-code" id="-1459793511#bz5h75_279">IntList</span>. <span class="inline-code" id="-1459793511#bz5h75_280">intNode</span> est la structure de base, repr&eacute;sentant un n&oelig;ud dans la liste, qui contient une valeur enti&egrave;re et a un attribut <span class="inline-code" id="-1459793511#bz5h75_281">next</span> qui pointe vers le n&oelig;ud suivant dans la liste. <span class="inline-code" id="-1459793511#bz5h75_282">Intlist</span> repr&eacute;sente la liste elle-m&ecirc;me qui stocke les n&oelig;uds de d&eacute;part et de fin (pointeurs sur <span class="inline-code" id="-1459793511#bz5h75_283">intNode</span>), et la taille (nombre d'&eacute;l&eacute;ments) de la liste.</p><p id="-1459793511#bz5h75_284">La fonction <span class="inline-code" id="-1459793511#bz5h75_285">NewIntList</span> cr&eacute;e une nouvelle liste d'entiers avec les &eacute;l&eacute;ments donn&eacute;s. Elle utilise des param&egrave;tres variadiques, permettant d'inputer plusieurs entiers sans avoir besoin de les emballer dans un slice. Les <span class="inline-code" id="-1459793511#bz5h75_286">...int</span> dans la signature de la fonction d&eacute;notent ce param&egrave;tre variadique.</p><p id="-1459793511#bz5h75_287">Les fonctions <span class="inline-code" id="-1459793511#bz5h75_288">AddStart</span> et <span class="inline-code" id="-1459793511#bz5h75_289">AddEnd</span> sont des m&eacute;thodes qui permettent d'ajouter des &eacute;l&eacute;ments au d&eacute;but et &agrave; la fin de la liste respectivement.</p><p id="-1459793511#bz5h75_290"><span class="inline-code" id="-1459793511#bz5h75_291">Insert</span> permet d'ins&eacute;rer un &eacute;l&eacute;ment &agrave; une position particuli&egrave;re dans la liste. Une erreur est renvoy&eacute;e si la position est invalide.</p><p id="-1459793511#bz5h75_292">La fonction <span class="inline-code" id="-1459793511#bz5h75_293">IsEmpty</span> v&eacute;rifie si la liste est vide en v&eacute;rifiant si le n&oelig;ud de d&eacute;part est nul.</p><p id="-1459793511#bz5h75_294">La fonction <span class="inline-code" id="-1459793511#bz5h75_295">Size</span> renvoie la taille de la liste.</p><p id="-1459793511#bz5h75_296">La m&eacute;thode <span class="inline-code" id="-1459793511#bz5h75_297">String</span> fournit une repr&eacute;sentation en cha&icirc;ne de la liste. Elle utilise <span class="inline-code" id="-1459793511#bz5h75_298">strings.Builder</span> pour concat&eacute;ner efficacement les cha&icirc;nes.</p><p id="-1459793511#bz5h75_299">Les m&eacute;thodes <span class="inline-code" id="-1459793511#bz5h75_300">RemoveStart</span> et <span class="inline-code" id="-1459793511#bz5h75_301">RemoveEnd</span> suppriment le premier et le dernier &eacute;l&eacute;ment de la liste et les renvoient. Dans le cas o&ugrave; il n'y a pas d'&eacute;l&eacute;ments &agrave; supprimer, elles renvoient une erreur.</p><p id="-1459793511#bz5h75_302">La m&eacute;thode <span class="inline-code" id="-1459793511#bz5h75_303">Remove</span> supprime un &eacute;l&eacute;ment &agrave; une position particuli&egrave;re. Comme <span class="inline-code" id="-1459793511#bz5h75_304">Insert</span>, elle renvoie une erreur si la position est invalide.</p><p id="-1459793511#bz5h75_305">Il y a aussi plusieurs tests fournis pour garantir le bon fonctionnement des diff&eacute;rentes m&eacute;thodes. Ces tests utilisent le package <span class="inline-code" id="-1459793511#bz5h75_306">testing</span> de Go pour ex&eacute;cuter et v&eacute;rifier les tests.</p><section><h3 id="-1459793511#isempty" data-toc="isempty#ch07s02-Section-2-Les-listes-chainees.md-isempty">IsEmpty</h3><p id="-1459793511#bz5h75_308">V&eacute;rifie si la liste est vide ou non.</p><div class="code-block detached" id="-1459793511#bz5h75_309"><pre><code class="language-go">func (list *IntList) IsEmpty() bool {
	return list.start == nil
}</code></pre></div><p id="-1459793511#bz5h75_310">Si la liste ne contient aucun &eacute;l&eacute;ment, alors elle ne contient aucun noeud, donc <span class="inline-code" id="-1459793511#bz5h75_311">list.start</span> ne peut pointer vers un noeud de la liste puisqu'il y en a aucun, et on n'a pas le choix de faire pointer <span class="inline-code" id="-1459793511#bz5h75_312">list.start</span> vers <span class="inline-code" id="-1459793511#bz5h75_313">nil</span>.</p></section><section><h3 id="-1459793511#addstart" data-toc="addstart#ch07s02-Section-2-Les-listes-chainees.md-addstart">AddStart</h3><p id="-1459793511#bz5h75_315">Ajoute au d&eacute;but de la liste.</p><p id="-1459793511#bz5h75_316">Voici une explication de la m&eacute;thode <span class="inline-code" id="-1459793511#bz5h75_317">AddStart</span>:</p><ol class="list list-decimal" id="-1459793511#bz5h75_318" type="1" start="1"><li class="list-item" id="-1459793511#bz5h75_319"><p>Un nouveau <span class="inline-code" id="-1459793511#bz5h75_320">intNode</span> est cr&eacute;&eacute; avec <span class="inline-code" id="-1459793511#bz5h75_321">element</span> comme valeur et le d&eacute;but existant de la liste comme noeud <span class="inline-code" id="-1459793511#bz5h75_322">next</span>.</p></li><li class="list-item" id="-1459793511#bz5h75_323"><p>Le <span class="inline-code" id="-1459793511#bz5h75_324">start</span> de <span class="inline-code" id="-1459793511#bz5h75_325">IntList</span> est mis &agrave; jour vers ce nouveau noeud.</p></li><li class="list-item" id="-1459793511#bz5h75_326"><p>La taille de <span class="inline-code" id="-1459793511#bz5h75_327">IntList</span> est augment&eacute;e de 1.</p></li></ol><div class="code-block detached" id="-1459793511#bz5h75_328"><pre><code class="language-go">func (list *IntList) AddStart(element int) {
	newStart := &amp;intNode{value: element, next: list.start} // Etape 1
	list.start = newStart // Etape 2
	list.size++ // Etape 3
}</code></pre></div><p id="-1459793511#bz5h75_329">En essence, <span class="inline-code" id="-1459793511#bz5h75_330">AddStart</span> ajoute un &eacute;l&eacute;ment au d&eacute;but de la liste, repoussant les &eacute;l&eacute;ments actuels une position en arri&egrave;re.</p><p id="-1459793511#bz5h75_331">Votre cas de test associ&eacute; <span class="inline-code" id="-1459793511#bz5h75_332">TestIntList_AddStart</span> confirme ce comportement. Il cr&eacute;e des listes avec des entr&eacute;es fournies, puis appelle <span class="inline-code" id="-1459793511#bz5h75_333">AddStart</span> avec un &eacute;l&eacute;ment de test, et v&eacute;rifie que la liste r&eacute;sultante est celle attendue. Par exemple, dans le cas <span class="inline-code" id="-1459793511#bz5h75_334">TestIntList_AddStart_WithNonEmptyList</span>, une liste est cr&eacute;&eacute;e avec les &eacute;l&eacute;ments (2, 3, 4), puis <span class="inline-code" id="-1459793511#bz5h75_335">AddStart</span> est appel&eacute;e avec <span class="inline-code" id="-1459793511#bz5h75_336">1</span>. La liste attendue apr&egrave;s cette op&eacute;ration est (1, 2, 3, 4), ce qui signifie que <span class="inline-code" id="-1459793511#bz5h75_337">1</span> a &eacute;t&eacute; ajout&eacute; avec succ&egrave;s au d&eacute;but.</p></section><section><h3 id="-1459793511#addend" data-toc="addend#ch07s02-Section-2-Les-listes-chainees.md-addend">AddEnd</h3><p id="-1459793511#bz5h75_339">Ajoute &agrave; la fin de la liste.</p><ul class="list" id="-1459793511#bz5h75_340" start="1"><li class="list-item" id="-1459793511#bz5h75_341"><p>La fonction <span class="inline-code" id="-1459793511#bz5h75_342">AddEnd</span> correspond &agrave; une structure de donn&eacute;es de liste cha&icirc;n&eacute;e. Elle prend un entier comme argument et l'ajoute comme un n&oelig;ud &agrave; la fin de la liste.</p></li><li class="list-item" id="-1459793511#bz5h75_343"><p>Le <span class="inline-code" id="-1459793511#bz5h75_344">struct IntList</span> a trois champs : <span class="inline-code" id="-1459793511#bz5h75_345">start</span>, <span class="inline-code" id="-1459793511#bz5h75_346">end</span> et <span class="inline-code" id="-1459793511#bz5h75_347">size</span>. <span class="inline-code" id="-1459793511#bz5h75_348">start</span> et <span class="inline-code" id="-1459793511#bz5h75_349">end</span> sont des pointeurs vers le premier et le dernier n&oelig;uds de la liste respectivement, tandis que <span class="inline-code" id="-1459793511#bz5h75_350">size</span> repr&eacute;sente le nombre d'&eacute;l&eacute;ments dans la liste.</p></li><li class="list-item" id="-1459793511#bz5h75_351"><p>La m&eacute;thode commence par v&eacute;rifier si <span class="inline-code" id="-1459793511#bz5h75_352">list.start</span> est <span class="inline-code" id="-1459793511#bz5h75_353">nil</span>. Si c'est le cas, cela signifie que la liste est vide. Dans ce cas, elle cr&eacute;e un nouveau n&oelig;ud dont la <span class="inline-code" id="-1459793511#bz5h75_354">value</span> est &eacute;gale &agrave; <span class="inline-code" id="-1459793511#bz5h75_355">element</span>, et les pointeurs <span class="inline-code" id="-1459793511#bz5h75_356">start</span> et <span class="inline-code" id="-1459793511#bz5h75_357">end</span> de la liste pointent vers ce seul n&oelig;ud.</p></li><li class="list-item" id="-1459793511#bz5h75_358"><p>Si la liste n'est pas vide (<span class="inline-code" id="-1459793511#bz5h75_359">list.start</span> n'est pas <span class="inline-code" id="-1459793511#bz5h75_360">nil</span>), elle cr&eacute;e un nouveau n&oelig;ud dont la <span class="inline-code" id="-1459793511#bz5h75_361">value</span> est <span class="inline-code" id="-1459793511#bz5h75_362">element</span> et <span class="inline-code" id="-1459793511#bz5h75_363">next</span> est <span class="inline-code" id="-1459793511#bz5h75_364">nil</span> par d&eacute;faut. Le champ <span class="inline-code" id="-1459793511#bz5h75_365">next</span> du n&oelig;ud <span class="inline-code" id="-1459793511#bz5h75_366">end</span> actuel est mis &agrave; jour pour pointer vers ce nouveau n&oelig;ud. Ensuite, <span class="inline-code" id="-1459793511#bz5h75_367">list.end</span> est r&eacute;affect&eacute; &agrave; ce nouveau n&oelig;ud, ajoutant ainsi effectivement l'&eacute;l&eacute;ment &agrave; la fin de la liste.</p></li><li class="list-item" id="-1459793511#bz5h75_368"><p>Enfin, elle incr&eacute;mente <span class="inline-code" id="-1459793511#bz5h75_369">list.size</span> pour refl&eacute;ter l'ajout du nouveau n&oelig;ud &agrave; la liste.</p></li></ul><p id="-1459793511#bz5h75_370">Voici le segment de code correspondant :</p><div class="code-block detached" id="-1459793511#bz5h75_371"><pre><code class="language-go">func (list *IntList) AddEnd(element int) {
	if list.start == nil {
		list.start = &amp;intNode{value: element}
		list.end = list.start
	} else {
		list.end.next = &amp;intNode{value: element}
		list.end = list.end.next
	}
	list.size++
}</code></pre></div><p id="-1459793511#bz5h75_372">Les autres m&eacute;thodes de liste d&eacute;finies dans votre code effectuent diff&eacute;rents op&eacute;rations sur ce type <span class="inline-code" id="-1459793511#bz5h75_373">IntList</span>, telles que ajouter un &eacute;l&eacute;ment au d&eacute;but de la liste (<span class="inline-code" id="-1459793511#bz5h75_374">AddStart</span>), supprimer un &eacute;l&eacute;ment du d&eacute;but de la liste (<span class="inline-code" id="-1459793511#bz5h75_375">RemoveStart</span>), ins&eacute;rer un &eacute;l&eacute;ment &agrave; une position donn&eacute;e (<span class="inline-code" id="-1459793511#bz5h75_376">Insert</span>), et ainsi de suite.</p><p id="-1459793511#bz5h75_377"><span class="inline-code" id="-1459793511#bz5h75_378">intNode</span> est un struct repr&eacute;sentant un n&oelig;ud dans la liste avec une valeur et un pointeur vers le n&oelig;ud suivant.</p></section><section><h3 id="-1459793511#insert" data-toc="insert#ch07s02-Section-2-Les-listes-chainees.md-insert">Insert</h3><p id="-1459793511#bz5h75_380">Ajouter un &eacute;l&eacute;ment &agrave; une position sp&eacute;cifique dans la liste cha&icirc;n&eacute;e.</p><div class="code-block detached" id="-1459793511#bz5h75_381"><pre><code class="language-go">func (list *IntList) Insert(element int, pos int) error {</code></pre></div><p id="-1459793511#bz5h75_382">Cette ligne commence la d&eacute;finition d'une fonction nomm&eacute;e <span class="inline-code" id="-1459793511#bz5h75_383">Insert</span> sur le type de structure <span class="inline-code" id="-1459793511#bz5h75_384">IntList</span>. Elle prend deux param&egrave;tres : un entier <span class="inline-code" id="-1459793511#bz5h75_385">element</span> qui sera ins&eacute;r&eacute;, et un entier <span class="inline-code" id="-1459793511#bz5h75_386">pos</span> qui est la position dans la liste o&ugrave; l'&eacute;l&eacute;ment sera ins&eacute;r&eacute;. La fonction 'Insert' renvoie une erreur si quelque chose se passe mal.</p><p id="-1459793511#bz5h75_387">L'instruction switch suivante couvre diff&eacute;rents sc&eacute;narios de <span class="inline-code" id="-1459793511#bz5h75_388">pos</span>.</p><div class="code-block detached" id="-1459793511#bz5h75_389"><pre><code class="language-go">switch {
case pos &lt; 0 || pos &gt; list.size:
	return errors.New(&quot;invalid position&quot;)
case pos == 0:
	list.AddStart(element)
case pos == list.size:
	list.AddEnd(element)
default:
	current := list.start
	for i := 0; i &lt; pos-1; i++ {
		current = current.next
	}
	newNode := &amp;intNode{value: element, next: current.next}
	current.next = newNode
	list.size++
}</code></pre></div><ul class="list" id="-1459793511#bz5h75_390" start="1"><li class="list-item" id="-1459793511#bz5h75_391"><p><span class="inline-code" id="-1459793511#bz5h75_392">case pos &lt; 0 || pos &gt; list.size:</span> v&eacute;rifie si la position sp&eacute;cifi&eacute;e est inf&eacute;rieure &agrave; 0 ou sup&eacute;rieure &agrave; la taille de la liste. Si l'une ou l'autre de ces conditions est satisfaite, alors il n'est pas possible d'ins&eacute;rer le nouvel &eacute;l&eacute;ment &agrave; cette position, et une erreur est renvoy&eacute;e.</p></li><li class="list-item" id="-1459793511#bz5h75_393"><p><span class="inline-code" id="-1459793511#bz5h75_394">case pos == 0:</span> g&egrave;re le sc&eacute;nario o&ugrave; la position pour ins&eacute;rer l'&eacute;l&eacute;ment est 0. Cela signifie que le nouvel &eacute;l&eacute;ment doit &ecirc;tre ajout&eacute; au d&eacute;but de la liste. La fonction <span class="inline-code" id="-1459793511#bz5h75_395">AddStart</span> est appel&eacute;e ici pour ajouter le nouvel &eacute;l&eacute;ment en d&eacute;but de liste.</p></li><li class="list-item" id="-1459793511#bz5h75_396"><p><span class="inline-code" id="-1459793511#bz5h75_397">case pos == list.size:</span> g&egrave;re le sc&eacute;nario o&ugrave; la position pour ins&eacute;rer l'&eacute;l&eacute;ment est &eacute;gale &agrave; la taille de la liste. Cela signifie que le nouvel &eacute;l&eacute;ment doit &ecirc;tre ajout&eacute; &agrave; la fin de la liste. La fonction <span class="inline-code" id="-1459793511#bz5h75_398">AddEnd</span> est appel&eacute;e ici pour ajouter le nouvel &eacute;l&eacute;ment &agrave; la fin de la liste.</p></li><li class="list-item" id="-1459793511#bz5h75_399"><p><span class="inline-code" id="-1459793511#bz5h75_400">default:</span> couvre toutes les autres positions possibles &agrave; l'int&eacute;rieur de la liste. Il parcourt la liste jusqu'&agrave; la position correcte et ins&egrave;re le nouveau n&oelig;ud.</p></li></ul><p id="-1459793511#bz5h75_401">Enfin,</p><div class="code-block detached" id="-1459793511#bz5h75_402"><pre><code class="language-go">return nil
}</code></pre></div><p id="-1459793511#bz5h75_403">Cette ligne indique que la fonction a r&eacute;ussi, car elle s'ex&eacute;cute uniquement si aucune erreur ne s'est produite auparavant.</p></section><section><h3 id="-1459793511#removestart" data-toc="removestart#ch07s02-Section-2-Les-listes-chainees.md-removestart">RemoveStart</h3><p id="-1459793511#bz5h75_405">Supprime le premier &eacute;l&eacute;ment dans la liste li&eacute;e.</p><p id="-1459793511#bz5h75_406">Voici une explication plus d&eacute;taill&eacute;e :</p><div class="code-block detached" id="-1459793511#bz5h75_407"><pre><code class="language-go">func (list *IntList) RemoveStart() (int, error) {
	if list.start == nil {
		return 0, errors.New(&quot;empty list, cannot remove&quot;)
	}</code></pre></div><p id="-1459793511#bz5h75_408">D'abord, la m&eacute;thode v&eacute;rifie si la liste est vide en v&eacute;rifiant si <span class="inline-code" id="-1459793511#bz5h75_409">list.start</span> est <span class="inline-code" id="-1459793511#bz5h75_410">nil</span>. Si c'est le cas, une erreur est renvoy&eacute;e indiquant qu'on ne peut pas supprimer un &eacute;l&eacute;ment d'une liste vide.</p><div class="code-block detached" id="-1459793511#bz5h75_411"><pre><code class="language-go">element := list.start.value
	list.start = list.start.next
	list.size--</code></pre></div><p id="-1459793511#bz5h75_412">Ensuite, si la liste n'est pas vide, la m&eacute;thode extrait la valeur du premier &eacute;l&eacute;ment pour la retourner plus tard et met &agrave; jour le point de d&eacute;part de la liste pour passer &agrave; l'&eacute;l&eacute;ment suivant dans la liste. La <span class="inline-code" id="-1459793511#bz5h75_413">size</span> de la liste est d&eacute;cr&eacute;ment&eacute;e de 1.</p><div class="code-block detached" id="-1459793511#bz5h75_414"><pre><code class="language-go">if list.size == 0 {
    list.end = nil
}
return element, nil</code></pre></div><p id="-1459793511#bz5h75_415">Apr&egrave;s cela, si la taille de la liste devient maintenant 0, la fin de la liste est &eacute;galement mise &agrave; nil. Enfin, la m&eacute;thode retourne la valeur de l'&eacute;l&eacute;ment de d&eacute;part supprim&eacute; et aucune erreur puisque l'op&eacute;ration a r&eacute;ussi. S'il y a un probl&egrave;me avec la liste (comme si elle est vide), l'erreur sera non nulle.</p></section><section><h3 id="-1459793511#removeend" data-toc="removeend#ch07s02-Section-2-Les-listes-chainees.md-removeend">RemoveEnd()</h3><p id="-1459793511#bz5h75_417">Supprime le dernier &eacute;l&eacute;ment dans la liste li&eacute;e.</p><div class="code-block detached" id="-1459793511#bz5h75_418"><pre><code class="language-go">func (list *IntList) RemoveEnd() (int, error) {
	var element int
	// liste vide
	if list.end == nil {
		return element, errors.New(&quot;liste vide, impossible de supprimer&quot;)
	}
	if list.end == list.start {
		// seulement 1 élément dans la liste
		element = list.end.value
		list.start = nil
		list.end = nil
	} else {
		//au moins 2 éléments dans la liste
		newEnd := list.start
		for newEnd.next != list.end {
			newEnd = newEnd.next
		}
		element = list.end.value
		list.end = newEnd
		list.end.next = nil
	}
	list.size--
	return element, nil
}</code></pre></div><ul class="list" id="-1459793511#bz5h75_419" start="1"><li class="list-item" id="-1459793511#bz5h75_420"><p>La fonction essaie de supprimer un &eacute;l&eacute;ment de la fin de la liste.</p></li><li class="list-item" id="-1459793511#bz5h75_421"><p>Si la liste est vide (<span class="inline-code" id="-1459793511#bz5h75_422">list.end == nil</span>), elle renvoie une erreur indiquant &quot;liste vide, impossible de supprimer&quot;.</p></li><li class="list-item" id="-1459793511#bz5h75_423"><p>S'il n'y &agrave; qu'un seul &eacute;l&eacute;ment dans la liste (<span class="inline-code" id="-1459793511#bz5h75_424">list.start == list.end</span>), elle supprime l'&eacute;l&eacute;ment, puis d&eacute;finir <span class="inline-code" id="-1459793511#bz5h75_425">list.start</span> &amp; <span class="inline-code" id="-1459793511#bz5h75_426">list.end</span> &agrave; <span class="inline-code" id="-1459793511#bz5h75_427">nil</span>.</p></li><li class="list-item" id="-1459793511#bz5h75_428"><p>S'il y a plus d'un &eacute;l&eacute;ment, elle parcourt la liste jusqu'&agrave; ce qu'elle trouve l'avant-dernier &eacute;l&eacute;ment (<span class="inline-code" id="-1459793511#bz5h75_429">newEnd.next != list.end</span>). Elle supprime alors le dernier &eacute;l&eacute;ment en d&eacute;finissant <span class="inline-code" id="-1459793511#bz5h75_430">list.end</span> au <span class="inline-code" id="-1459793511#bz5h75_431">newEnd</span>, c'est-&agrave;-dire, l'avant-dernier devient le nouvel &eacute;l&eacute;ment de fin. Le suivant de <span class="inline-code" id="-1459793511#bz5h75_432">list.end</span> est d&eacute;fini &agrave; <span class="inline-code" id="-1459793511#bz5h75_433">nil</span>, supprimant toute r&eacute;f&eacute;rence au dernier &eacute;l&eacute;ment.</p></li><li class="list-item" id="-1459793511#bz5h75_434"><p>&Agrave; la fin, la taille de la liste est diminu&eacute;e de 1.</p></li></ul></section><section><h3 id="-1459793511#remove" data-toc="remove#ch07s02-Section-2-Les-listes-chainees.md-remove">Remove</h3><p id="-1459793511#bz5h75_436">Enlever un &eacute;l&eacute;ment &agrave; une position (un index) sp&eacute;cifi&eacute;.</p><div class="code-block detached" id="-1459793511#bz5h75_437"><pre><code class="language-go">func (list *IntList) Remove(pos int) (int, error) {
	switch {
	case pos &lt; 0 || pos &gt;= list.size:
		return 0, errors.New(&quot;invalid position&quot;)
	case pos == 0:
		return list.RemoveStart()
	case pos == list.size-1:
		return list.RemoveEnd()
	default:
		current := list.start
		for i := 0; i &lt; pos-1; i++ {
			current = current.next
		}
		element := current.next.value
		current.next = current.next.next
		list.size--
		return element, nil
	}
}</code></pre></div><p id="-1459793511#bz5h75_438">Cette fonction supprime un &eacute;l&eacute;ment de <span class="inline-code" id="-1459793511#bz5h75_439">IntList</span> &agrave; une position sp&eacute;cifi&eacute;e, <span class="inline-code" id="-1459793511#bz5h75_440">pos</span>, et renvoie cette valeur ainsi que toute erreur qui pourrait survenir.</p><ol class="list list-decimal" id="-1459793511#bz5h75_441" type="1" start="1"><li class="list-item" id="-1459793511#bz5h75_442"><p>Si <span class="inline-code" id="-1459793511#bz5h75_443">pos</span> est inf&eacute;rieur &agrave; 0 ou sup&eacute;rieur ou &eacute;gal &agrave; la taille de la liste, la fonction renvoie une erreur, car la position est invalide.</p></li><li class="list-item" id="-1459793511#bz5h75_444"><p>Si <span class="inline-code" id="-1459793511#bz5h75_445">pos</span> est 0, la m&eacute;thode <span class="inline-code" id="-1459793511#bz5h75_446">RemoveStart()</span> est appel&eacute;e, qui supprime le premier n&oelig;ud de la liste, et renvoie sa valeur.</p></li><li class="list-item" id="-1459793511#bz5h75_447"><p>Si <span class="inline-code" id="-1459793511#bz5h75_448">pos</span> &eacute;quivaut &agrave; <span class="inline-code" id="-1459793511#bz5h75_449">list.size - 1</span>, la m&eacute;thode <span class="inline-code" id="-1459793511#bz5h75_450">RemoveEnd()</span> est appel&eacute;e qui supprime le dernier &eacute;l&eacute;ment de la liste, et renvoie sa valeur.</p></li><li class="list-item" id="-1459793511#bz5h75_451"><p>Si <span class="inline-code" id="-1459793511#bz5h75_452">pos</span> est une position valide autre que 0 ou la fin de la liste, la fonction parcours la liste jusqu'&agrave; ce qu'elle atteigne <span class="inline-code" id="-1459793511#bz5h75_453">pos - 1</span> (le n&oelig;ud juste avant celui que nous voulons supprimer) puis &eacute;limine le n&oelig;ud <span class="inline-code" id="-1459793511#bz5h75_454">pos</span> en liant le pointeur <span class="inline-code" id="-1459793511#bz5h75_455">next</span> de <span class="inline-code" id="-1459793511#bz5h75_456">pos - 1</span> au n&oelig;ud suivant de <span class="inline-code" id="-1459793511#bz5h75_457">pos</span> (<span class="inline-code" id="-1459793511#bz5h75_458">pos + 1</span>), contournant ainsi le n&oelig;ud <span class="inline-code" id="-1459793511#bz5h75_459">pos</span>.</p></li><li class="list-item" id="-1459793511#bz5h75_460"><p>La taille de la liste est d&eacute;cr&eacute;ment&eacute;e de 1, signifiant qu'un n&oelig;ud a &eacute;t&eacute; supprim&eacute;.</p></li><li class="list-item" id="-1459793511#bz5h75_461"><p>La valeur du n&oelig;ud supprim&eacute; est retourn&eacute;e avec <span class="inline-code" id="-1459793511#bz5h75_462">nil</span> symbolisant qu'il n'y a pas eu d'erreurs.</p></li></ol></section></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-1599118020">Chapitre 8 : Fils d&apos;ex&eacute;cution</h1><p id="-1599118020#-g85zzz_25">Les <span class="emphasis" id="-1599118020#-g85zzz_31">threads</span>, aussi connus sous le nom de <span class="control" id="-1599118020#-g85zzz_32">fils d'ex&eacute;cution</span>, sont une fa&ccedil;on pour un programme d'effectuer plusieurs t&acirc;ches simultan&eacute;ment dans le m&ecirc;me espace de processus. Un processus peut contenir plusieurs <span class="emphasis" id="-1599118020#-g85zzz_33">threads</span>, tous partageant les m&ecirc;mes ressources, comme la m&eacute;moire, mais pouvant s'ex&eacute;cuter ind&eacute;pendamment les uns des autres.</p><p id="-1599118020#-g85zzz_26">Chaque <span class="emphasis" id="-1599118020#-g85zzz_34">thread</span> dans un processus fonctionne comme un flux s&eacute;quentiel unique d'ex&eacute;cution, signifiant qu'il suivra une s&eacute;quence d'instructions dans un ordre sp&eacute;cifi&eacute;. Cela permet aux applications d'ex&eacute;cuter diverses t&acirc;ches de mani&egrave;re simultan&eacute;e, comme g&eacute;rer des frappes au clavier pendant la lecture d'un disque dur.</p><p id="-1599118020#-g85zzz_27">Les <span class="emphasis" id="-1599118020#-g85zzz_35">threads</span> ont deux types principaux : les <span class="emphasis" id="-1599118020#-g85zzz_36">threads</span> utilisateur et les <span class="emphasis" id="-1599118020#-g85zzz_37">threads</span> noyau. Les <span class="emphasis" id="-1599118020#-g85zzz_38">threads</span> utilisateur sont g&eacute;r&eacute;s par l'application, et le syst&egrave;me d'exploitation n'en a pas connaissance. D'autre part, les <span class="emphasis" id="-1599118020#-g85zzz_39">threads</span> noyau sont reconnus par le syst&egrave;me d'exploitation et ont acc&egrave;s &agrave; ses ressources.</p><p id="-1599118020#-g85zzz_28"><span class="control" id="-1599118020#-g85zzz_40">Avoir plusieurs <span class="emphasis" id="-1599118020#-g85zzz_41">threads</span> dans un programme peut am&eacute;liorer l'efficacit&eacute; et la performance</span>, car plusieurs t&acirc;ches peuvent &ecirc;tre effectu&eacute;es en parall&egrave;le. <span class="control" id="-1599118020#-g85zzz_42">Cependant, cela peut &eacute;galement amener des probl&egrave;mes de complexit&eacute;, de synchronisation et de concurrence</span>. Par exemple, deux threads peuvent tenter d'acc&eacute;der &agrave; la m&ecirc;me ressource simultan&eacute;ment, provoquant une <span class="control" id="-1599118020#-g85zzz_43">situation de comp&eacute;tition</span> (un &eacute;tat de <span class="emphasis" id="-1599118020#-g85zzz_44">race condition</span>).</p><p id="-1599118020#-g85zzz_29">Il convient de noter que, bien que les <span class="emphasis" id="-1599118020#-g85zzz_45">threads</span> puissent offrir une efficacit&eacute; significative, leur utilisation et leur gestion n&eacute;cessitent une conception soigneuse pour <span class="control" id="-1599118020#-g85zzz_46">&eacute;viter des probl&egrave;mes comme les conditions de concurrence, les interblocages et les probl&egrave;mes de synchronisation</span>.</p><p id="-1599118020#-g85zzz_30">Dans ce chapitre, nous verrons les bases de l'utilisation de fils d'ex&eacute;cution dans le langage Go. Mais avant, il est bon de revenir sur la nature des fonctions en Go, et les diff&eacute;rentes fa&ccedil;ons d'utiliser les fonctions.</p></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-1690006333">Section 1 : Retour sur la nature des fonctions</h1><section><h2 id="-1690006333#les-fonctions-sont-des-citoyens-de-premi-re-classe" data-toc="les-fonctions-sont-des-citoyens-de-premi-re-classe#ch08s01-Section-1-Retour-sur-la-nature-des-fonctions.md-les-fonctions-sont-des-citoyens-de-premi-re-classe">Les fonctions sont des citoyens de premi&egrave;re classe</h2><p id="-1690006333#-x1mrpa_44">Quand on dit que _les fonctions sont des citoyens de premi&egrave;re classe- dans un langage de programmation, cela signifie que les fonctions peuvent &ecirc;tre utilis&eacute;es de la m&ecirc;me mani&egrave;re que n'importe quel autre type de donn&eacute;es du langage. Cela peut inclure :</p><ul class="list" id="-1690006333#-x1mrpa_45" start="1"><li class="list-item" id="-1690006333#-x1mrpa_46"><p>La capacit&eacute; d'affecter des fonctions &agrave; des variables ou de les stocker dans des structures de donn&eacute;es.</p></li><li class="list-item" id="-1690006333#-x1mrpa_47"><p>La possibilit&eacute; de passer une fonction en tant que param&egrave;tre &agrave; une autre fonction.</p></li><li class="list-item" id="-1690006333#-x1mrpa_48"><p>La possibilit&eacute; de retourner une fonction en tant que r&eacute;sultat d'une autre fonction.</p></li></ul><p id="-1690006333#-x1mrpa_49">En bref, une fonction est trait&eacute;e comme une entit&eacute; qui peut &ecirc;tre manipul&eacute;e par la syntaxe du langage, tout comme un entier, une cha&icirc;ne ou un objet. Ce concept est un &eacute;l&eacute;ment cl&eacute; des langages de programmation fonctionnelle, mais il est &eacute;galement pr&eacute;sent dans de nombreux langages de programmation imp&eacute;ratifs modernes.</p><p id="-1690006333#-x1mrpa_50">En ce qui concerne le langage Go, il traite &eacute;galement les fonctions comme des citoyens de premi&egrave;re classe. Voici un exemple dans Go :</p><div class="code-block detached" id="-1690006333#-x1mrpa_51"><pre><code class="language-go">// Déclaration d'une fonction qui retourne une autre fonction
func createAdder(x int) func(int) int {
    return func(y int) int {
        return x + y
    }
}

// Utilisation de cette fonction
adder := createAdder(10)
fmt.Println(adder(5)) // Affiche 15</code></pre></div><p id="-1690006333#-x1mrpa_52">Dans cet exemple, non seulement une fonction est retourn&eacute;e par une autre fonction, mais la fonction interne est une fermeture (<span class="emphasis" id="-1690006333#-x1mrpa_53">closure</span> en anglais), elle a &eacute;galement acc&egrave;s &agrave; l'argument de la fonction externe.</p><section><h3 id="-1690006333#fermeture" data-toc="fermeture#ch08s01-Section-1-Retour-sur-la-nature-des-fonctions.md-fermeture">Fermeture</h3><p id="-1690006333#-x1mrpa_54">Une fermeture, ou <span class="emphasis" id="-1690006333#-x1mrpa_55">closure</span> en anglais, est une fonction qui a acc&egrave;s aux variables de son contexte lexical, c'est-&agrave;-dire &agrave; la fonction ou l'environnement de code dans lequel elle a &eacute;t&eacute; d&eacute;finie. Une fermeture est capable de &quot;se rappeler&quot; et de manipuler ces variables, m&ecirc;me apr&egrave;s que la fonction dans laquelle elle a &eacute;t&eacute; d&eacute;finie ait termin&eacute; son ex&eacute;cution.</p><p id="-1690006333#-x1mrpa_56">Voyons cela avec un exemple en Go :</p><div class="code-block detached" id="-1690006333#-x1mrpa_57"><pre><code class="language-go">package main

import &quot;fmt&quot;

// Cette fonction crée une fermeture
func createAdder(x int) func(int) int {
    // La fonction retournée est une fermeture
    return func(y int) int {
        // Elle &quot;se souvient&quot; de la valeur de x
        return x + y
    }
}

func main() {
    adder := createAdder(10)
    fmt.Println(adder(5)) // Affiche 15
}</code></pre></div><p id="-1690006333#-x1mrpa_58">Dans cet exemple, la fonction <span class="inline-code" id="-1690006333#-x1mrpa_59">createAdder</span> retourne une autre fonction. Cette fonction retourn&eacute;e est une fermeture, parce qu'elle a acc&egrave;s &agrave; la variable <span class="inline-code" id="-1690006333#-x1mrpa_60">x</span> de <span class="inline-code" id="-1690006333#-x1mrpa_61">createAdder</span>. M&ecirc;me apr&egrave;s que <span class="inline-code" id="-1690006333#-x1mrpa_62">createAdder</span> ait fini de s'ex&eacute;cuter et ait renvoy&eacute; la fermeture, la fermeture peut toujours acc&eacute;der &agrave; <span class="inline-code" id="-1690006333#-x1mrpa_63">x</span>.</p><p id="-1690006333#-x1mrpa_64">En d'autres termes, la fermeture capte, ou &quot;emprisonne&quot; son environnement lexical, c'est-&agrave;-dire l'ensemble des variables auxquelles elle peut acc&eacute;der au moment de sa cr&eacute;ation. Ce m&eacute;canisme est tr&egrave;s puissant et est la base de nombreuses constructions de programmation fonctionnelle.</p><p id="-1690006333#-x1mrpa_65">Cependant, avec une grande puissance vient une grande responsabilit&eacute;. Il est important d'&ecirc;tre attentif lorsque vous travaillez avec des fermetures, car elles peuvent parfois conduire &agrave; des probl&egrave;mes de performance ou de m&eacute;moire si elles sont utilis&eacute;es de mani&egrave;re imprudente, par exemple en capturant accidentellement de grosses structures de donn&eacute;es.</p></section></section><section><h2 id="-1690006333#autre-exemple" data-toc="autre-exemple#ch08s01-Section-1-Retour-sur-la-nature-des-fonctions.md-autre-exemple">Autre exemple</h2><p id="-1690006333#-x1mrpa_66">En Go, vous pouvez aussi passer des fonctions en param&egrave;tres &agrave; d'autres fonctions et les stocker dans des structures de donn&eacute;es. Cela facilite l'&eacute;criture de fonctions de haut niveau qui peuvent manipuler les op&eacute;rations bas&eacute;es sur d'autres fonctions.</p><p id="-1690006333#-x1mrpa_67">Voici un autre exemple illustrant comment une fonction peut accepter une autre fonction en param&egrave;tre en Go.</p><p id="-1690006333#-x1mrpa_68">Supposons que nous ayons une fonction qui parcourt une tranche de nombres et applique une certaine fonction &agrave; chaque nombre :</p><div class="code-block detached" id="-1690006333#-x1mrpa_69"><pre><code class="language-go">package main

import &quot;fmt&quot;

// Notre fonction prend une tranche et une fonction en paramètre
func apply(nums []int, fn func(int) int) []int {
    result := make([]int, len(nums))
    for i, num := range nums {
        result[i] = fn(num)
    }
    return result
}

func main() {
    nums := []int{1, 2, 3, 4, 5}
  
    // Nous passons une fonction anonyme qui multiplie chaque nombre par 2
    doubled := apply(nums, func(n int) int {
        return n * 2
    })
  
    fmt.Println(doubled) // Affiche : [2 4 6 8 10]
}</code></pre></div><p id="-1690006333#-x1mrpa_70">Dans cet exemple, la fonction <span class="inline-code" id="-1690006333#-x1mrpa_71">apply</span> prend une fonction <span class="inline-code" id="-1690006333#-x1mrpa_72">fn</span> comme argument. Cette fonction <span class="inline-code" id="-1690006333#-x1mrpa_73">fn</span> est ensuite appliqu&eacute;e &agrave; chaque &eacute;l&eacute;ment de la liste <span class="inline-code" id="-1690006333#-x1mrpa_74">nums</span>. Ceci illustre que les fonctions en Go sont effectivement des citoyens de premi&egrave;re classe - elles peuvent &ecirc;tre pass&eacute;es comme arguments &agrave; d'autres fonctions.</p></section><section><h2 id="-1690006333#diff-rence-entre-appeler-une-fonction-et-passer-une-fonction-en-param-tre" data-toc="diff-rence-entre-appeler-une-fonction-et-passer-une-fonction-en-param-tre#ch08s01-Section-1-Retour-sur-la-nature-des-fonctions.md-diff-rence-entre-appeler-une-fonction-et-passer-une-fonction-en-param-tre">Diff&eacute;rence entre appeler une fonction et passer une fonction en param&egrave;tre</h2><p id="-1690006333#-x1mrpa_75">La diff&eacute;rence entre appeler une fonction et passer le r&eacute;sultat en param&egrave;tre &agrave; une fonction, et passer une fonction, sans l'appeler, &agrave; une autre fonction, peut &ecirc;tre une source de confusion courante. La diff&eacute;rence principale r&eacute;side dans le moment o&ugrave; la fonction est ex&eacute;cut&eacute;e.</p><p id="-1690006333#-x1mrpa_76">Si vous appelez une fonction et passez son r&eacute;sultat en tant que param&egrave;tre, cette fonction sera ex&eacute;cut&eacute;e imm&eacute;diatement, avant que l'autre fonction ne soit appel&eacute;e. Seule la valeur renvoy&eacute;e par cette fonction est pass&eacute;e en param&egrave;tre.</p><p id="-1690006333#-x1mrpa_77">Voici un exemple en Go :</p><div class="code-block detached" id="-1690006333#-x1mrpa_78"><pre><code class="language-go">package main

import &quot;fmt&quot;

func multiplyByTwo(n int) int {
    return n * 2
}

func printNumber(n int) {
    fmt.Println(n)
}

func main() {
    // La fonction multiplyByTwo est appelée immédiatement avec 10 comme argument
    // printNumber reçoit uniquement le résultat de cette fonction, soit 20.
    printNumber(multiplyByTwo(10))
}</code></pre></div><p id="-1690006333#-x1mrpa_79">Cependant, si vous passez une fonction en tant que param&egrave;tre &agrave; une autre fonction sans l'appeler, ce que vous transmettez est une r&eacute;f&eacute;rence &agrave; la fonction elle-m&ecirc;me, et non le r&eacute;sultat de son ex&eacute;cution. Cela vous permet d'appeler cette fonction &agrave; un moment ult&eacute;rieur dans le contexte de la deuxi&egrave;me fonction.</p><p id="-1690006333#-x1mrpa_80">Exemple :</p><div class="code-block detached" id="-1690006333#-x1mrpa_81"><pre><code class="language-go">package main

import &quot;fmt&quot;

func multiplyByTwo(n int) int {
    return n * 2
}

func printAfterOperation(n int, fn func(int) int) {
    fmt.Println(fn(n))
}

func main() {
    // Ici, multiplyByTwo est passé en tant que référence de fonction à printAfterOperation
    // Il ne sera exécuté qu'à l'intérieur de printAfterOperation, avec 10 comme argument
    printAfterOperation(10, multiplyByTwo)
}</code></pre></div><p id="-1690006333#-x1mrpa_82">Dans ce deuxi&egrave;me exemple, nous n'&eacute;valuons pas imm&eacute;diatement <span class="inline-code" id="-1690006333#-x1mrpa_83">multiplyByTwo</span>, mais nous la passons plut&ocirc;t comme une fonction &agrave; <span class="inline-code" id="-1690006333#-x1mrpa_84">printAfterOperation</span>. Cette deuxi&egrave;me fonction peut ensuite l'appeler avec ses propres arguments.</p></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="1136362239">Section 2 : Goroutines</h1><p id="1136362239#-qir2b5_44">Les <span class="control" id="1136362239#-qir2b5_45">goroutines</span> sont une des caract&eacute;ristiques du langage Go, qui facilitent la programmation concurrente. Une goroutine est une sorte de <span class="emphasis" id="1136362239#-qir2b5_46">thread</span> l&eacute;ger, mais g&eacute;r&eacute; par le <span class="emphasis" id="1136362239#-qir2b5_47">runtime</span> de Go et non par le syst&egrave;me d'exploitation. Vous pouvez d&eacute;marrer une goroutine simplement en utilisant le mot cl&eacute; <span class="inline-code" id="1136362239#-qir2b5_48">go</span> devant un appel de fonction.</p><section><h2 id="1136362239#exemple-avec-time-sleep" data-toc="exemple-avec-time-sleep#ch08s02-Section-2-Goroutines.md-exemple-avec-time-sleep">Exemple : avec time.Sleep</h2><p id="1136362239#-qir2b5_49">Voici un exemple simple qui illustre l'utilisation de goroutines :</p><div class="code-block detached" id="1136362239#-qir2b5_50"><pre><code class="language-go">package main

import (
	&quot;fmt&quot;
	&quot;time&quot;
)

func countdown(n int, id int) {
	for i := n; i &gt;= 0; i-- {
		fmt.Printf(&quot;goroutine %d : %d\n&quot;, id, i)
		time.Sleep(1 * time.Second)
	}
}

func main() {
	for i := 1; i &lt;= 4; i++ {
		go countdown(5, i) // Lancer la goroutine
	}
	time.Sleep(6 * time.Second) // Laisser du temps pour l'exécution des goroutines
}</code></pre></div><p id="1136362239#-qir2b5_51">Dans cet exemple, <span class="inline-code" id="1136362239#-qir2b5_52">countdown</span> est une fonction qui affiche le d&eacute;compte de <span class="inline-code" id="1136362239#-qir2b5_53">n</span> &agrave; <span class="inline-code" id="1136362239#-qir2b5_54">0</span>. En pr&eacute;fixant l'appel de fonction <span class="inline-code" id="1136362239#-qir2b5_55">countdown(5, i)</span> par le mot cl&eacute; <span class="inline-code" id="1136362239#-qir2b5_56">go</span> dans la boucle de la fonction <span class="inline-code" id="1136362239#-qir2b5_57">main</span>, Go cr&eacute;era une nouvelle goroutine pour chaque appel de fonction et commencera son ex&eacute;cution de mani&egrave;re concurrente.</p><p id="1136362239#-qir2b5_58">Le <span class="inline-code" id="1136362239#-qir2b5_59">time.Sleep</span> &agrave; la fin de la fonction <span class="inline-code" id="1136362239#-qir2b5_60">main</span> est n&eacute;cessaire pour emp&ecirc;cher que le programme principal ne se termine avant que les goroutines aient fini leur d&eacute;compte. En vrai code, vous devriez utiliser des m&eacute;canismes de synchronisation comme des groupes d'attentes (<span class="emphasis" id="1136362239#-qir2b5_61">WaitGroups</span>) ou des canaux (<span class="emphasis" id="1136362239#-qir2b5_62">channels</span>) pour contr&ocirc;ler l'ex&eacute;cution de vos goroutines, mais pour un exemple simple comme celui-ci, un simple <span class="inline-code" id="1136362239#-qir2b5_63">time.Sleep</span> suffit pour illustrer le principe.</p><p id="1136362239#-qir2b5_64">&Agrave; noter que l'ordre d'ex&eacute;cution pr&eacute;cis des goroutines n'est pas garanti et peut varier &agrave; chaque ex&eacute;cution. C'est l'un des d&eacute;fis de la programmation concurrente : la n&eacute;cessit&eacute; de bien synchroniser les diff&eacute;rentes t&acirc;ches pour &eacute;viter des conflits ou des comportements impr&eacute;visibles.</p></section><section><h2 id="1136362239#exemple-avec-canal" data-toc="exemple-avec-canal#ch08s02-Section-2-Goroutines.md-exemple-avec-canal">Exemple : avec canal</h2><div class="code-block detached" id="1136362239#-qir2b5_65"><pre><code class="language-go">package main

import (
	&quot;fmt&quot;
	&quot;time&quot;
)

// Nous ajoutons un canal done de type bool
func countdown(n int, id int, done chan&lt;- bool) {
	for i := n; i &gt;= 0; i-- {
		fmt.Printf(&quot;goroutine %d : %d\n&quot;, id, i)
		time.Sleep(1 * time.Second)
	}
	done &lt;- true // Envoie true sur le canal quand la goroutine a terminé
}

func main() {
	done := make(chan bool, 4) // Crée un canal de booléens avec une capacité de 4

	for i := 1; i &lt;= 4; i++ {
		go countdown(5, i, done) // démarre une goroutine et lui passe le canal done
	}

	for i := 1; i &lt;= 4; i++ {
		&lt;-done // Attend un vrai de chaque goroutine
	}
}</code></pre></div><p id="1136362239#-qir2b5_66">Dans cet exemple, nous avons modifi&eacute; la d&eacute;claration du canal <span class="inline-code" id="1136362239#-qir2b5_67">done</span> pour qu'il soit un canal de <span class="inline-code" id="1136362239#-qir2b5_68">bool</span>. Nous avons aussi ajout&eacute; une capacit&eacute; &agrave; la cr&eacute;ation du canal pour &eacute;viter un blocage si les goroutines finissent leur d&eacute;compte avant que <span class="inline-code" id="1136362239#-qir2b5_69">main</span> commence &agrave; recevoir sur le canal. Ensuite, nous envoyons <span class="inline-code" id="1136362239#-qir2b5_70">true</span> sur le canal <span class="inline-code" id="1136362239#-qir2b5_71">done</span> dans chaque goroutine apr&egrave;s qu'elle a fini son d&eacute;compte. Enfin, &agrave; la fin de <span class="inline-code" id="1136362239#-qir2b5_72">main</span>, nous recevons de chaque goroutine sur le canal <span class="inline-code" id="1136362239#-qir2b5_73">done</span> pour attendre qu'elle ait fini.</p></section><section><h2 id="1136362239#exemple-avec-waitgroup" data-toc="exemple-avec-waitgroup#ch08s02-Section-2-Goroutines.md-exemple-avec-waitgroup">Exemple avec WaitGroup</h2><p id="1136362239#-qir2b5_74">Le package <span class="inline-code" id="1136362239#-qir2b5_75">sync</span> de Go fournit une structure <span class="inline-code" id="1136362239#-qir2b5_76">WaitGroup</span> qui peut &ecirc;tre utilis&eacute;e pour synchroniser plusieurs goroutines. Voici comment on pourrait modifier notre exemple pour utiliser un <span class="inline-code" id="1136362239#-qir2b5_77">WaitGroup</span>:</p><div class="code-block detached" id="1136362239#-qir2b5_78"><pre><code class="language-go">package main

import (
	&quot;fmt&quot;
	&quot;sync&quot;
	&quot;time&quot;
)

func countdown(n int, id int, wg *sync.WaitGroup) {
	defer wg.Done() // Signale au WaitGroup que cette goroutine est terminée lorsque la fonction se termine
	for i := n; i &gt;= 0; i-- {
		fmt.Printf(&quot;goroutine %d : %d\n&quot;, id, i)
		time.Sleep(1 * time.Second)
	}
}

func main() {
	var wg sync.WaitGroup // Crée un WaitGroup

	for i := 1; i &lt;= 4; i++ {
		wg.Add(1) // Augmente le compteur du WaitGroup de 1
		go countdown(5, i, &amp;wg) // Démarre une goroutine avec le WaitGroup
	}

	wg.Wait() // Attend que toutes les goroutines signalent qu'elles sont terminées
}</code></pre></div><p id="1136362239#-qir2b5_79">La m&eacute;thode <span class="inline-code" id="1136362239#-qir2b5_80">Add</span> est utilis&eacute;e pour augmenter le compteur du <span class="inline-code" id="1136362239#-qir2b5_81">WaitGroup</span>. Chaque fois que nous lan&ccedil;ons une goroutine, nous augmentons le compteur de 1. La m&eacute;thode <span class="inline-code" id="1136362239#-qir2b5_82">Done</span> est appel&eacute;e pour diminuer le compteur lorsque la goroutine a fini son travail. Enfin, la m&eacute;thode <span class="inline-code" id="1136362239#-qir2b5_83">Wait</span> est utilis&eacute;e pour bloquer la goroutine actuelle (dans ce cas, la goroutine principale) jusqu'&agrave; ce que le compteur du <span class="inline-code" id="1136362239#-qir2b5_84">WaitGroup</span> atteigne z&eacute;ro, c'est-&agrave;-dire que toutes les goroutines qu'il attend ont signal&eacute; qu'elles sont termin&eacute;es. Cela nous permet d'attendre de mani&egrave;re s&ucirc;re et flexible l'ach&egrave;vement de toutes les goroutines.</p></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-1096117798">Section 3 : Canaux</h1><p id="-1096117798#xe7s3m_33">En informatique, un <span class="control" id="-1096117798#xe7s3m_38">canal</span> (ou <span class="emphasis" id="-1096117798#xe7s3m_39">channel</span> en anglais) est un m&eacute;canisme de communication utilis&eacute; pour transf&eacute;rer des donn&eacute;es entre des <span class="emphasis" id="-1096117798#xe7s3m_40">threads</span> concurrents, ou plus g&eacute;n&eacute;ralement entre des blocs de code concurrents. Les canaux sont particuli&egrave;rement utiles dans les syst&egrave;mes de programmation concurrente et parall&egrave;le pour aider &agrave; synchroniser l'ex&eacute;cution de diff&eacute;rents threads et &eacute;viter les conditions de concurrence.</p><p id="-1096117798#xe7s3m_34">Les canaux fonctionnent g&eacute;n&eacute;ralement sur le mod&egrave;le de la communication point &agrave; point, ce qui signifie que les donn&eacute;es sont envoy&eacute;es depuis un point (g&eacute;n&eacute;ralement un thread ou une goroutine) et re&ccedil;ues &agrave; un autre point. Cela permet de synchroniser les deux points de la communication : l'&eacute;metteur ne continue pas jusqu'&agrave; ce que les donn&eacute;es aient &eacute;t&eacute; re&ccedil;ues, et le r&eacute;cepteur ne continue pas jusqu'&agrave; ce qu'il ait re&ccedil;u des donn&eacute;es.</p><p id="-1096117798#xe7s3m_35">Dans le contexte de Go, les canaux sont un m&eacute;canisme de communication de premi&egrave;re classe, int&eacute;gr&eacute; au langage lui-m&ecirc;me. Go supporte des canaux typ&eacute;s qui peuvent &ecirc;tre utilis&eacute;s pour transmettre des donn&eacute;es de tout type entre des goroutines.</p><p id="-1096117798#xe7s3m_36">En Go, les canaux sont utilis&eacute;s en conjonction avec le mot-cl&eacute; <span class="inline-code" id="-1096117798#xe7s3m_41">go</span> pour d&eacute;marrer des goroutines et le mot-cl&eacute; <span class="inline-code" id="-1096117798#xe7s3m_42">chan</span> pour d&eacute;clarer des canaux. Les op&eacute;rations d'envoi et de r&eacute;ception sur les canaux sont r&eacute;alis&eacute;es en utilisant les op&eacute;rateurs <span class="inline-code" id="-1096117798#xe7s3m_43">&lt;-</span> et <span class="inline-code" id="-1096117798#xe7s3m_44">-&gt;</span>. Les canaux en Go sont &eacute;galement assortis de m&eacute;canismes de synchronisation : une op&eacute;ration d'envoi sur un canal non tamponn&eacute; bloquera jusqu'&agrave; ce qu'une goroutine ailleurs dans le programme ex&eacute;cute une op&eacute;ration de r&eacute;ception correspondante, et vice versa.</p><p id="-1096117798#xe7s3m_37">Par cons&eacute;quent, en Go, les canaux sont un moyen &eacute;l&eacute;gant et s&ucirc;r de g&eacute;rer la synchronisation et la communication entre goroutines, leur permettant de fonctionner ensemble de mani&egrave;re fluide et sans conflits.</p><section><h2 id="-1096117798#exemple-somme-des-l-ments-d-une-tranche-sans-goroutines" data-toc="exemple-somme-des-l-ments-d-une-tranche-sans-goroutines#ch08s03-Section-3-Canaux.md-exemple-somme-des-l-ments-d-une-tranche-sans-goroutines">Exemple : somme des &eacute;l&eacute;ments d'une tranche (sans goroutines)</h2><div class="code-block detached" id="-1096117798#xe7s3m_45"><pre><code class="language-go">package main

import &quot;fmt&quot;

func sumSlice(ints []int) int {
	sum := 0
	for _, num := range ints {
		sum += num
	}
	return sum
}

func main() {
	nums := []int{1, 2, 3, 4, 5, 6, 7, 8, 9, 10}
	fmt.Printf(&quot;La somme des numéros est : %d\n&quot;, sumSlice(nums))
}</code></pre></div></section><section><h2 id="-1096117798#exemple-somme-des-l-ments-d-une-tranche-avec-goroutines" data-toc="exemple-somme-des-l-ments-d-une-tranche-avec-goroutines#ch08s03-Section-3-Canaux.md-exemple-somme-des-l-ments-d-une-tranche-avec-goroutines">Exemple : somme des &eacute;l&eacute;ments d'une tranche (avec goroutines)</h2><div class="code-block detached" id="-1096117798#xe7s3m_46"><pre><code class="language-go">package main

import (
	&quot;fmt&quot;
)

func sumSlice(ints []int, results chan&lt;- int) {
	sum := 0
	for _, num := range ints {
		sum += num
	}
	results &lt;- sum
}

func parallelSum(nums []int) int {
	// Création du canal
	results := make(chan int)

	// Divise la slice et lance les goroutines.
	half := len(nums) / 2
	go sumSlice(nums[:half], results)
	go sumSlice(nums[half:], results)

	// Recevoir les résultats des goroutines et calcule la somme totale.
	sum1, sum2 := &lt;-results, &lt;-results

	return sum1 + sum2
}

func main() {
	nums := []int{1, 2, 3, 4, 5, 6, 7, 8, 9, 10}
	totalSum := parallelSum(nums)
	fmt.Printf(&quot;La somme des numéros est : %d\n&quot;, totalSum)
}</code></pre></div><p id="-1096117798#xe7s3m_47">Dans cet exemple, j'ai cr&eacute;&eacute; une nouvelle fonction <span class="inline-code" id="-1096117798#xe7s3m_48">parallelSum</span>. Au d&eacute;but de <span class="inline-code" id="-1096117798#xe7s3m_49">parallelSum</span>, nous cr&eacute;ons un canal de type <span class="inline-code" id="-1096117798#xe7s3m_50">int</span> appel&eacute; <span class="inline-code" id="-1096117798#xe7s3m_51">results</span>. Ensuite, la slice de nombres est divis&eacute;e en deux, avec chaque moiti&eacute; &eacute;tant pass&eacute;e &agrave; une nouvelle goroutine qui ex&eacute;cute la fonction <span class="inline-code" id="-1096117798#xe7s3m_52">sumSlice</span>. Chaque goroutine calcule sa somme partiellement et envoie le r&eacute;sultat sur le canal <span class="inline-code" id="-1096117798#xe7s3m_53">results</span>.</p><p id="-1096117798#xe7s3m_54">Dans <span class="inline-code" id="-1096117798#xe7s3m_55">parallelSum</span>, nous recevons les r&eacute;sultats des deux goroutines directement dans les variables <span class="inline-code" id="-1096117798#xe7s3m_56">sum1</span> et <span class="inline-code" id="-1096117798#xe7s3m_57">sum2</span> en utilisant l'op&eacute;ration de r&eacute;ception de canal (<span class="inline-code" id="-1096117798#xe7s3m_58">&lt;-chan</span>). Cela bloque la goroutine en cours (qui est la goroutine principale) jusqu'&agrave; ce que chaque goroutine ait envoy&eacute; son r&eacute;sultat, ce qui remplace effectivement le besoin d'un <span class="inline-code" id="-1096117798#xe7s3m_59">WaitGroup</span>.</p><p id="-1096117798#xe7s3m_60">Enfin, dans la fonction <span class="inline-code" id="-1096117798#xe7s3m_61">main</span>, nous appelons <span class="inline-code" id="-1096117798#xe7s3m_62">parallelSum</span> directement avec notre slice de nombres, et nous imprimons la valeur retourn&eacute;e qui repr&eacute;sente la somme totale de tous les nombres dans la slice.</p></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="1469899686">Section 4 : WaitGroup</h1><p id="1469899686#wb2gh6_23">En g&eacute;n&eacute;ral, dans le monde de la programmation parall&egrave;le, une structure similaire &agrave; un &quot;WaitGroup&quot; est souvent utilis&eacute;e pour synchroniser l'ex&eacute;cution de multiples threads. Le concept principal est d'avoir un moyen de notifier un certain morceau de code (qui pourrait &ecirc;tre un autre thread) que plusieurs autres t&acirc;ches ou threads ont termin&eacute; leur ex&eacute;cution.</p><p id="1469899686#wb2gh6_24">Un &quot;WaitGroup&quot; est g&eacute;n&eacute;ralement compos&eacute;e d'un compteur qui est incr&eacute;ment&eacute; chaque fois qu'une nouvelle t&acirc;che est lanc&eacute;e et d&eacute;cr&eacute;ment&eacute; chaque fois que cette t&acirc;che s'ach&egrave;ve. Une op&eacute;ration pour attendre (habituellement appel&eacute;e &quot;wait&quot;) va bloquer jusqu'&agrave; ce que le compteur atteigne z&eacute;ro, indiquant que toutes les t&acirc;ches ont termin&eacute; leur ex&eacute;cution.</p><p id="1469899686#wb2gh6_25">Dans le contexte de la programmation Go, un <span class="inline-code" id="1469899686#wb2gh6_28">WaitGroup</span> appartient au package <span class="inline-code" id="1469899686#wb2gh6_29">sync</span> et offre une mani&egrave;re simple et effective de synchroniser l'ex&eacute;cution de goroutines. C'est un compteur de t&acirc;ches. Le <span class="inline-code" id="1469899686#wb2gh6_30">WaitGroup</span> fournit principalement trois m&eacute;thodes : <span class="inline-code" id="1469899686#wb2gh6_31">Add</span>, <span class="inline-code" id="1469899686#wb2gh6_32">Done</span>, et <span class="inline-code" id="1469899686#wb2gh6_33">Wait</span>.</p><ul class="list" id="1469899686#wb2gh6_26" start="1"><li class="list-item" id="1469899686#wb2gh6_34"><p><span class="inline-code" id="1469899686#wb2gh6_35">Add</span> augmente le compteur de t&acirc;ches du <span class="inline-code" id="1469899686#wb2gh6_36">WaitGroup</span>. Il est utilis&eacute; pour informer le <span class="inline-code" id="1469899686#wb2gh6_37">WaitGroup</span> qu'il y a une nouvelle t&acirc;che &agrave; attendre.</p></li><li class="list-item" id="1469899686#wb2gh6_38"><p><span class="inline-code" id="1469899686#wb2gh6_39">Done</span> d&eacute;cr&eacute;mente le compteur de t&acirc;ches. Il est g&eacute;n&eacute;ralement mis &agrave; la fin de la goroutine pour indiquer que cette goroutine a termin&eacute; son ex&eacute;cution.</p></li><li class="list-item" id="1469899686#wb2gh6_40"><p><span class="inline-code" id="1469899686#wb2gh6_41">Wait</span> est utilis&eacute; pour bloquer l'ex&eacute;cution jusqu'&agrave; ce que le compteur de t&acirc;ches soit revenu &agrave; z&eacute;ro. Il est g&eacute;n&eacute;ralement utilis&eacute; l&agrave; o&ugrave; vous souhaitez attendre que les t&acirc;ches se terminent.</p></li></ul><p id="1469899686#wb2gh6_27">Ainsi, dans un programme Go, <span class="inline-code" id="1469899686#wb2gh6_42">WaitGroup</span> fournit un moyen simple, mais puissant de g&eacute;rer et attendre l'ach&egrave;vement de plusieurs goroutines. C'est tr&egrave;s utile lorsqu'un nombre dynamique de goroutines est cr&eacute;&eacute; ou lorsqu'un morceau de code d&eacute;pend de l'ach&egrave;vement d'un ensemble de goroutines.</p></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-809859632">Chapitre 9 : Interfaces graphiques</h1><p id="-809859632#i33bksa_26"><span class="control" id="-809859632#i33bksa_30">Fyne</span> est un outil moderne pour la construction de GUI (<span class="emphasis" id="-809859632#i33bksa_31">Graphical User Interface</span>) en utilisant le langage de programmation Go. Il offre une approche uniforme pour construire des applications pour plusieurs plates-formes, y compris Windows, MacOS, Linux, iOS et Android.</p><p id="-809859632#i33bksa_27">Voici quelques-unes des fonctionnalit&eacute;s de Fyne :</p><ul class="list" id="-809859632#i33bksa_28" start="1"><li class="list-item" id="-809859632#i33bksa_32"><p id="-809859632#i33bksa_33"><span class="control" id="-809859632#i33bksa_34">Facilit&eacute; d'utilisation</span>: Fyne est con&ccedil;u pour &ecirc;tre facile &agrave; utiliser. Le design de l'API est intentionnellement minimaliste et coh&eacute;rent pour aborder tous les aspects du d&eacute;veloppement d'interfaces utilisateur.</p></li><li class="list-item" id="-809859632#i33bksa_35"><p id="-809859632#i33bksa_36"><span class="control" id="-809859632#i33bksa_37">Responsive design</span>: Fyne utilise un design tactile et adaptatif, ce qui signifie que les applications fonctionneront bien sur les petites et grandes r&eacute;solutions d'&eacute;cran.</p></li><li class="list-item" id="-809859632#i33bksa_38"><p id="-809859632#i33bksa_39"><span class="control" id="-809859632#i33bksa_40">Th&egrave;mes</span>: Fyne est fourni avec des th&egrave;mes clairs et sombres que vous pouvez utiliser et &eacute;tendre.</p></li><li class="list-item" id="-809859632#i33bksa_41"><p id="-809859632#i33bksa_42"><span class="control" id="-809859632#i33bksa_43">Accessibilit&eacute;</span>: Fyne a &eacute;t&eacute; con&ccedil;u avec l'accessibilit&eacute; en t&ecirc;te, avec des fonctionnalit&eacute;s telles que le support du clavier et une API pour le support de la lecture d'&eacute;cran.</p></li><li class="list-item" id="-809859632#i33bksa_44"><p id="-809859632#i33bksa_45"><span class="control" id="-809859632#i33bksa_46">Internationalisation</span>: Fyne supporte l'internationalisation de votre interface utilisateur &agrave; travers des m&eacute;thodes simples pour localiser votre texte.</p></li></ul><p id="-809859632#i33bksa_29">Les exemples de ce chapitre sont bas&eacute;s en partie sur la documentation officielle (<a href="https://docs.fyne.io">https://docs.fyne.io</a>) et sur les exemples dans le d&eacute;p&ocirc;t Git (<a href="https://github.com/fyne-io/fyne">https://github.com/fyne-io/fyne</a>) du projet Fyne.</p></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-349098640">Exemple 1 : Allo</h1><p id="-349098640#y17564_58">Code (<a href="https://github.com/profdenis/native1/tree/master/chap9/01_allo">https://github.com/profdenis/native1/tree/master/chap9/01_allo</a>)</p><p id="-349098640#y17564_59">Cet exemple est une version du fameux &quot;Hello World!&quot; avec ube interface graphique simple construite en utilisant la biblioth&egrave;que Fyne. Il cr&eacute;e une fen&ecirc;tre d'application avec une &eacute;tiquette et un bouton.</p><p id="-349098640#y17564_60">Voici une explication d&eacute;taill&eacute;e :</p><ol class="list list-decimal" id="-349098640#y17564_61" type="1" start="1"><li class="list-item" id="-349098640#y17564_64"><p id="-349098640#y17564_65">Les trois premi&egrave;res lignes importent les packages n&eacute;cessaires pour cette application :</p><ul class="list" id="-349098640#y17564_66" start="1"><li class="list-item" id="-349098640#y17564_67"><p><span class="inline-code" id="-349098640#y17564_68">&quot;fyne.io/fyne/v2/app&quot;</span>: Ce package fournit le point d'entr&eacute;e de l'API Fyne. Il est utilis&eacute; pour cr&eacute;er une instance de l'application.</p></li><li class="list-item" id="-349098640#y17564_69"><p><span class="inline-code" id="-349098640#y17564_70">&quot;fyne.io/fyne/v2/container&quot;</span>: Le <span class="emphasis" id="-349098640#y17564_71">package</span> <span class="inline-code" id="-349098640#y17564_72">container</span> fournit des types qui peuvent contenir des <span class="emphasis" id="-349098640#y17564_73">widgets</span> ou des objets enfants.</p></li><li class="list-item" id="-349098640#y17564_74"><p><span class="inline-code" id="-349098640#y17564_75">&quot;fyne.io/fyne/v2/widget&quot;</span>: Le <span class="emphasis" id="-349098640#y17564_76">package</span> <span class="inline-code" id="-349098640#y17564_77">widget</span> fournit les blocs de construction de l'interface utilisateur, tels que les boutons et les &eacute;tiquettes.</p></li></ul></li><li class="list-item" id="-349098640#y17564_78"><p id="-349098640#y17564_79">Dans la fonction <span class="inline-code" id="-349098640#y17564_80">main</span>, <span class="inline-code" id="-349098640#y17564_81">a := app.New()</span> cr&eacute;e une nouvelle instance de l'application.</p></li><li class="list-item" id="-349098640#y17564_82"><p id="-349098640#y17564_83"><span class="inline-code" id="-349098640#y17564_84">w := a.NewWindow(&quot;Allo&quot;)</span> cr&eacute;e une fen&ecirc;tre d'application avec le titre <span class="inline-code" id="-349098640#y17564_85">&quot;Allo&quot;</span>.</p></li><li class="list-item" id="-349098640#y17564_86"><p id="-349098640#y17564_87"><span class="inline-code" id="-349098640#y17564_88">allo := widget.NewLabel(&quot;Allo&quot;)</span> cr&eacute;e un nouveau <span class="emphasis" id="-349098640#y17564_89">widget</span> d'&eacute;tiquette avec le texte &quot;Allo&quot;.</p></li><li class="list-item" id="-349098640#y17564_90"><p id="-349098640#y17564_91"><span class="inline-code" id="-349098640#y17564_92">w.SetContent(container.NewVBox(...))</span> d&eacute;finit le contenu de la fen&ecirc;tre avec un conteneur <span class="inline-code" id="-349098640#y17564_93">VBox</span>. La fonction <span class="inline-code" id="-349098640#y17564_94">NewVBox</span> fournit une fa&ccedil;on de disposer les <span class="emphasis" id="-349098640#y17564_95">widgets</span> verticalement. &Agrave; l'int&eacute;rieur de cette <span class="inline-code" id="-349098640#y17564_96">VBox</span>, vous avez deux <span class="emphasis" id="-349098640#y17564_97">widgets</span>:</p><ul class="list" id="-349098640#y17564_98" start="1"><li class="list-item" id="-349098640#y17564_99"><p>L'&eacute;tiquette <span class="inline-code" id="-349098640#y17564_100">allo</span>-Un bouton avec le texte <span class="inline-code" id="-349098640#y17564_101">&quot;Salut !&quot;</span>. Le deuxi&egrave;me param&egrave;tre est une fonction qui est appel&eacute;e lorsque le bouton est cliqu&eacute; - elle utilise la m&eacute;thode <span class="inline-code" id="-349098640#y17564_102">SetText</span> pour changer le texte de l'&eacute;tiquette <span class="inline-code" id="-349098640#y17564_103">allo</span> en <span class="inline-code" id="-349098640#y17564_104">&quot;Bienvenue 😀&quot;</span>.</p></li></ul></li><li class="list-item" id="-349098640#y17564_105"><p id="-349098640#y17564_106"><span class="inline-code" id="-349098640#y17564_107">w.ShowAndRun()</span> rend la fen&ecirc;tre visible et lance l'application.</p></li></ol><p id="-349098640#y17564_62">Donc, lorsque vous ex&eacute;cutez ce programme, il affichera une fen&ecirc;tre intitul&eacute;e <span class="inline-code" id="-349098640#y17564_108">&quot;Allo&quot;</span> avec une &eacute;tiquette montrant le texte <span class="inline-code" id="-349098640#y17564_109">&quot;Allo&quot;</span> et un bouton &eacute;tiquet&eacute; <span class="inline-code" id="-349098640#y17564_110">&quot;Salut !&quot;</span>. Lorsque vous cliquez sur le bouton <span class="inline-code" id="-349098640#y17564_111">&quot;Salut !&quot;</span>, le texte de l'&eacute;tiquette change pour <span class="inline-code" id="-349098640#y17564_112">&quot;Bienvenue 😀&quot;</span>.</p></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-552224670">Exemple 2 : Fen&ecirc;tres</h1><p id="-552224670#rqugmz_27">Code (<a href="https://github.com/profdenis/native1/tree/master/chap9/02_fenetres">https://github.com/profdenis/native1/tree/master/chap9/02_fenetres</a>)</p><p id="-552224670#rqugmz_28">Explications bloc par bloc :</p><div class="code-block detached" id="-552224670#rqugmz_29"><pre><code class="language-go">package main
import (
	&quot;fyne.io/fyne/v2&quot;
	&quot;fyne.io/fyne/v2/app&quot;
	&quot;fyne.io/fyne/v2/widget&quot;
)</code></pre></div><p id="-552224670#rqugmz_30">Ici, nous avons la d&eacute;claration du package principal, et il importe les packages Fyne n&eacute;cessaires pour cr&eacute;er une application GUI.</p><div class="code-block detached" id="-552224670#rqugmz_31"><pre><code class="language-go">func main() {
	a := app.New()</code></pre></div><p id="-552224670#rqugmz_32">La fonction <span class="inline-code" id="-552224670#rqugmz_40">main</span> est le point d'entr&eacute;e du programme Go. <span class="inline-code" id="-552224670#rqugmz_41">app.New()</span> cr&eacute;e une nouvelle application Fyne.</p><div class="code-block detached" id="-552224670#rqugmz_33"><pre><code class="language-go">w := a.NewWindow(&quot;Allo&quot;)
w.SetContent(widget.NewLabel(&quot;Allo&quot;))
w.SetMaster()
w.Show()</code></pre></div><p id="-552224670#rqugmz_34">Une fen&ecirc;tre intitul&eacute;e <span class="emphasis" id="-552224670#rqugmz_42">&quot;Allo&quot;</span> est cr&eacute;&eacute;e, avec une &eacute;tiquette qui dit aussi <span class="emphasis" id="-552224670#rqugmz_43">&quot;Allo&quot;</span>. <span class="inline-code" id="-552224670#rqugmz_44">setMaster()</span> indique que si cette fen&ecirc;tre est ferm&eacute;e, l'application enti&egrave;re doit se fermer. <span class="inline-code" id="-552224670#rqugmz_45">Show()</span> rend la fen&ecirc;tre visible.</p><div class="code-block detached" id="-552224670#rqugmz_35"><pre><code class="language-go">w2 := a.NewWindow(&quot;Plus grande&quot;)
button := widget.NewButton(&quot;Ouvrir&quot;, func() {
	w3 := a.NewWindow(&quot;Trois&quot;)
	w3.SetContent(widget.NewLabel(&quot;Trois&quot;))
	w3.Resize(fyne.NewSize(100, 100))
	w3.Show()
})
w2.SetContent(button)
w2.Resize(fyne.NewSize(200, 200))
w2.Show()</code></pre></div><p id="-552224670#rqugmz_36">Ce bloc cr&eacute;e une autre fen&ecirc;tre intitul&eacute;e <span class="emphasis" id="-552224670#rqugmz_46">&quot;Plus grande&quot;</span>, et la fen&ecirc;tre contient un bouton disant <span class="emphasis" id="-552224670#rqugmz_47">&quot;Ouvrir&quot;</span>. Lorsqu'on clique dessus, le bouton ouvre une troisi&egrave;me fen&ecirc;tre intitul&eacute;e <span class="emphasis" id="-552224670#rqugmz_48">&quot;Trois&quot;</span>. La taille des fen&ecirc;tres est &eacute;galement d&eacute;finie ici.</p><div class="code-block detached" id="-552224670#rqugmz_37"><pre><code class="language-go">a.Run()
}</code></pre></div><p id="-552224670#rqugmz_38">Enfin, <span class="inline-code" id="-552224670#rqugmz_49">a.Run()</span> ex&eacute;cute la boucle d'&eacute;v&eacute;nement de l'application Fyne qui se poursuivrait jusqu'&agrave; ce que toutes les fen&ecirc;tres soient ferm&eacute;es ou que la fonction <span class="inline-code" id="-552224670#rqugmz_50">Quit()</span> soit appel&eacute;e.</p></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-881638354">Exemple 3 : Horloge</h1><p id="-881638354#-j8yzcg_41">Code (<a href="https://github.com/profdenis/native1/tree/master/chap9/03_horloge">https://github.com/profdenis/native1/tree/master/chap9/03_horloge</a>)</p><p id="-881638354#-j8yzcg_42">Cet exemple est une application Go qui affiche l'heure actuelle dans une fen&ecirc;tre. L'heure est mise &agrave; jour chaque seconde.</p><p id="-881638354#-j8yzcg_43">Voici une br&egrave;ve explication de chaque partie :</p><div class="code-block detached" id="-881638354#-j8yzcg_44"><pre><code class="language-go">package main
import (
	&quot;fyne.io/fyne/v2/app&quot;
	&quot;fyne.io/fyne/v2/widget&quot;
	&quot;time&quot;
)</code></pre></div><p id="-881638354#-j8yzcg_45">Ceci d&eacute;finit le package <span class="inline-code" id="-881638354#-j8yzcg_55">main</span> et importe les biblioth&egrave;ques n&eacute;cessaires : <span class="inline-code" id="-881638354#-j8yzcg_56">fyne.io/fyne/v2/app</span> pour cr&eacute;er l'application, <span class="inline-code" id="-881638354#-j8yzcg_57">fyne.io/fyne/v2/widget</span> pour les widgets de l'interface utilisateur, et <span class="inline-code" id="-881638354#-j8yzcg_58">time</span> pour obtenir et formater l'heure actuelle.</p><div class="code-block detached" id="-881638354#-j8yzcg_46"><pre><code class="language-go">func main() {
	a := app.New()
	w := a.NewWindow(&quot;Clock&quot;)
	clock := widget.NewLabel(&quot;&quot;)
	updateTimeLabel(clock)
	w.SetContent(clock)</code></pre></div><p id="-881638354#-j8yzcg_47">Dans la fonction <span class="inline-code" id="-881638354#-j8yzcg_59">main</span>, une nouvelle application Fyne est instanci&eacute;e avec <span class="inline-code" id="-881638354#-j8yzcg_60">app.New()</span>. Ensuite, une fen&ecirc;tre intitul&eacute;e <span class="emphasis" id="-881638354#-j8yzcg_61">&quot;Clock&quot;</span> est cr&eacute;&eacute;e avec <span class="inline-code" id="-881638354#-j8yzcg_62">a.NewWindow(&quot;Clock&quot;)</span>. Un <span class="inline-code" id="-881638354#-j8yzcg_63">widget</span> de type <span class="inline-code" id="-881638354#-j8yzcg_64">Label</span>, qui affichera l'heure actuelle, est cr&eacute;&eacute; avec <span class="inline-code" id="-881638354#-j8yzcg_65">widget.NewLabel(&quot;&quot;)</span> et son texte est d&eacute;fini avec la fonction <span class="inline-code" id="-881638354#-j8yzcg_66">updateTimeLabel(clock)</span>. Ce label est ensuite d&eacute;fini comme le contenu de la fen&ecirc;tre.</p><div class="code-block detached" id="-881638354#-j8yzcg_48"><pre><code class="language-go">go func() {
	for range time.Tick(time.Second) {
		updateTimeLabel(clock)
	}
}()</code></pre></div><p id="-881638354#-j8yzcg_49">Ceci est une goroutine, qui s'ex&eacute;cute simultan&eacute;ment avec la fonction principale. Elle utilise une boucle <span class="inline-code" id="-881638354#-j8yzcg_67">for ... range</span> pour attendre chaque <span class="inline-code" id="-881638354#-j8yzcg_68">tick</span> (chaque seconde) de <span class="inline-code" id="-881638354#-j8yzcg_69">time.Tick(time.Second)</span>. Chaque fois qu'elle re&ccedil;oit un <span class="inline-code" id="-881638354#-j8yzcg_70">tick</span>, elle met &agrave; jour le texte de l'&eacute;tiquette avec l'heure actuelle en utilisant la fonction <span class="inline-code" id="-881638354#-j8yzcg_71">updateTimeLabel(clock)</span>.</p><div class="code-block detached" id="-881638354#-j8yzcg_50"><pre><code class="language-go">w.ShowAndRun()
}</code></pre></div><p id="-881638354#-j8yzcg_51"><span class="inline-code" id="-881638354#-j8yzcg_72">w.ShowAndRun()</span> affiche la fen&ecirc;tre et ex&eacute;cute la boucle d'&eacute;v&eacute;nements de l'application. Cela permet &agrave; l'application de rester en cours d'ex&eacute;cution jusqu'&agrave; ce que la fen&ecirc;tre soit ferm&eacute;e par l'utilisateur.</p><div class="code-block detached" id="-881638354#-j8yzcg_52"><pre><code class="language-go">func updateTimeLabel(clock *widget.Label) {
	formatted := time.Now().Format(&quot;L'heure est 03:04:05&quot;)
	clock.SetText(formatted)
}</code></pre></div><p id="-881638354#-j8yzcg_53">Dans la fonction <span class="inline-code" id="-881638354#-j8yzcg_73">updateTimeLabel</span>, l'heure actuelle est r&eacute;cup&eacute;r&eacute;e avec <span class="inline-code" id="-881638354#-j8yzcg_74">time.Now()</span>, puis format&eacute;e en une cha&icirc;ne <span class="emphasis" id="-881638354#-j8yzcg_75">&quot;L'heure est 03:04:05&quot;</span> avec <span class="inline-code" id="-881638354#-j8yzcg_76">Format(&quot;L'heure est 03:04:05&quot;)</span>. La cha&icirc;ne format&eacute;e est ensuite d&eacute;finie comme texte pour l'&eacute;tiquette <span class="inline-code" id="-881638354#-j8yzcg_77">clock</span> avec <span class="inline-code" id="-881638354#-j8yzcg_78">clock.SetText(formatted)</span>.</p></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-1113374634">Exemple 4 : Entr&eacute;e de texte</h1><p id="-1113374634#jy0pd3_35">Code (<a href="https://github.com/profdenis/native1/tree/master/chap9/04_entree_texte">https://github.com/profdenis/native1/tree/master/chap9/04_entree_texte</a>)</p><p id="-1113374634#jy0pd3_36">Ceci est un exemple qui montre comment permettre &agrave; un utilisateur d'entrer du texte, et d'associer une fonction &agrave; un &eacute;v&eacute;nement sur la bo&icirc;te de texte :</p><p id="-1113374634#jy0pd3_37">La fonction <span class="inline-code" id="-1113374634#jy0pd3_46">makeUI</span> est d&eacute;clar&eacute;e, elle cr&eacute;e et renvoie une nouvelle bo&icirc;te verticale (<span class="inline-code" id="-1113374634#jy0pd3_47">fyne.Container</span>) contenant une &eacute;tiquette (<span class="inline-code" id="-1113374634#jy0pd3_48">widget.NewLabel</span>) et un champ d'entr&eacute;e (<span class="inline-code" id="-1113374634#jy0pd3_49">widget.NewEntry</span>).</p><p id="-1113374634#jy0pd3_38">La fonction <span class="inline-code" id="-1113374634#jy0pd3_50">main</span> est le point d'entr&eacute;e de l'application :</p><ul class="list" id="-1113374634#jy0pd3_39" start="1"><li class="list-item" id="-1113374634#jy0pd3_51"><p><span class="inline-code" id="-1113374634#jy0pd3_52">app.New()</span> initialise une nouvelle application Fyne.</p></li><li class="list-item" id="-1113374634#jy0pd3_53"><p><span class="inline-code" id="-1113374634#jy0pd3_54">a.NewWindow(&quot;&Eacute;v&eacute;nement&quot;)</span> cr&eacute;e une nouvelle fen&ecirc;tre avec le titre &quot;&Eacute;v&eacute;nement&quot;.</p></li><li class="list-item" id="-1113374634#jy0pd3_55"><p><span class="inline-code" id="-1113374634#jy0pd3_56">w.SetContent(makeUI())</span> d&eacute;finit le contenu de la fen&ecirc;tre &agrave; l'interface utilisateur cr&eacute;&eacute;e par <span class="inline-code" id="-1113374634#jy0pd3_57">makeUI</span>.</p></li><li class="list-item" id="-1113374634#jy0pd3_58"><p><span class="inline-code" id="-1113374634#jy0pd3_59">w.ShowAndRun()</span> affiche la fen&ecirc;tre et d&eacute;marre la boucle principale de l'application, bloquant jusqu'&agrave; ce que l'application soit ferm&eacute;e.</p></li></ul><p id="-1113374634#jy0pd3_40">Dans la fonction <span class="inline-code" id="-1113374634#jy0pd3_60">makeUI</span>, un gestionnaire d'&eacute;v&eacute;nement <span class="inline-code" id="-1113374634#jy0pd3_61">OnChanged</span> est d&eacute;fini pour le champ d'entr&eacute;e, ce qui signifie que chaque fois que le texte dans le champ d'entr&eacute;e est modifi&eacute;, la fonction gestionnaire est appel&eacute;e :</p><ul class="list" id="-1113374634#jy0pd3_41" start="1"><li class="list-item" id="-1113374634#jy0pd3_62"><p>Cette fonction met &agrave; jour le texte de l'&eacute;tiquette (<span class="inline-code" id="-1113374634#jy0pd3_63">out</span>) pour montrer le texte actuel du champ d'entr&eacute;e (<span class="inline-code" id="-1113374634#jy0pd3_64">content</span>), pr&eacute;fix&eacute; par <span class="emphasis" id="-1113374634#jy0pd3_65">&quot;Texte : &quot;</span>.</p></li></ul><p id="-1113374634#jy0pd3_42">Une ligne comment&eacute;e est incluse dans la fonction <span class="inline-code" id="-1113374634#jy0pd3_66">makeUI</span>:</p><div class="code-block detached" id="-1113374634#jy0pd3_43"><pre><code class="language-go">//in.Password = true</code></pre></div><p id="-1113374634#jy0pd3_44">Si cette ligne est d&eacute;comment&eacute;e, elle convertira le champ d'entr&eacute;e de texte en champ de mot de passe, cachant les caract&egrave;res entr&eacute;s.</p></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="145350209">Exemple 5 : Contenants</h1><p id="145350209#llebsd_8">Code (<a href="https://github.com/profdenis/native1/tree/master/chap9/05_container">https://github.com/profdenis/native1/tree/master/chap9/05_container</a>)</p><p id="145350209#llebsd_9">Exemple simple qui montre comment utiliser diff&eacute;rents types de contenants (<span class="inline-code" id="145350209#llebsd_11">container</span>). Toutes les lignes commen&ccedil;ant par <span class="inline-code" id="145350209#llebsd_12">w.SetContent</span> devraient &ecirc;tre comment&eacute;es, sauf une, celle du contenant que l'on veut tester.</p></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="263949245">Exemple 6 : Fichiers</h1><p id="263949245#h16blx_82">Code (<a href="https://github.com/profdenis/native1/tree/master/chap9/06_fichiers">https://github.com/profdenis/native1/tree/master/chap9/06_fichiers</a>)</p><p id="263949245#h16blx_83">Ce programme Go est un &eacute;diteur Markdown simple utilisant la bo&icirc;te &agrave; outils GUI Fyne.</p><p id="263949245#h16blx_84">La fonction <span class="inline-code" id="263949245#h16blx_96">main</span> est le point d'entr&eacute;e de l'application Go. Elle initialise une nouvelle application Fyne <span class="inline-code" id="263949245#h16blx_97">a</span>, cr&eacute;e une nouvelle fen&ecirc;tre <span class="inline-code" id="263949245#h16blx_98">w</span>, cr&eacute;e deux entr&eacute;es <span class="inline-code" id="263949245#h16blx_99">src</span> et <span class="inline-code" id="263949245#h16blx_100">dst</span> avec la fonction <span class="inline-code" id="263949245#h16blx_101">makeSrcDstEntries</span>, et arrange ces entr&eacute;es &agrave; l'int&eacute;rieur d'un <span class="emphasis" id="263949245#h16blx_102">container</span> <span class="inline-code" id="263949245#h16blx_103">split</span> horizontal.</p><p id="263949245#h16blx_85">Le contenu de la fen&ecirc;tre <span class="inline-code" id="263949245#h16blx_104">w</span> est d&eacute;fini par les <span class="emphasis" id="263949245#h16blx_105">containers</span> qui contiennen des boutons et le container <span class="inline-code" id="263949245#h16blx_106">split</span>. Deux boutons, <span class="emphasis" id="263949245#h16blx_107">&quot;Ouvrir&quot;</span> et <span class="emphasis" id="263949245#h16blx_108">&quot;Enregistrer&quot;</span> sont responsables de l'appel des fonctions <span class="inline-code" id="263949245#h16blx_109">getOpenButtonFunc</span> et une fonction anonyme une fois cliqu&eacute;s, respectivement, qui g&egrave;rent les op&eacute;rations de lecture/&eacute;criture. Le <span class="inline-code" id="263949245#h16blx_110">w.Resize(fyne.NewSize(800, 600))</span> ajuste la taille de la fen&ecirc;tre et <span class="inline-code" id="263949245#h16blx_111">w.ShowAndRun()</span> fait appara&icirc;tre la fen&ecirc;tre et ex&eacute;cute la boucle principale de l'&eacute;v&eacute;nement de l'application.</p><div class="code-block detached" id="263949245#h16blx_86"><pre><code class="language-go">func getOpenButtonFunc(w fyne.Window, src *widget.Entry, dst *widget.RichText) func() {...}</code></pre></div><p id="263949245#h16blx_87">La fonction <span class="inline-code" id="263949245#h16blx_112">getOpenButtonFunc</span> met en place la fonctionnalit&eacute; du bouton &quot;Ouvrir&quot;, qui ouvrira une bo&icirc;te de dialogue de fichier o&ugrave; les utilisateurs peuvent choisir un fichier markdown (&quot;.md&quot;) &agrave; charger dans la fen&ecirc;tre Fyne.</p><div class="code-block detached" id="263949245#h16blx_88"><pre><code class="language-go">func getOpenFileDialogFunc(w fyne.Window, src *widget.Entry, dst *widget.RichText) func(reader fyne.URIReadCloser, err error) {...}</code></pre></div><p id="263949245#h16blx_89">La fonction <span class="inline-code" id="263949245#h16blx_113">getOpenFileDialogFunc</span> est utilis&eacute;e pour g&eacute;rer l'ouverture du fichier s&eacute;lectionn&eacute; &agrave; partir de la bo&icirc;te de dialogue. Elle lit le fichier (en supposant un fichier markdown) et d&eacute;finit le contenu &agrave; <span class="inline-code" id="263949245#h16blx_114">src</span> et <span class="inline-code" id="263949245#h16blx_115">dst</span>. Elle imprime &eacute;galement toutes les erreurs rencontr&eacute;es.</p><div class="code-block detached" id="263949245#h16blx_90"><pre><code class="language-go">func makeSrcDstEntries() (*widget.Entry, *widget.RichText) {...}</code></pre></div><p id="263949245#h16blx_91">La fonction <span class="inline-code" id="263949245#h16blx_116">makeSrcDstEntries</span> d&eacute;finit les entr&eacute;es <span class="inline-code" id="263949245#h16blx_117">src</span> et <span class="inline-code" id="263949245#h16blx_118">dst</span> en tant que widgets Fyne : <span class="inline-code" id="263949245#h16blx_119">src</span> est un champ d'entr&eacute;e multiligne et <span class="inline-code" id="263949245#h16blx_120">dst</span> est un champ RichText. La propri&eacute;t&eacute; <span class="inline-code" id="263949245#h16blx_121">src.OnChanged</span> est d&eacute;finie &agrave; une fonction pour mettre &agrave; jour <span class="inline-code" id="263949245#h16blx_122">dst</span> chaque fois que le contenu de <span class="inline-code" id="263949245#h16blx_123">src</span> change (en supposant un contenu markdown).</p><div class="code-block detached" id="263949245#h16blx_92"><pre><code class="language-go">func getCurrentDirURI() (fyne.ListableURI, error) {...}</code></pre></div><p id="263949245#h16blx_93">La fonction <span class="inline-code" id="263949245#h16blx_124">getCurrentDirURI</span> est utilis&eacute;e pour obtenir l'URI du r&eacute;pertoire courant. Elle est appel&eacute;e &agrave; la fois par la fonction <span class="inline-code" id="263949245#h16blx_125">getOpenButtonFunc</span> ainsi que par la fonction &quot;Enregistrer&quot; pour d&eacute;finir l'emplacement initial des bo&icirc;tes de dialogue de fichier.</p><p id="263949245#h16blx_94">La derni&egrave;re fonction anonyme associ&eacute;e au bouton <span class="emphasis" id="263949245#h16blx_126">&quot;Enregistrer&quot;</span> est utilis&eacute;e pour g&eacute;rer l'enregistrement des fichiers. Lorsque le bouton est cliqu&eacute;, une bo&icirc;te de dialogue d'enregistrement de fichier s'ouvre et permet aux utilisateurs de choisir un emplacement pour sauvegarder un fichier. Il cr&eacute;e ou &eacute;crase un fichier .md avec le texte actuellement dans le widget d'entr&eacute;e <span class="inline-code" id="263949245#h16blx_127">src</span>.</p><section><h2 id="263949245#getopenbuttonfunc-et-getopenfiledialogfunc-plus-en-d-tails" data-toc="getopenbuttonfunc-et-getopenfiledialogfunc-plus-en-d-tails#ch09s06-Exemple-6-Fichiers.md-getopenbuttonfunc-et-getopenfiledialogfunc-plus-en-d-tails">getOpenButtonFunc et getOpenFileDialogFunc plus en d&eacute;tails</h2><div class="code-block detached" id="263949245#h16blx_129"><pre><code class="language-go">func getOpenButtonFunc(w fyne.Window, src *widget.Entry, dst *widget.RichText) func() {
	return func() {
		fd := dialog.NewFileOpen(getOpenFileDialogFunc(w, src, dst), w)
		fd.SetFilter(storage.NewExtensionFileFilter([]string{&quot;.md&quot;}))
		listableUri, err := getCurrentDirURI()
		if err != nil {
			dialog.ShowError(err, w)
			return
		}
		fd.SetLocation(listableUri)
		fd.Show()
	}
}</code></pre></div><p id="263949245#h16blx_130">Ici, <span class="inline-code" id="263949245#h16blx_131">getOpenButtonFunc</span> retourne une fonction qui, lorsqu'elle est invoqu&eacute;e, cr&eacute;e une bo&icirc;te de dialogue de fichier en appelant <span class="inline-code" id="263949245#h16blx_132">dialog.NewFileOpen()</span>. La bo&icirc;te de dialogue cr&eacute;&eacute;e sera utilis&eacute;e pour ouvrir un fichier <span class="inline-code" id="263949245#h16blx_133">.md</span> s&eacute;lectionn&eacute; par l'utilisateur.</p><ul class="list" id="263949245#h16blx_134" start="1"><li class="list-item" id="263949245#h16blx_135"><p><span class="inline-code" id="263949245#h16blx_136">getOpenFileDialogFunc(w, src, dst)</span> est une fonction de rappel pour g&eacute;rer l'ouverture du fichier.</p></li><li class="list-item" id="263949245#h16blx_137"><p><span class="inline-code" id="263949245#h16blx_138">fd.SetFilter(storage.NewExtensionFileFilter([]string{&quot;.md&quot;}))</span> restreint les fichiers visibles &agrave; ceux ayant une extension <span class="inline-code" id="263949245#h16blx_139">.md</span>.</p></li><li class="list-item" id="263949245#h16blx_140"><p><span class="inline-code" id="263949245#h16blx_141">getCurrentDirURI()</span> est utilis&eacute; pour obtenir l'URI du r&eacute;pertoire de travail actuel et le d&eacute;finir comme emplacement par d&eacute;faut pour la bo&icirc;te de dialogue de fichier.</p></li><li class="list-item" id="263949245#h16blx_142"><p><span class="inline-code" id="263949245#h16blx_143">fd.Show()</span> affichera la bo&icirc;te de dialogue de fichier &agrave; l'utilisateur.</p></li></ul><p id="263949245#h16blx_144">La fonction de rappel pour g&eacute;rer l'ouverture du fichier est d&eacute;finie comme suit :</p><div class="code-block detached" id="263949245#h16blx_145"><pre><code class="language-go">func getOpenFileDialogFunc(w fyne.Window, src *widget.Entry, dst *widget.RichText) func(reader fyne.URIReadCloser, err error) {
	return func(reader fyne.URIReadCloser, err error) {
		if err != nil {
			dialog.ShowError(err, w)
			return
		}
		if reader == nil {
			log.Println(&quot;Annulé&quot;)
			return
		}
		data, err := io.ReadAll(reader)
		if err != nil {
			fmt.Println(err)
		}
		src.SetText(string(data))
		dst.ParseMarkdown(string(data))
	}
}</code></pre></div><p id="263949245#h16blx_146">Cette fonction retourne une autre fonction qui fait ce qui suit lorsqu'elle est invoqu&eacute;e :</p><ul class="list" id="263949245#h16blx_147" start="1"><li class="list-item" id="263949245#h16blx_148"><p>Elle v&eacute;rifie et affiche toute erreur potentielle.</p></li><li class="list-item" id="263949245#h16blx_149"><p>Si <span class="inline-code" id="263949245#h16blx_150">reader</span> est <span class="inline-code" id="263949245#h16blx_151">nil</span>, elle consigne <span class="inline-code" id="263949245#h16blx_152">&quot;Annul&eacute;&quot;</span>.</p></li><li class="list-item" id="263949245#h16blx_153"><p>Elle lit toutes les donn&eacute;es du fichier, fixe le texte comme contenu de <span class="inline-code" id="263949245#h16blx_154">src</span> (un <span class="inline-code" id="263949245#h16blx_155">widget.Entry</span>), et transforme le texte en format Markdown dans <span class="inline-code" id="263949245#h16blx_156">dst</span> (un <span class="inline-code" id="263949245#h16blx_157">widget.RichText</span>), pour le pr&eacute;visualiser dans l'autre partie de la fen&ecirc;tre de l'application.</p></li></ul><p id="263949245#h16blx_158">Les fonctions anonymes pour le bouton <span class="emphasis" id="263949245#h16blx_159">&quot;Enregistrer&quot;</span> sont similaires en termes de structure, mais la fonction est inverse, c.-&agrave;-d. que le texte contenu dans <span class="inline-code" id="263949245#h16blx_160">src</span> est enregistr&eacute; dans le fichier s&eacute;lectionn&eacute; &agrave; la place d'&ecirc;tre lu et affich&eacute;.</p></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="1054789333">Exemple 7 : Menu</h1><p id="1054789333#-2o9vfi_96">Code (<a href="https://github.com/profdenis/native1/tree/master/chap9/07_menu">https://github.com/profdenis/native1/tree/master/chap9/07_menu</a>)</p><p id="1054789333#-2o9vfi_97">La fonction <span class="inline-code" id="1054789333#-2o9vfi_100">main</span> cr&eacute;e une nouvelle application Fyne, une fen&ecirc;tre au sein de cette application avec le titre <span class="emphasis" id="1054789333#-2o9vfi_101">&quot;Exemple 07 : Menu et raccourcis&quot;</span>, ainsi que des labels et des champs de texte. Voici une explication plus d&eacute;taill&eacute;e ligne par ligne :</p><ul class="list" id="1054789333#-2o9vfi_98" start="1"><li class="list-item" id="1054789333#-2o9vfi_102"><p id="1054789333#-2o9vfi_103"><span class="inline-code" id="1054789333#-2o9vfi_104">a := app.New()</span> initialise une nouvelle application Fyne.</p></li><li class="list-item" id="1054789333#-2o9vfi_105"><p id="1054789333#-2o9vfi_106"><span class="inline-code" id="1054789333#-2o9vfi_107">w := a.NewWindow(&quot;Exemple 07 : Menu et raccourcis&quot;)</span> cr&eacute;e une nouvelle fen&ecirc;tre dans cette application avec le titre donn&eacute;.</p></li><li class="list-item" id="1054789333#-2o9vfi_108"><p id="1054789333#-2o9vfi_109"><span class="inline-code" id="1054789333#-2o9vfi_110">src, dst := makeSrcDstEntries()</span> initialise <span class="inline-code" id="1054789333#-2o9vfi_111">src</span> et <span class="inline-code" id="1054789333#-2o9vfi_112">dst</span>, o&ugrave; <span class="inline-code" id="1054789333#-2o9vfi_113">src</span> est un champ de texte &agrave; lignes multiples et <span class="inline-code" id="1054789333#-2o9vfi_114">dst</span> est un widget affichant du texte enrichi. L'entr&eacute;e <span class="inline-code" id="1054789333#-2o9vfi_115">dst</span> se met &agrave; jour pour afficher le texte de l'entr&eacute;e <span class="inline-code" id="1054789333#-2o9vfi_116">src</span> analys&eacute; en tant que Markdown.</p></li><li class="list-item" id="1054789333#-2o9vfi_117"><p id="1054789333#-2o9vfi_118">Ensuite, il cr&eacute;e un &eacute;l&eacute;ment de menu <span class="emphasis" id="1054789333#-2o9vfi_119">&quot;Ouvrir&quot;</span> qui d&eacute;clenche l'ouverture d'une bo&icirc;te de dialogue pour s&eacute;lectionner un fichier Markdown (<span class="inline-code" id="1054789333#-2o9vfi_120">.md</span>). Le contenu du document s&eacute;lectionn&eacute; est d&eacute;fini dans les entr&eacute;es <span class="inline-code" id="1054789333#-2o9vfi_121">src</span> et <span class="inline-code" id="1054789333#-2o9vfi_122">dst</span> de l'application. Cet &eacute;l&eacute;ment de menu est &eacute;galement li&eacute; au raccourci clavier <span class="inline-code" id="1054789333#-2o9vfi_123">Ctrl-O</span>.</p></li><li class="list-item" id="1054789333#-2o9vfi_124"><p id="1054789333#-2o9vfi_125">Un menu principal (<span class="inline-code" id="1054789333#-2o9vfi_126">mainMenu</span>) est ensuite cr&eacute;&eacute;, qui comprend l'&eacute;l&eacute;ment de menu <span class="emphasis" id="1054789333#-2o9vfi_127">&quot;Ouvrir&quot;</span> et un &eacute;l&eacute;ment de menu <span class="emphasis" id="1054789333#-2o9vfi_128">&quot;Enregistrer&quot;</span>. Lorsque l'on clique sur l'&eacute;l&eacute;ment de menu <span class="emphasis" id="1054789333#-2o9vfi_129">&quot;Enregistrer&quot;</span>, une bo&icirc;te de dialogue de fichier s'ouvre pour sauvegarder le contenu actuel de l'entr&eacute;e <span class="inline-code" id="1054789333#-2o9vfi_130">src</span> en tant que fichier Markdown.</p></li><li class="list-item" id="1054789333#-2o9vfi_131"><p id="1054789333#-2o9vfi_132"><span class="inline-code" id="1054789333#-2o9vfi_133">w.SetMainMenu(mainMenu)</span> d&eacute;finit le <span class="inline-code" id="1054789333#-2o9vfi_134">mainMenu</span> dans la fen&ecirc;tre.</p></li><li class="list-item" id="1054789333#-2o9vfi_135"><p id="1054789333#-2o9vfi_136">Un s&eacute;parateur (ou diviseur) horizontal est cr&eacute;&eacute;, qui s&eacute;pare les entr&eacute;es <span class="inline-code" id="1054789333#-2o9vfi_137">src</span> et <span class="inline-code" id="1054789333#-2o9vfi_138">dst</span>.</p></li><li class="list-item" id="1054789333#-2o9vfi_139"><p id="1054789333#-2o9vfi_140"><span class="inline-code" id="1054789333#-2o9vfi_141">w.SetContent(container.NewBorder(filename, nil, nil, nil, split))</span> cr&eacute;e un nouveau conteneur avec le label <span class="inline-code" id="1054789333#-2o9vfi_142">filename</span>, qui est mis &agrave; jour avec le chemin du fichier actuellement ouvert, en haut, et le s&eacute;parateur cr&eacute;&eacute; au centre.</p></li><li class="list-item" id="1054789333#-2o9vfi_143"><p id="1054789333#-2o9vfi_144"><span class="inline-code" id="1054789333#-2o9vfi_145">w.Resize(fyne.NewSize(800, 600))</span> d&eacute;finit ensuite la taille de la fen&ecirc;tre &agrave; <span class="inline-code" id="1054789333#-2o9vfi_146">800x600</span> pixels.</p></li><li class="list-item" id="1054789333#-2o9vfi_147"><p id="1054789333#-2o9vfi_148"><span class="inline-code" id="1054789333#-2o9vfi_149">w.ShowAndRun()</span> affiche enfin la fen&ecirc;tre et commence la boucle principale de l'application.</p></li></ul><section><h2 id="1054789333#construction-du-menu-et-des-raccourcis" data-toc="construction-du-menu-et-des-raccourcis#ch09s07-Exemple-7-Menu.md-construction-du-menu-et-des-raccourcis">Construction du menu et des raccourcis</h2><ol class="list list-decimal" id="1054789333#-2o9vfi_150" type="1" start="1"><li class="list-item" id="1054789333#-2o9vfi_151"><p id="1054789333#-2o9vfi_152">Un &eacute;l&eacute;ment de menu <span class="emphasis" id="1054789333#-2o9vfi_153">&quot;Ouvrir&quot;</span> est cr&eacute;&eacute; avec l'appel <span class="inline-code" id="1054789333#-2o9vfi_154">fyne.NewMenuItem(&quot;Open&quot;, getOpenMenuFunc(w, src, dst, filename))</span>. Ici, <span class="emphasis" id="1054789333#-2o9vfi_155">&quot;Open&quot;</span> est le texte qui appara&icirc;tra dans l'&eacute;l&eacute;ment de menu, et <span class="inline-code" id="1054789333#-2o9vfi_156">getOpenMenuFunc(w, src, dst, filename)</span> est la fonction qui sera ex&eacute;cut&eacute;e lorsque l'&eacute;l&eacute;ment de menu sera cliqu&eacute;. La fonction <span class="inline-code" id="1054789333#-2o9vfi_157">getOpenMenuFunc</span> retourne une autre fonction qui ouvre un dialogue de s&eacute;lection de fichier lorsque l'utilisateur clique sur le bouton &quot;Open&quot;. Le fichier s&eacute;lectionn&eacute; sera lu et son contenu sera affich&eacute; dans les widgets <span class="inline-code" id="1054789333#-2o9vfi_158">src</span> et <span class="inline-code" id="1054789333#-2o9vfi_159">dst</span>.</p></li><li class="list-item" id="1054789333#-2o9vfi_160"><p id="1054789333#-2o9vfi_161">L'ic&ocirc;ne et le raccourci de l'&eacute;l&eacute;ment de menu <span class="emphasis" id="1054789333#-2o9vfi_162">&quot;Ouvrir&quot;</span> sont d&eacute;finis avec les deux instructions suivantes :</p><div class="code-block detached" id="1054789333#-2o9vfi_163"><pre><code class="language-go">openMenuItem.Icon = theme.DocumentIcon()
openMenuItem.Shortcut = &amp;desktop.CustomShortcut{
        KeyName:  fyne.KeyO,
        Modifier: fyne.KeyModifierShortcutDefault,
}</code></pre></div><p id="1054789333#-2o9vfi_164">Ici, <span class="inline-code" id="1054789333#-2o9vfi_165">theme.DocumentIcon()</span> est une ic&ocirc;ne standard pr&eacute;sente dans la biblioth&egrave;que Fyne et <span class="inline-code" id="1054789333#-2o9vfi_166">desktop.CustomShortcut{KeyName: fyne.KeyO, Modifier: fyne.KeyModifierShortcutDefault}</span> est un raccourci qui sera d&eacute;clench&eacute; lorsque l'utilisateur appuie sur <span class="emphasis" id="1054789333#-2o9vfi_167">&quot;Cmd+O&quot;</span> (sur macOS) ou <span class="emphasis" id="1054789333#-2o9vfi_168">&quot;Ctrl+O&quot;</span> (sur Windows/Linux).</p></li><li class="list-item" id="1054789333#-2o9vfi_169"><p id="1054789333#-2o9vfi_170">Le raccourci est &eacute;galement ajout&eacute; au Canvas de la fen&ecirc;tre avec <span class="inline-code" id="1054789333#-2o9vfi_171">w.Canvas().AddShortcut(openMenuItem.Shortcut, func(shortcut fyne.Shortcut) { getOpenMenuFunc(w, src, dst, filename)() })</span>. Cela permet au raccourci d'&ecirc;tre &eacute;cout&eacute; &agrave; tout moment lorsque la fen&ecirc;tre est en focus, et pas seulement lorsque le menu est d&eacute;roul&eacute;.</p></li><li class="list-item" id="1054789333#-2o9vfi_172"><p id="1054789333#-2o9vfi_173">Un menu <span class="emphasis" id="1054789333#-2o9vfi_174">&quot;Fichier&quot;</span> contenant les &eacute;l&eacute;ments de menu <span class="emphasis" id="1054789333#-2o9vfi_175">&quot;Ouvrir&quot;</span> et <span class="emphasis" id="1054789333#-2o9vfi_176">&quot;Enregistrer&quot;</span> est cr&eacute;&eacute; avec <span class="inline-code" id="1054789333#-2o9vfi_177">fyne.NewMenu(&quot;File&quot;, openMenuItem, fyne.NewMenuItem(&quot;Save&quot;, getSaveMenuFunc(w, src)))</span>. Lorsque l'&eacute;l&eacute;ment de menu <span class="emphasis" id="1054789333#-2o9vfi_178">&quot;Save&quot;</span> est cliqu&eacute;, il d&eacute;clenche &eacute;galement un dialogue de s&eacute;lection de fichier, mais cette fois pour sauver le contenu des deux zones de texte <span class="inline-code" id="1054789333#-2o9vfi_179">src</span> et <span class="inline-code" id="1054789333#-2o9vfi_180">dst</span> dans un fichier.</p></li><li class="list-item" id="1054789333#-2o9vfi_181"><p id="1054789333#-2o9vfi_182">Enfin, le menu principal de la fen&ecirc;tre est d&eacute;fini avec <span class="inline-code" id="1054789333#-2o9vfi_183">w.SetMainMenu(fyne.NewMainMenu(mainMenu))</span>.</p></li></ol><p id="1054789333#-2o9vfi_184">Donc, essentiellement, le menu est construit en ajoutant des <span class="inline-code" id="1054789333#-2o9vfi_185">MenuItem</span> individuels &agrave; un <span class="inline-code" id="1054789333#-2o9vfi_186">Menu</span>, qui est ensuite ajout&eacute; &agrave; un <span class="inline-code" id="1054789333#-2o9vfi_187">MainMenu</span> qui est d&eacute;fini comme le menu principal de la fen&ecirc;tre. Chaque <span class="inline-code" id="1054789333#-2o9vfi_188">MenuItem</span> peut avoir une fonction associ&eacute;e qui sera d&eacute;clench&eacute;e lors du clic sur cet &eacute;l&eacute;ment de menu, ainsi qu'un raccourci clavier qui peut d&eacute;clencher la m&ecirc;me fonction.</p></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="761221312">Exemple 8 : Listes</h1><p id="761221312#-mez7q4_80">Code (<a href="https://github.com/profdenis/native1/tree/master/chap9/08_listes">https://github.com/profdenis/native1/tree/master/chap9/08_listes</a>)</p><p id="761221312#-mez7q4_81">La fonction <span class="inline-code" id="761221312#-mez7q4_86">main</span>: Cette fonction initialise une instance d'application en utilisant <span class="inline-code" id="761221312#-mez7q4_87">app.New()</span>, et cr&eacute;e une nouvelle fen&ecirc;tre intitul&eacute;e <span class="emphasis" id="761221312#-mez7q4_88">&quot;Exemple 08: listes&quot;</span>. Elle cr&eacute;e ensuite des onglets interactifs sur la fen&ecirc;tre en utilisant la fonction <span class="inline-code" id="761221312#-mez7q4_89">makeTabs</span>, d&eacute;finit le contenu de la fen&ecirc;tre sur ces onglets, d&eacute;finit la taille de la fen&ecirc;tre et enfin, affiche la fen&ecirc;tre et d&eacute;marre la boucle d'&eacute;v&eacute;nements de l'application.</p><p id="761221312#-mez7q4_82">La fonction <span class="inline-code" id="761221312#-mez7q4_90">makeTabs(win fyne.Window) *container.AppTabs { ... }</span>: Cette fonction cr&eacute;e deux listes : une pour des nombres et une pour des personnes. Ces listes sont pass&eacute;es &agrave; <span class="inline-code" id="761221312#-mez7q4_91">container.NewAppTabs()</span>, qui cr&eacute;e des onglets pour chaque liste. La fonction <span class="inline-code" id="761221312#-mez7q4_92">container.NewTabItem()</span> est utilis&eacute;e pour cr&eacute;er des onglets individuels &agrave; partir de ces listes.</p><p id="761221312#-mez7q4_83">La fonction <span class="inline-code" id="761221312#-mez7q4_93">makeNumbersList() *container.Scroll { ... }</span>: Cette fonction cr&eacute;e une liste d&eacute;roulante de nombres. Le tableau de nombres est utilis&eacute; pour d&eacute;finir les &eacute;l&eacute;ments de la liste. Chaque &eacute;l&eacute;ment de la liste est une &eacute;tiquette affichant un nombre du tableau, et la s&eacute;lection d'un &eacute;l&eacute;ment incr&eacute;mente le nombre correspondant.</p><p id="761221312#-mez7q4_84">La fonction <span class="inline-code" id="761221312#-mez7q4_94">makePersonList(win fyne.Window) *container.Scroll { ... }</span>: Cette fonction est similaire &agrave; <span class="inline-code" id="761221312#-mez7q4_95">makeNumbersList()</span>, mais elle cr&eacute;e une liste d&eacute;roulante de personnes &agrave; la place. Chaque personne est affich&eacute;e comme une &eacute;tiquette dans la liste, et la s&eacute;lection d'une personne affiche une bo&icirc;te de dialogue d'information avec le nom de la personne s&eacute;lectionn&eacute;e.</p><section><h2 id="761221312#fonction-makenumberslist" data-toc="fonction-makenumberslist#ch09s08-Exemple-8-Listes.md-fonction-makenumberslist">Fonction makeNumbersList()</h2><p id="761221312#-mez7q4_97">La fonction <span class="inline-code" id="761221312#-mez7q4_98">makeNumbersList()</span> dans le code Go fourni est utilis&eacute;e pour cr&eacute;er une liste d&eacute;roulante de nombres. Voici une explication des diff&eacute;rentes parties de la fonction :</p><ol class="list list-decimal" id="761221312#-mez7q4_99" type="1" start="1"><li class="list-item" id="761221312#-mez7q4_100"><p id="761221312#-mez7q4_101">La fonction <span class="inline-code" id="761221312#-mez7q4_102">makeNumbersList()</span> renvoie un pointeur vers un <span class="inline-code" id="761221312#-mez7q4_103">container.Scroll</span>, qui est un type de conteneur d&eacute;roulant dans la biblioth&egrave;que Fyne.</p></li><li class="list-item" id="761221312#-mez7q4_104"><p id="761221312#-mez7q4_105">Un tableau d'entiers appel&eacute; <span class="inline-code" id="761221312#-mez7q4_106">numbers</span> est initialis&eacute; avec un ensemble de nombres.</p></li><li class="list-item" id="761221312#-mez7q4_107"><p id="761221312#-mez7q4_108">La fonction <span class="inline-code" id="761221312#-mez7q4_109">widget.NewList</span> est utilis&eacute;e pour cr&eacute;er un nouveau widget de liste. Cette fonction accepte trois arguments :</p><ol class="list list-decimal" id="761221312#-mez7q4_110" type="1" start="1"><li class="list-item" id="761221312#-mez7q4_111"><p id="761221312#-mez7q4_112">Une fonction qui renvoie le nombre d'&eacute;l&eacute;ments dans la liste, dans ce cas la longueur de <span class="inline-code" id="761221312#-mez7q4_113">numbers</span>.</p></li><li class="list-item" id="761221312#-mez7q4_114"><p id="761221312#-mez7q4_115">Une fonction qui renvoie une nouvelle instance de l'objet qui constituera chaque &eacute;l&eacute;ment de la liste. Dans ce cas, elle renvoie une &eacute;tiquette avec le texte <span class="emphasis" id="761221312#-mez7q4_116">&quot;Item&quot;</span>.</p></li><li class="list-item" id="761221312#-mez7q4_117"><p id="761221312#-mez7q4_118">Une fonction qui est appel&eacute;e pour mettre &agrave; jour les propri&eacute;t&eacute;s d'un &eacute;l&eacute;ment lorsqu'il devient visible. Ici, cette fonction d&eacute;finit le texte de l'&eacute;tiquette de chaque &eacute;l&eacute;ment pour afficher son index num&eacute;rique dans la liste et la valeur correspondante de la tranche <span class="inline-code" id="761221312#-mez7q4_119">numbers</span>.</p></li></ol></li><li class="list-item" id="761221312#-mez7q4_120"><p id="761221312#-mez7q4_121"><span class="inline-code" id="761221312#-mez7q4_122">list.OnSelected</span> est un gestionnaire d'&eacute;v&eacute;nements qui est d&eacute;clench&eacute; lorsqu'un &eacute;l&eacute;ment de liste est s&eacute;lectionn&eacute;. Ici, il est d&eacute;fini pour incr&eacute;menter la valeur dans la tranche <span class="inline-code" id="761221312#-mez7q4_123">numbers</span> &agrave; l'index de l'&eacute;l&eacute;ment s&eacute;lectionn&eacute;, puis rafra&icirc;chir l'affichage de l'&eacute;l&eacute;ment.</p></li><li class="list-item" id="761221312#-mez7q4_124"><p id="761221312#-mez7q4_125">Le widget de liste est plac&eacute; dans un conteneur d&eacute;roulant en utilisant <span class="inline-code" id="761221312#-mez7q4_126">container.NewVScroll(list)</span> et est renvoy&eacute; depuis la fonction.</p></li></ol></section><section><h2 id="761221312#fonction-makepersonlist" data-toc="fonction-makepersonlist#ch09s08-Exemple-8-Listes.md-fonction-makepersonlist">Fonction makePersonList()</h2><p id="761221312#-mez7q4_128">Semblable &agrave; <span class="inline-code" id="761221312#-mez7q4_129">makeNumbersList()</span>, <span class="inline-code" id="761221312#-mez7q4_130">makePersonList()</span> cr&eacute;e &eacute;galement un widget de liste mais &agrave; la place des &eacute;l&eacute;ments num&eacute;riques, les &eacute;l&eacute;ments <span class="inline-code" id="761221312#-mez7q4_131">Person</span> sont cr&eacute;&eacute;s.</p><p id="761221312#-mez7q4_132">D&eacute;cortiquons en d&eacute;tail la fonction <span class="inline-code" id="761221312#-mez7q4_133">makePersonList</span>:</p><div class="code-block detached" id="761221312#-mez7q4_134"><pre><code class="language-go">func makePersonList(win fyne.Window) *container.Scroll {</code></pre></div><p id="761221312#-mez7q4_135">Il s'agit d'une d&eacute;claration de fonction <span class="inline-code" id="761221312#-mez7q4_136">makePersonList</span> qui prend un param&egrave;tre <span class="inline-code" id="761221312#-mez7q4_137">fyne.Window</span> et renvoie un <span class="inline-code" id="761221312#-mez7q4_138">*container.Scroll</span>.</p><div class="code-block detached" id="761221312#-mez7q4_139"><pre><code class="language-go">people := []Person{
	{Name: &quot;John&quot;, Age: 30},
	{Name: &quot;Jane&quot;, Age: 25},
	{Name: &quot;Alice&quot;, Age: 35},
}</code></pre></div><p id="761221312#-mez7q4_140">Un tableau de type <span class="inline-code" id="761221312#-mez7q4_141">Person</span> avec trois &eacute;l&eacute;ments est d&eacute;clar&eacute; et initialis&eacute;.</p><div class="code-block detached" id="761221312#-mez7q4_142"><pre><code class="language-go">list := widget.NewList(
	func() int {
		return len(people)
	},
	func() fyne.CanvasObject {
		return widget.NewLabel(&quot;Personne&quot;)
	},
	func(id widget.ListItemID, item fyne.CanvasObject) {
		person := people[id]
		item.(*widget.Label).SetText(fmt.Sprintf(&quot;Nom : %s, Âge : %d&quot;, person.Name, person.Age))
	},
)</code></pre></div><p id="761221312#-mez7q4_143">Un <span class="inline-code" id="761221312#-mez7q4_144">widget.List</span> est cr&eacute;&eacute;.</p><ul class="list" id="761221312#-mez7q4_145" start="1"><li class="list-item" id="761221312#-mez7q4_146"><p id="761221312#-mez7q4_147">La premi&egrave;re fonction appelle <span class="inline-code" id="761221312#-mez7q4_148">len(people)</span> pour obtenir le nombre d'&eacute;l&eacute;ments de la liste.</p></li><li class="list-item" id="761221312#-mez7q4_149"><p id="761221312#-mez7q4_150">La deuxi&egrave;me fonction cr&eacute;e un nouvel objet &eacute;tiquette pour chaque &eacute;l&eacute;ment.</p></li><li class="list-item" id="761221312#-mez7q4_151"><p id="761221312#-mez7q4_152">La troisi&egrave;me fonction d&eacute;finit le texte pour chaque &eacute;tiquette afin d'afficher le nom et l'&acirc;ge de la personne.</p></li></ul><div class="code-block detached" id="761221312#-mez7q4_153"><pre><code class="language-go">list.OnSelected = func(id widget.ListItemID) {
	out := fmt.Sprintf(&quot;Personne sélectionnée : %s&quot;, people[id].Name)
	dialog.ShowInformation(fmt.Sprintf(&quot;Personne %d&quot;, id), out, win)
}</code></pre></div><p id="761221312#-mez7q4_154">Une fonction de gestion d'&eacute;v&eacute;nement, pour quand un &eacute;l&eacute;ment est s&eacute;lectionn&eacute;, est d&eacute;finie. Cette fonction affiche une bo&icirc;te de dialogue avec le nom de la personne s&eacute;lectionn&eacute;e.</p><div class="code-block detached" id="761221312#-mez7q4_155"><pre><code class="language-go">return container.NewVScroll(list)</code></pre></div><p id="761221312#-mez7q4_156">La fonction se termine en cr&eacute;ant un nouveau conteneur de d&eacute;filement vertical pour la liste et en le renvoyant.</p></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="280028766">Exemple 9: MP3</h1><p id="280028766#srhi0y_5">Code (<a href="https://github.com/profdenis/native1/tree/master/chap9/09_mp3">https://github.com/profdenis/native1/tree/master/chap9/09_mp3</a>)</p><p id="280028766#srhi0y_6">Ce programme Go est une application graphique minimale qui permet &agrave; l'utilisateur d'ouvrir et de lire des fichiers MP3.</p><p id="280028766#srhi0y_7">Voici une r&eacute;partition du code bloc par fonction :</p><ol class="list list-decimal" id="280028766#srhi0y_8" type="1" start="1"><li class="list-item" id="280028766#srhi0y_13"><p id="280028766#srhi0y_14"><span class="inline-code" id="280028766#srhi0y_15">func main()</span>:</p><ul class="list" id="280028766#srhi0y_16" start="1"><li class="list-item" id="280028766#srhi0y_17"><p>C'est le point d'entr&eacute;e du programme.</p></li><li class="list-item" id="280028766#srhi0y_18"><p>Il cr&eacute;e une nouvelle application et une nouvelle fen&ecirc;tre avec le titre &quot;MP3&quot;.</p></li><li class="list-item" id="280028766#srhi0y_19"><p>Dans la fen&ecirc;tre, il cr&eacute;e un nouveau bouton intitul&eacute; &quot;Ouvrir&quot;. Ce bouton execute la fonction retourn&eacute;e par <span class="inline-code" id="280028766#srhi0y_20">getOpenButtonFunc(w)</span> lorsqu'on clique dessus.</p></li><li class="list-item" id="280028766#srhi0y_21"><p>La taille de la fen&ecirc;tre est d&eacute;finie &agrave; 600 par 300 unit&eacute;s et est affich&eacute;e avant de lancer la boucle d'&eacute;v&eacute;nements de l'application.</p></li></ul></li><li class="list-item" id="280028766#srhi0y_22"><p id="280028766#srhi0y_23"><span class="inline-code" id="280028766#srhi0y_24">func getOpenButtonFunc(w fyne.Window) func()</span>:</p><ul class="list" id="280028766#srhi0y_25" start="1"><li class="list-item" id="280028766#srhi0y_26"><p>Cette fonction retourne une fonction anonyme qui s'ex&eacute;cute lorsque le bouton &quot;Ouvrir&quot; est press&eacute;.</p></li><li class="list-item" id="280028766#srhi0y_27"><p>Elle ouvre une bo&icirc;te de dialogue de fichier qui permet &agrave; l'utilisateur de s&eacute;lectionner un fichier .mp3 dans le r&eacute;pertoire de travail actuel.</p></li><li class="list-item" id="280028766#srhi0y_28"><p>La fonction retourn&eacute;e par <span class="inline-code" id="280028766#srhi0y_29">getOpenFileDialogFunc(w)</span> est d&eacute;clench&eacute;e lorsque l'utilisateur s&eacute;lectionne un fichier ou annule la bo&icirc;te de dialogue.</p></li></ul></li><li class="list-item" id="280028766#srhi0y_30"><p id="280028766#srhi0y_31"><span class="inline-code" id="280028766#srhi0y_32">func getOpenFileDialogFunc(w fyne.Window) func(reader fyne.URIReadCloser, err error)</span>:</p><ul class="list" id="280028766#srhi0y_33" start="1"><li class="list-item" id="280028766#srhi0y_34"><p>Cette fonction retourne une fonction qui est ex&eacute;cut&eacute;e lorsqu'un fichier est s&eacute;lectionn&eacute; ou que la bo&icirc;te de dialogue est annul&eacute;e.</p></li><li class="list-item" id="280028766#srhi0y_35"><p>Si une erreur se produit lors de l'ouverture du fichier, elle sera affich&eacute;e dans la fen&ecirc;tre de dialogue.</p></li><li class="list-item" id="280028766#srhi0y_36"><p>Si l'utilisateur annule l'op&eacute;ration de la bo&icirc;te de dialogue, la fonction imprime &quot;Annul&eacute;&quot; dans le journal.</p></li><li class="list-item" id="280028766#srhi0y_37"><p>Si un fichier est s&eacute;lectionn&eacute;, il est d&eacute;cod&eacute; en tant que fichier mp3 et jou&eacute; &agrave; l'aide du package Speaker.</p></li></ul></li><li class="list-item" id="280028766#srhi0y_38"><p id="280028766#srhi0y_39"><span class="inline-code" id="280028766#srhi0y_40">func getCurrentDirURI() (fyne.ListableURI, error)</span>:</p><ul class="list" id="280028766#srhi0y_41" start="1"><li class="list-item" id="280028766#srhi0y_42"><p>Cette fonction retourne le r&eacute;pertoire actuel sous forme d'URI listable.</p></li><li class="list-item" id="280028766#srhi0y_43"><p>Si une erreur se produit lors de l'obtention du r&eacute;pertoire de travail actuel ou de la conversion du r&eacute;pertoire en URI listable, elle renvoie l'erreur.</p></li></ul></li></ol><p id="280028766#srhi0y_9">L'application utilise l'outil Fyne pour l'interface graphique, le package dialog de Fyne pour cr&eacute;er des bo&icirc;tes de dialogue de fichiers, et la biblioth&egrave;que Speaker pour jouer les fichiers mp3.</p><p id="280028766#srhi0y_10">Ce programme n'est pas tr&egrave;s pratique parce qu'une fois que la lecture d'un fichier MP3 a d&eacute;but&eacute;e, on ne peut pas l'arr&ecirc;ter, sauf si on ferme l'application au complet. La lecture est ex&eacute;cut&eacute;e dans le m&ecirc;me fil d'ex&eacute;cution que l'interface graphique, donc l'interface est gel&eacute;e jusqu'&agrave; la lecture soit termin&eacute;e.</p><p id="280028766#srhi0y_11">L'exemple suivant est plus pratique, parce que la lecture du fichier MP3 est effectu&eacute;e dans un autre fil d'ex&eacute;cution, et l'interface graphique peut contr&ocirc;ler l'ex&eacute;cution du fichier.</p></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="1691072575">Exemple 10: MP3 avec pause</h1><p id="1691072575#-pmsznu_2">Code (<a href="https://github.com/profdenis/native1/tree/master/chap9/10_mp3_pause">https://github.com/profdenis/native1/tree/master/chap9/10_mp3_pause</a>)</p><p id="1691072575#-pmsznu_3">Ce programme Go est une application de lecteur MP3 &eacute;crite en utilisant la bo&icirc;te &agrave; outils GUI Fyne. Voici un d&eacute;tail des principales fonctions.</p><p id="1691072575#-pmsznu_4">Dans la fonction principale, nous avons ces &eacute;tapes principales :</p><ol class="list list-decimal" id="1691072575#-pmsznu_5" type="1" start="1"><li class="list-item" id="1691072575#-pmsznu_10"><p>Une nouvelle application et une nouvelle fen&ecirc;tre sont cr&eacute;&eacute;es.</p></li><li class="list-item" id="1691072575#-pmsznu_11"><p>Il initialise ensuite un canal <span class="inline-code" id="1691072575#-pmsznu_12">playerActionChannel</span> qui sera utilis&eacute; pour la communication entre les composants de l'interface et la fonction de lecture.</p></li><li class="list-item" id="1691072575#-pmsznu_13"><p>Divers composants de l'interface sont cr&eacute;&eacute;s, tels que des boutons pour lire, mettre en pause, arr&ecirc;ter et d'autres commandes, qui envoient des commandes via <span class="inline-code" id="1691072575#-pmsznu_14">playerActionChannel</span>.</p></li><li class="list-item" id="1691072575#-pmsznu_15"><p>Cette configuration permet &agrave; l'interface de fonctionner dans le thread principal tout en jouant des fichiers MP3 dans une autre goroutine.</p></li><li class="list-item" id="1691072575#-pmsznu_16"><p>Lorsqu'une chanson est s&eacute;lectionn&eacute;e pour &ecirc;tre jou&eacute;e, la goroutine correspondante re&ccedil;oit l'URI du fichier et commence &agrave; la jouer. Les op&eacute;rations comme jouer, mettre en pause ou arr&ecirc;ter la chanson sont faites en envoyant les commandes correspondantes via le canal <span class="inline-code" id="1691072575#-pmsznu_17">playerActionChannel</span>.</p></li></ol><p id="1691072575#-pmsznu_6">Passons en revue chaque partie du code :</p><ul class="list" id="1691072575#-pmsznu_7" start="1"><li class="list-item" id="1691072575#-pmsznu_18"><p id="1691072575#-pmsznu_19">Tout d'abord, le type <span class="inline-code" id="1691072575#-pmsznu_20">PlayerAction</span> et ses valeurs possibles sont d&eacute;finis, ainsi que le canal <span class="inline-code" id="1691072575#-pmsznu_21">playerActionChannel</span> qui sera utilis&eacute; pour communiquer ces actions entre la fonction principale et la goroutine de lecture.</p></li><li class="list-item" id="1691072575#-pmsznu_22"><p id="1691072575#-pmsznu_23"><span class="inline-code" id="1691072575#-pmsznu_24">getOpenButtonFunc</span> est une fonction qui renvoie une nouvelle fonction qui ouvrira une bo&icirc;te de dialogue pour choisir un fichier MP3 dans le syst&egrave;me de fichiers, puis appellera la routine <span class="inline-code" id="1691072575#-pmsznu_25">playSong</span> pour jouer la chanson s&eacute;lectionn&eacute;e. Pendant ce processus, toute chanson pr&eacute;c&eacute;demment en cours de lecture est arr&ecirc;t&eacute;e (via le <span class="inline-code" id="1691072575#-pmsznu_26">KillAction</span>).</p></li><li class="list-item" id="1691072575#-pmsznu_27"><p id="1691072575#-pmsznu_28"><span class="inline-code" id="1691072575#-pmsznu_29">createActionButton</span> et <span class="inline-code" id="1691072575#-pmsznu_30">createActionButtonWithIcon</span> sont des fonctions qui renvoient des boutons qui envoient une <span class="inline-code" id="1691072575#-pmsznu_31">PlayerAction</span> sp&eacute;cifi&eacute;e au <span class="inline-code" id="1691072575#-pmsznu_32">playerActionChannel</span> lorsqu'ils sont cliqu&eacute;s.</p></li><li class="list-item" id="1691072575#-pmsznu_33"><p id="1691072575#-pmsznu_34"><span class="inline-code" id="1691072575#-pmsznu_35">playSong</span> est une fonction qui renvoie une fonction de goroutine qui joue la chanson s&eacute;lectionn&eacute;e. Elle re&ccedil;oit des commandes via <span class="inline-code" id="1691072575#-pmsznu_36">playerActionChannel</span> pour contr&ocirc;ler la lecture de la chanson (lecture, pause, etc.). Elle utilise la biblioth&egrave;que beep pour contr&ocirc;ler la lecture audio.</p></li><li class="list-item" id="1691072575#-pmsznu_37"><p id="1691072575#-pmsznu_38"><span class="inline-code" id="1691072575#-pmsznu_39">getTagsButtonFunc</span> est une fonction qui renvoie une fonction de bouton qui, lorsqu'on clique dessus, lit les tags d'un fichier MP3 et les affiche dans une bo&icirc;te de dialogue.</p></li><li class="list-item" id="1691072575#-pmsznu_40"><p id="1691072575#-pmsznu_41"><span class="inline-code" id="1691072575#-pmsznu_42">getCurrentDirURI</span> est une fonction d'aide utilis&eacute;e pour obtenir une URI de fichier pour le r&eacute;pertoire courant.</p></li></ul><p id="1691072575#-pmsznu_8">L'architecture globale montre une utilisation typique des goroutines et des canaux, o&ugrave; l'interface graphique reste r&eacute;active en effectuant des op&eacute;rations potentiellement bloquantes (comme la lecture d'une chanson) dans des goroutines s&eacute;par&eacute;es et en utilisant des canaux pour la communication entre elles.</p><section><h2 id="1691072575#gettagsbuttonfunc" data-toc="gettagsbuttonfunc#ch09s10-Exemple-10-MP3-avec-pause.md-gettagsbuttonfunc">getTagsButtonFunc</h2><div class="code-block detached" id="1691072575#-pmsznu_44"><pre><code class="language-go">func getTagsButtonFunc(w fyne.Window) func() {
	return func() {
		f, err := os.Open(&quot;chap9/09_mp3/Lame_Drivers_-_01_-_Frozen_Egg.mp3&quot;)
		if err != nil {
			dialog.ShowError(err, w)
		}
		m, err := tag.ReadFrom(f)
		if err != nil {
			dialog.ShowError(err, w)
		}
		msg := fmt.Sprintf(&quot;Format : %s\nTitle : %s\nAlbum : %s\n Artist : %s\nYear : %d&quot;,
			m.Format(), m.Title(), m.Album(), m.Artist(), m.Year())
		dialog.ShowInformation(&quot;Tags&quot;, msg, w)
	}
}</code></pre></div><p id="1691072575#-pmsznu_45">La fonction <span class="inline-code" id="1691072575#-pmsznu_46">getTagsButtonFunc</span> retourne une fonction anonyme. Cette fonction lit le fichier <span class="inline-code" id="1691072575#-pmsznu_47">mp3</span> en utilisant la fonction <span class="inline-code" id="1691072575#-pmsznu_48">Open</span> du package <span class="inline-code" id="1691072575#-pmsznu_49">os</span> et g&egrave;re l'erreur potentielle qui pourrait se produire. Ensuite, elle extrait les m&eacute;tadonn&eacute;es/tags du fichier mp3 en utilisant la fonction <span class="inline-code" id="1691072575#-pmsznu_50">ReadFrom</span> du package <span class="inline-code" id="1691072575#-pmsznu_51">tag</span>, qui pourrait &eacute;galement provoquer une erreur.</p><p id="1691072575#-pmsznu_52">Les m&eacute;tadonn&eacute;es extraites comprennent le format, le titre, l'album, l'artiste et l'ann&eacute;e de la chanson. Ces informations sont ensuite jointes avec des s&eacute;parateurs &quot;\n&quot; en utilisant <span class="inline-code" id="1691072575#-pmsznu_53">fmt.Sprintf</span>, et une bo&icirc;te de dialogue d'information est affich&eacute;e avec ces informations.</p><p id="1691072575#-pmsznu_54">Voici une explication de base du code:</p><ol class="list list-decimal" id="1691072575#-pmsznu_55" type="1" start="1"><li class="list-item" id="1691072575#-pmsznu_56"><p id="1691072575#-pmsznu_57"><span class="inline-code" id="1691072575#-pmsznu_58">func getTagsButtonFunc(w fyne.Window) func()</span>: C'est la d&eacute;finition de la fonction <span class="inline-code" id="1691072575#-pmsznu_59">getTagsButtonFunc</span>. Cette fonction prend une instance de <span class="inline-code" id="1691072575#-pmsznu_60">fyne.Window</span> et renvoie une autre fonction.</p></li><li class="list-item" id="1691072575#-pmsznu_61"><p id="1691072575#-pmsznu_62">La fonction anonyme renvoy&eacute;e lit les donn&eacute;es mp3. Cela est fait en appelant <span class="inline-code" id="1691072575#-pmsznu_63">os.Open</span> sur l'emplacement du fichier mp3, ce qui renvoie un fichier et une erreur. S'il y a une erreur (le fichier n'a pas pu &ecirc;tre ouvert), une bo&icirc;te de dialogue d'erreur est affich&eacute;e en utilisant <span class="inline-code" id="1691072575#-pmsznu_64">dialog.ShowError</span>.</p></li><li class="list-item" id="1691072575#-pmsznu_65"><p id="1691072575#-pmsznu_66">Ensuite, <span class="inline-code" id="1691072575#-pmsznu_67">tag.ReadFrom(f)</span> est appel&eacute;e avec le fichier comme argument, ce qui lit les m&eacute;tadonn&eacute;es du fichier et renvoie une <span class="inline-code" id="1691072575#-pmsznu_68">tag.Metadata</span> et &eacute;ventuellement une erreur. S'il y a une erreur (les m&eacute;tadonn&eacute;es n'ont pas pu &ecirc;tre lues), une autre bo&icirc;te de dialogue d'erreur est affich&eacute;e.</p></li><li class="list-item" id="1691072575#-pmsznu_69"><p id="1691072575#-pmsznu_70">Ensuite, les m&eacute;tadonn&eacute;es sont format&eacute;es en une cha&icirc;ne en utilisant <span class="inline-code" id="1691072575#-pmsznu_71">fmt.Sprintf</span>. Le message de la cha&icirc;ne contiendra diverses informations des m&eacute;tadonn&eacute;es, y compris le format, le titre, l'album, l'artiste et l'ann&eacute;e.</p></li><li class="list-item" id="1691072575#-pmsznu_72"><p id="1691072575#-pmsznu_73">Enfin, une bo&icirc;te de dialogue d'information est affich&eacute;e en utilisant <span class="inline-code" id="1691072575#-pmsznu_74">dialog.ShowInformation</span> avec le titre &quot;Tags&quot; et la cha&icirc;ne format&eacute;e pr&eacute;c&eacute;demment.</p></li></ol><p id="1691072575#-pmsznu_75">Cette fonction anonyme est utilis&eacute;e comme argument pour cr&eacute;er un bouton. Lorsque ce bouton est press&eacute;, la fonction sera ex&eacute;cut&eacute;e, affichant une bo&icirc;te de dialogue avec les tags du fichier mp3.</p></section><section><h2 id="1691072575#getopenbuttonfunc" data-toc="getopenbuttonfunc#ch09s10-Exemple-10-MP3-avec-pause.md-getopenbuttonfunc">getOpenButtonFunc</h2><div class="code-block detached" id="1691072575#-pmsznu_77"><pre><code class="language-go">func getOpenButtonFunc(w fyne.Window, playerActionChannel chan PlayerAction) func() {
	return func() {
		fd := dialog.NewFileOpen(getOpenFileDialogFunc(w, playerActionChannel), w)
		fd.SetFilter(storage.NewExtensionFileFilter([]string{&quot;.mp3&quot;}))
		listableUri, err := getCurrentDirURI()
		if err != nil {
			dialog.ShowError(err, w)
			return
		}
		fd.SetLocation(listableUri)
		fd.Show()
	}
}</code></pre></div><p id="1691072575#-pmsznu_78">Cette fonction cr&eacute;e et renvoie une fermeture (closure function) qui s'ex&eacute;cutera lorsque le bouton &quot;Ouvrir&quot; sera cliqu&eacute; sur l'interface utilisateur du lecteur MP3. Les d&eacute;tails de la fonction sont :</p><ol class="list list-decimal" id="1691072575#-pmsznu_79" type="1" start="1"><li class="list-item" id="1691072575#-pmsznu_80"><p id="1691072575#-pmsznu_81">Elle cr&eacute;e un nouveau dialogue d'ouverture de fichier (<span class="inline-code" id="1691072575#-pmsznu_82">dialog.NewFileOpen</span>) qui s'ouvre lorsque le bouton &quot;Ouvrir&quot; sur l'interface utilisateur du lecteur MP3 est cliqu&eacute;. La fonction retourn&eacute;e par <span class="inline-code" id="1691072575#-pmsznu_83">getOpenFileDialogFunc(w, playerActionChannel)</span> pass&eacute;e en argument &agrave; <span class="inline-code" id="1691072575#-pmsznu_84">dialog.NewFileOpen</span> est un callback qui sera ex&eacute;cut&eacute; lorsqu'un fichier est s&eacute;lectionn&eacute; dans le dialogue.</p><p id="1691072575#-pmsznu_85"><span class="inline-code" id="1691072575#-pmsznu_86">getOpenFileDialogFunc</span> est responsable de l'arr&ecirc;t de la lecture de la chanson actuelle (le cas &eacute;ch&eacute;ant), du d&eacute;marrage de la lecture de la chanson s&eacute;lectionn&eacute;e, et de la gestion des erreurs qui peuvent survenir lors de ces op&eacute;rations.</p></li><li class="list-item" id="1691072575#-pmsznu_87"><p id="1691072575#-pmsznu_88">Elle d&eacute;finit un filtre (<span class="inline-code" id="1691072575#-pmsznu_89">SetFilter</span>) pour le dialogue de fichier afin de ne montrer que les fichiers <span class="inline-code" id="1691072575#-pmsznu_90">.mp3</span>.</p></li><li class="list-item" id="1691072575#-pmsznu_91"><p id="1691072575#-pmsznu_92">Elle r&eacute;cup&egrave;re le r&eacute;pertoire de travail actuel sous forme de URI listable (<span class="inline-code" id="1691072575#-pmsznu_93">getCurrentDirURI()</span>) et le d&eacute;finit comme emplacement de d&eacute;part (<span class="inline-code" id="1691072575#-pmsznu_94">SetLocation</span>) pour le dialogue de fichier.</p></li><li class="list-item" id="1691072575#-pmsznu_95"><p id="1691072575#-pmsznu_96">S'il y a une erreur en obtenant le r&eacute;pertoire courant, elle affiche un dialogue avec cette erreur.</p></li><li class="list-item" id="1691072575#-pmsznu_97"><p id="1691072575#-pmsznu_98">Le dialogue de fichier est alors montr&eacute; (<span class="inline-code" id="1691072575#-pmsznu_99">fd.Show()</span>).</p></li></ol></section><section><h2 id="1691072575#createactionbutton" data-toc="createactionbutton#ch09s10-Exemple-10-MP3-avec-pause.md-createactionbutton">createActionButton</h2><div class="code-block detached" id="1691072575#-pmsznu_101"><pre><code class="language-go">func createActionButton(playerActionChannel chan PlayerAction, label string, playerAction PlayerAction) *widget.Button {
	return widget.NewButton(label, func() {
		select {
		case playerActionChannel &lt;- playerAction:
			log.Println(label + &quot;Action&quot;)
		default:
			log.Println(label + &quot;Action : Inactif&quot;)
		}
	})
}</code></pre></div><p id="1691072575#-pmsznu_102">Cette fonction prend trois arguments :</p><ul class="list" id="1691072575#-pmsznu_103" start="1"><li class="list-item" id="1691072575#-pmsznu_104"><p>un <span class="inline-code" id="1691072575#-pmsznu_105">chan PlayerAction</span> nomm&eacute; <span class="inline-code" id="1691072575#-pmsznu_106">playerActionChannel</span> - c'est une sorte de canal de communication par lequel les <span class="inline-code" id="1691072575#-pmsznu_107">PlayerAction</span> sont transmises.</p></li><li class="list-item" id="1691072575#-pmsznu_108"><p>une <span class="inline-code" id="1691072575#-pmsznu_109">string</span> nomm&eacute;e <span class="inline-code" id="1691072575#-pmsznu_110">label</span> - Cela indique l'action que le bouton de l'interface utilisateur effectuera.</p></li><li class="list-item" id="1691072575#-pmsznu_111"><p>un <span class="inline-code" id="1691072575#-pmsznu_112">PlayerAction</span> nomm&eacute; <span class="inline-code" id="1691072575#-pmsznu_113">playerAction</span> - c'est l'action qui correspond au bouton press&eacute;, par exemple, play, pause, etc.</p></li></ul><p id="1691072575#-pmsznu_114"><span class="inline-code" id="1691072575#-pmsznu_115">createActionButton</span> retourne un bouton (<span class="inline-code" id="1691072575#-pmsznu_116">*widget.Button</span>) qui est cr&eacute;&eacute; en utilisant <span class="inline-code" id="1691072575#-pmsznu_117">widget.NewButton</span>. Ce bouton re&ccedil;oit le <span class="inline-code" id="1691072575#-pmsznu_118">label</span> comme texte et une fonction anonyme &agrave; ex&eacute;cuter lorsque le bouton est cliqu&eacute;.</p><p id="1691072575#-pmsznu_119">La fonction anonyme utilise une d&eacute;claration <span class="inline-code" id="1691072575#-pmsznu_120">select</span> pour essayer d'envoyer <span class="inline-code" id="1691072575#-pmsznu_121">playerAction</span> dans <span class="inline-code" id="1691072575#-pmsznu_122">playerActionChannel</span>:</p><ul class="list" id="1691072575#-pmsznu_123" start="1"><li class="list-item" id="1691072575#-pmsznu_124"><p>Si elle peut envoyer le <span class="inline-code" id="1691072575#-pmsznu_125">PlayerAction</span>, elle enregistre ensuite que l'action avec le <span class="inline-code" id="1691072575#-pmsznu_126">label</span> fourni a &eacute;t&eacute; effectu&eacute;e ( avec &quot;Action&quot; ajout&eacute;).</p></li><li class="list-item" id="1691072575#-pmsznu_127"><p>Si elle ne peut pas envoyer le <span class="inline-code" id="1691072575#-pmsznu_128">PlayerAction</span> (c'est-&agrave;-dire si le canal n'est pas pr&ecirc;t &agrave; recevoir), alors elle enregistre que l'action est inactive (avec &quot;Action : Inactif&quot; ajout&eacute;).</p></li></ul><p id="1691072575#-pmsznu_129">Le type <span class="inline-code" id="1691072575#-pmsznu_130">PlayerAction</span> est d&eacute;fini comme suit :</p><div class="code-block detached" id="1691072575#-pmsznu_131"><pre><code class="language-go">type PlayerAction int</code></pre></div><p id="1691072575#-pmsznu_132">Il s'agit d'un alias de type pour le type <span class="inline-code" id="1691072575#-pmsznu_133">int</span>. Le but de cet alias de type est de rendre le code plus lisible et facile &agrave; comprendre en associant la valeur <span class="inline-code" id="1691072575#-pmsznu_134">int</span> &agrave; une certaine action du lecteur. Les actions du lecteur sont d&eacute;finies dans un bloc de constantes comme <span class="inline-code" id="1691072575#-pmsznu_135">iota</span>, initialisant <span class="inline-code" id="1691072575#-pmsznu_136">PlayAction</span> avec 0 et incr&eacute;mentant la valeur pour les constantes suivantes :</p><div class="code-block detached" id="1691072575#-pmsznu_137"><pre><code class="language-go">const (
	PlayAction PlayerAction = iota
	PauseAction
	ToggleAction
	StopAction
	KillAction
)</code></pre></div></section><section><h2 id="1691072575#getopenfiledialogfunc" data-toc="getopenfiledialogfunc#ch09s10-Exemple-10-MP3-avec-pause.md-getopenfiledialogfunc">getOpenFileDialogFunc</h2><p id="1691072575#-pmsznu_139">La fonction <span class="inline-code" id="1691072575#-pmsznu_140">getOpenFileDialogFunc</span> est une fonction d'ordre sup&eacute;rieur qui cr&eacute;e et renvoie une autre fonction. La fonction qu'elle renvoie est cens&eacute;e traiter un fichier s&eacute;lectionn&eacute; par l'utilisateur dans une bo&icirc;te de dialogue :</p><div class="code-block detached" id="1691072575#-pmsznu_141"><pre><code class="language-go">func getOpenFileDialogFunc(w fyne.Window, c chan PlayerAction) func(reader fyne.URIReadCloser, err error) {
	return func(reader fyne.URIReadCloser, err error) { ... }
}</code></pre></div><p id="1691072575#-pmsznu_142">Cette fonction est con&ccedil;ue pour s'int&eacute;grer avec la bo&icirc;te de dialogue de fichier du framework Fyne (<span class="inline-code" id="1691072575#-pmsznu_143">dialog.NewFileOpen</span>).</p><p id="1691072575#-pmsznu_144">S'il y a une erreur ou si aucun fichier n'est s&eacute;lectionn&eacute; (si <span class="inline-code" id="1691072575#-pmsznu_145">reader</span> est <span class="inline-code" id="1691072575#-pmsznu_146">nil</span>), la fonction retourne :</p><div class="code-block detached" id="1691072575#-pmsznu_147"><pre><code class="language-go">if err != nil {
	dialog.ShowError(err, w)
	return
}
if reader == nil {
	log.Println(&quot;Annulé&quot;)
	return
}</code></pre></div><p id="1691072575#-pmsznu_148">Apr&egrave;s qu'un fichier a &eacute;t&eacute; s&eacute;lectionn&eacute;, elle essaie d'envoyer le message <span class="inline-code" id="1691072575#-pmsznu_149">KillAction</span> dans le canal <span class="inline-code" id="1691072575#-pmsznu_150">c</span> pour arr&ecirc;ter la chanson actuellement en lecture :</p><div class="code-block detached" id="1691072575#-pmsznu_151"><pre><code class="language-go">select {
	case c &lt;- KillAction:
		log.Println(&quot;&lt;- KillAction&quot;)
	default:
		log.Println(&quot;Rien à arrêter&quot;)
}</code></pre></div><p id="1691072575#-pmsznu_152">Cette partie est dans un bloc <span class="inline-code" id="1691072575#-pmsznu_153">select</span>, ce qui signifie qu'elle est non bloquante, si le canal <span class="inline-code" id="1691072575#-pmsznu_154">c</span> n'est pas pr&ecirc;t &agrave; recevoir une nouvelle valeur, elle ne bloquera pas et passera au cas <span class="inline-code" id="1691072575#-pmsznu_155">default</span>.</p><p id="1691072575#-pmsznu_156">Enfin, elle commence &agrave; jouer la chanson s&eacute;lectionn&eacute;e dans une nouvelle goroutine :</p><div class="code-block detached" id="1691072575#-pmsznu_157"><pre><code class="language-go">go playSong(reader, c)</code></pre></div></section><section><h2 id="1691072575#playsong" data-toc="playsong#ch09s10-Exemple-10-MP3-avec-pause.md-playsong">playSong</h2><div class="code-block detached" id="1691072575#-pmsznu_159"><pre><code class="language-go">func playSong(reader fyne.URIReadCloser, channel chan PlayerAction) {

	streamer, format, err := mp3.Decode(reader)
	if err != nil {
		log.Fatal(err)
	}

	speaker.Init(format.SampleRate, format.SampleRate.N(time.Second/10))

	ctrl := &amp;beep.Ctrl{Streamer: beep.Loop(-1, streamer), Paused: true}

	speaker.Play(ctrl)
	for {
		action := &lt;-channel

		switch action {
		case PlayAction:
			speaker.Lock()
			ctrl.Paused = false
			speaker.Unlock()
		case PauseAction:
			speaker.Lock()
			ctrl.Paused = true
			speaker.Unlock()
		case ToggleAction:
			speaker.Lock()
			ctrl.Paused = !ctrl.Paused
			speaker.Unlock()
		case StopAction:
			speaker.Lock()
			ctrl.Paused = true
			// replace la lecture au début de la chanson
			err := streamer.Seek(0)
			if err != nil {
				log.Println(err)
			}
			speaker.Unlock()
		case KillAction:
			// ferme complètement la lecture de la chanson
			err := streamer.Close()
			if err != nil {
				log.Println(err)
			}
			return
		}
	}
}</code></pre></div><p id="1691072575#-pmsznu_160">Voici une explication de la fonction <span class="inline-code" id="1691072575#-pmsznu_161">playSong</span>:</p><ul class="list" id="1691072575#-pmsznu_162" start="1"><li class="list-item" id="1691072575#-pmsznu_163"><p id="1691072575#-pmsznu_164">Cette fonction re&ccedil;oit deux arguments : un <span class="inline-code" id="1691072575#-pmsznu_165">URIReadCloser</span> du package <span class="inline-code" id="1691072575#-pmsznu_166">fyne</span>, qui fournit les donn&eacute;es du fichier audio, et un canal de <span class="inline-code" id="1691072575#-pmsznu_167">PlayerAction</span>, qui est un type personnalis&eacute; repr&eacute;sentant diff&eacute;rentes actions qui peuvent &ecirc;tre envoy&eacute;es &agrave; cette fonction.</p></li><li class="list-item" id="1691072575#-pmsznu_168"><p id="1691072575#-pmsznu_169">Elle commence par d&eacute;coder l'info du Reader en utilisant <span class="inline-code" id="1691072575#-pmsznu_170">mp3.Decode()</span>. Le d&eacute;codage peut &eacute;chouer pour des raisons vari&eacute;es, et dans ce cas l'erreur serait enregistr&eacute;e dans le journal et l'application se terminerait brusquement avec <span class="inline-code" id="1691072575#-pmsznu_171">log.Fatal()</span>.</p></li><li class="list-item" id="1691072575#-pmsznu_172"><p id="1691072575#-pmsznu_173">Si le d&eacute;codage r&eacute;ussit, le haut-parleur est initialis&eacute; avec <span class="inline-code" id="1691072575#-pmsznu_174">speaker.Init()</span> en utilisant le taux d'&eacute;chantillonnage du format du fichier mp3.</p></li><li class="list-item" id="1691072575#-pmsznu_175"><p id="1691072575#-pmsznu_176">Apr&egrave;s initialisation, un <span class="inline-code" id="1691072575#-pmsznu_177">Streamer</span> audio en boucle est cr&eacute;&eacute; qui commence initialement en &eacute;tant <span class="inline-code" id="1691072575#-pmsznu_178">Paused</span>. Le Speaker joue ensuite ce Streamer.</p></li><li class="list-item" id="1691072575#-pmsznu_179"><p id="1691072575#-pmsznu_180">Une boucle <span class="inline-code" id="1691072575#-pmsznu_181">for</span> infinie est utilis&eacute;e pour &eacute;couter continuellement les actions du canal <span class="inline-code" id="1691072575#-pmsznu_182">PlayerAction</span>. En fonction de l'action re&ccedil;ue, elle effectue les op&eacute;rations suivantes :</p><ul class="list" id="1691072575#-pmsznu_183" start="1"><li class="list-item" id="1691072575#-pmsznu_184"><p><span class="inline-code" id="1691072575#-pmsznu_185">PlayAction</span>: La chanson actuelle n'est pas en pause et commencera ou continuera &agrave; jouer.</p></li><li class="list-item" id="1691072575#-pmsznu_186"><p><span class="inline-code" id="1691072575#-pmsznu_187">PauseAction</span>: La chanson est mise en pause.</p></li><li class="list-item" id="1691072575#-pmsznu_188"><p><span class="inline-code" id="1691072575#-pmsznu_189">ToggleAction</span>: L'&eacute;tat de la chanson est bascul&eacute; entre pause et jeu.</p></li><li class="list-item" id="1691072575#-pmsznu_190"><p><span class="inline-code" id="1691072575#-pmsznu_191">StopAction</span>: La chanson est mise en pause et remise &agrave; son d&eacute;but.</p></li><li class="list-item" id="1691072575#-pmsznu_192"><p><span class="inline-code" id="1691072575#-pmsznu_193">KillAction</span>: Le <span class="inline-code" id="1691072575#-pmsznu_194">Streamer</span> de la chanson est ferm&eacute; et la fonction retourne, mettant ainsi fin &agrave; la lecture de la chanson.</p></li></ul></li></ul></section></article></div></section></div></body></html>