<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-02-11T20:14:31.915143778"><title>Section 3 : Les diff&eacute;rentes fa&ccedil;ons d'&eacute;crire des valeurs | Help Instance</title><script type="application/json" id="virtual-toc-data">[{"id":"crire-dans-une-cha-ne-de-caract-res","level":0,"title":"Écrire dans une chaîne de caractères","anchor":"#crire-dans-une-cha-ne-de-caract-res"},{"id":"crire-selon-un-format","level":0,"title":"Écrire selon un format","anchor":"#crire-selon-un-format"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.css" rel="stylesheet"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="site.webmanifest"><meta name="msapplication-TileColor" content="#000000"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Section 3 : Les diff&eacute;rentes fa&ccedil;ons d'&eacute;crire des valeurs | Help Instance"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Help Instance Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="c01s03-les-differentes-facons-d-ecrire-des-valeurs.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Section 3 : Les diff&eacute;rentes fa&ccedil;ons d'&eacute;crire des valeurs | Help Instance"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "c01s03-les-differentes-facons-d-ecrire-des-valeurs.html#webpage",
    "url": "c01s03-les-differentes-facons-d-ecrire-des-valeurs.html",
    "name": "Section 3 : Les diff&eacute;rentes fa&ccedil;ons d'&eacute;crire des valeurs | Help Instance",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "/#website",
    "url": "/",
    "name": "Help Instance Help"
}</script><!-- End Schema.org --></head><body data-id="c01s03-Les-differentes-facons-d-ecrire-des-valeurs" data-main-title="Section 3 : Les diff&eacute;rentes fa&ccedil;ons d'&eacute;crire des valeurs" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="c01-Les-bases-du-langage-Go.md|Chapitre 1 : Les bases du langage Go"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Help Instance  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="c01s03-Les-differentes-facons-d-ecrire-des-valeurs" id="c01s03-Les-differentes-facons-d-ecrire-des-valeurs.md">Section 3 : Les diff&eacute;rentes fa&ccedil;ons d'&eacute;crire des valeurs</h1><p id="a5206060_116">En plus des fonctions <code class="code" id="a5206060_117">Print</code>, <code class="code" id="a5206060_118">Println</code> et <code class="code" id="a5206060_119">Printf</code> qui sont utilis&eacute;es pour &eacute;crire sur le <span class="emphasis" id="a5206060_120">stdout</span>, le paquet <code class="code" id="a5206060_121">fmt</code> contient des fonctions pour &eacute;crire dans une cha&icirc;ne de caract&egrave;res (<code class="code" id="a5206060_122">Sprint</code>, <code class="code" id="a5206060_123">Sprintln</code>, <code class="code" id="a5206060_124">Sprintf</code>) ou dans un fichier (<code class="code" id="a5206060_125">Fprint</code>, <code class="code" id="a5206060_126">Fprintln</code>, <code class="code" id="a5206060_127">Fprintf</code>).</p><ul class="list _ul" id="a5206060_128"><li class="list__item" id="a5206060_129"><p>Les fonctions se terminant par <span class="emphasis" id="a5206060_130">ln</span> ajoutent un changement de ligne (<code class="code" id="a5206060_131">\n</code>) &agrave; la fin de la cha&icirc;ne de caract&egrave;res &agrave; &eacute;crire.</p></li><li class="list__item" id="a5206060_132"><p>Les fonctions se terminant par un <span class="emphasis" id="a5206060_133">f</span> utilisent une syntaxe sp&eacute;ciale pour <span class="control" id="a5206060_134">formatter</span> les cha&icirc;nes de caract&egrave;res.</p></li><li class="list__item" id="a5206060_135"><p>Les fonctions commen&ccedil;ant avec un <span class="emphasis" id="a5206060_136">S</span> &eacute;crivent dans une cha&icirc;ne de caract&egrave;res (<span class="emphasis" id="a5206060_137">S</span> pour <span class="emphasis" id="a5206060_138">string</span>)</p></li><li class="list__item" id="a5206060_139"><p>Les fonctions commen&ccedil;ant avec un <span class="emphasis" id="a5206060_140">F</span> &eacute;crivent dans un fichier (<span class="emphasis" id="a5206060_141">F</span> pour <span class="emphasis" id="a5206060_142">file</span>) </p><ul class="list _ul" id="a5206060_143"><li class="list__item" id="a5206060_144"><p>Les fonctions sur les fichiers seront pr&eacute;sent&eacute;es plus loin, dans le chapitre consacr&eacute; &agrave; la gestion des fichiers.</p></li></ul></li></ul><section class="chapter"><h2 id="crire-dans-une-cha-ne-de-caract-res" data-toc="crire-dans-une-cha-ne-de-caract-res">&Eacute;crire dans une cha&icirc;ne de caract&egrave;res</h2><div class="code-block" data-lang="go">
package main

import &quot;fmt&quot;

func print1() {
	year := 2024
	output := fmt.Sprintln(&quot;année =&quot;, year)
	fmt.Println(output)
}
</div><p id="a5206060_146">Dans cet exemple simplifi&eacute;, il serait pr&eacute;f&eacute;rable d'utiliser <code class="code" id="a5206060_147">Println</code> directement sur les deux valeurs &agrave; &eacute;crire (<code class="code" id="a5206060_148">fmt.Pprintln(&quot;ann&eacute;e =&quot;, year)</code>), mais dans un exemple plus complexe, lorsqu'il est n&eacute;cessaire d'&eacute;crire la m&ecirc;me cha&icirc;ne de caract&egrave;res &agrave; plusieurs reprises, possiblement &agrave; des endroits diff&eacute;rents (<span class="emphasis" id="a5206060_149">stdout</span>, fichier, ...), &eacute;crire dans une cha&icirc;ne en premier peut simplifier le code plus loin dans le programme, surtout si on a besoin de formatter les valeurs de fa&ccedil;on particuli&egrave;re.</p></section><section class="chapter"><h2 id="crire-selon-un-format" data-toc="crire-selon-un-format">&Eacute;crire selon un format</h2><p id="a5206060_150">Le m&ecirc;me principe s'applique aux fonctions <code class="code" id="a5206060_151">Printf</code>, <code class="code" id="a5206060_152">Sprintf</code> et <code class="code" id="a5206060_153">Fprintf</code>: une cha&icirc;ne de caract&egrave;res d&eacute;crivant le format doit &ecirc;tre donn&eacute;e comme premier argument aux fonctions, suivie d'une ou plusieurs valeurs &agrave; formatter.</p><section class="chapter"><h3 id="nombres-entiers" data-toc="nombres-entiers">Nombres entiers</h3><div class="code-block" data-lang="go">
package main

import &quot;fmt&quot;

func print2() {
	year := 2024
	month := 1
	day := 5
	
	fmt.Printf(&quot;année = %d\n&quot;, year)
	fmt.Printf(&quot;%d-%d-%d\n&quot;, year, month, day)
	fmt.Printf(&quot;%4d-%2d-%2d\n&quot;, year, month, day)
	fmt.Printf(&quot;%4d-%02d-%02d\n&quot;, year, month, day)
}
</div><p id="a5206060_155">Sortie :</p><div class="code-block" data-lang="none">
année = 2024
2024-1-5
2024- 1- 5
2024-01-05
</div><p id="a5206060_157">La cha&icirc;ne de caract&egrave;res d&eacute;crivant le format (<span class="emphasis" id="a5206060_158">cha&icirc;ne de format</span>, ou <span class="emphasis" id="a5206060_159">format string</span> en anglais) doit inclure au moins une entr&eacute;e d&eacute;butant par le caract&egrave;re <code class="code" id="a5206060_160">%</code>, suivi par la description du format. Dans l'exemple pr&eacute;c&eacute;dent, il y a 4 sorties. Dans la premi&egrave;re, la sortie sera identique &agrave; l'exemple pr&eacute;c&eacute;dent. Le <code class="code" id="a5206060_161">%d</code> va &ecirc;tre remplac&eacute; par la valeur de la variable <code class="code" id="a5206060_162">year</code>. Le <code class="code" id="a5206060_163">d</code> indique que la valeur sera un nombre entier en base 10 (<span class="emphasis" id="a5206060_164">d&eacute;cimal</span>). On pourrait utiliser</p><ul class="list _ul" id="a5206060_165"><li class="list__item" id="a5206060_166"><p><code class="code" id="a5206060_167">%x</code> pour un nombre entier en base 16 (<span class="emphasis" id="a5206060_168">hexad&eacute;cimal</span>)</p></li><li class="list__item" id="a5206060_169"><p><code class="code" id="a5206060_170">%o</code> pour un nombre entier en base 8 (<span class="emphasis" id="a5206060_171">octal</span>)</p></li><li class="list__item" id="a5206060_172"><p><code class="code" id="a5206060_173">%b</code> pour un nombre entier en base 2 (<span class="emphasis" id="a5206060_174">binaire</span>)</p></li></ul><p id="a5206060_175">Dans la deuxi&egrave;me sortie, il y a 3 formats &agrave; l'int&eacute;rieur de la cha&icirc;ne de format, et ils sont s&eacute;par&eacute;s par des tirets qui ne font pas partie des formats, mais qui feront partie de la sortie. Le probl&egrave;me est que la sortie n'est pas tr&egrave;s belle parce que les valeurs pour le mois et la journ&eacute;e sont plus petites que 10, alors qu'habituellement, on r&eacute;serve 2 emplacements (ou 2 colonnes) pour ces valeurs m&ecirc;me si elles n'en n'ont pas besoin.</p><p id="a5206060_176">On peut remplacer le deuxi&egrave;me format par celui-ci : <code class="code" id="a5206060_177">&quot;%4d-%2d-%2d\n&quot;</code>. La sortie sera alors <code class="code" id="a5206060_178">2024- 1- 5</code>, ce qui n'est pas vraiment mieux. On sp&eacute;cifie que l'on veut avoir 4 colonnes pour l'ann&eacute;e, 2 colonnes pour le mois et aussi 2 colonnes pour le jour, mais par d&eacute;faut, les colonnes libres sont remplies avec des espaces.</p><p id="a5206060_179">Si on remplace le deuxi&egrave;me format par celui-ci : <code class="code" id="a5206060_180">&quot;%4d-%02d-%02d&quot;</code>, alors les colonnes libres seront remplies par des z&eacute;ros, ce qui correspond au format habituel <code class="code" id="a5206060_181">2024-01-05</code>.</p><p id="a5206060_182">Cet exemple montre comment formatter une date dans un format pr&eacute;cis, mais il existe plusieurs autres formats possibles. Formatter des dates est un besoin commun, qui doit supporter des formats diff&eacute;rents selon les param&egrave;tres de localisation de l'application. Le paquet <code class="code" id="a5206060_183">time</code> peut &ecirc;tre utilis&eacute; pour, entre autres, formatter les dates et les heures. Pour plus de d&eacute;tails : <a href="https://gosamples.dev/date-time-format-cheatsheet/" id="a5206060_184" data-external="true" rel="noopener noreferrer">Date and time format in Go cheatsheet</a></p></section><section class="chapter"><h3 id="formatter-d-autres-types" data-toc="formatter-d-autres-types">Formatter d'autres types</h3><p id="a5206060_185">R&eacute;f&eacute;rence : <a href="https://pkg.go.dev/fmt" id="a5206060_186" data-external="true" rel="noopener noreferrer">Paquet <code class="code" id="a5206060_187">fmt</code></a></p><p id="a5206060_188">Les formats les plus courants :</p><div class="table-wrapper"><table class="wide" id="a5206060_189"><thead><tr class="ijRowHead" id="a5206060_190"><th id="a5206060_191"><p>Formats</p></th><th id="a5206060_192"><p>D&eacute;tails</p></th></tr></thead><tbody><tr id="a5206060_193"><td id="a5206060_194"><p><code class="code" id="a5206060_195">%v</code></p></td><td id="a5206060_196"><p>format par d&eacute;faut</p></td></tr><tr id="a5206060_197"><td id="a5206060_198"><p><code class="code" id="a5206060_199">%d</code>, <code class="code" id="a5206060_200">%x</code>, <code class="code" id="a5206060_201">%b</code></p></td><td id="a5206060_202"><p>nombres entiers en bases 10, 16 et 2</p></td></tr><tr id="a5206060_203"><td id="a5206060_204"><p><code class="code" id="a5206060_205">%f</code>, <code class="code" id="a5206060_206">%F</code></p></td><td id="a5206060_207"><p>nombres r&eacute;els, avec un point, sans exposant</p></td></tr><tr id="a5206060_208"><td id="a5206060_209"><p><code class="code" id="a5206060_210">%e</code>, <code class="code" id="a5206060_211">%E</code></p></td><td id="a5206060_212"><p>nombres r&eacute;els, notation scientifique</p></td></tr><tr id="a5206060_213"><td id="a5206060_214"><p><code class="code" id="a5206060_215">%s</code></p></td><td id="a5206060_216"><p>cha&icirc;nes de caract&egrave;res</p></td></tr><tr id="a5206060_217"><td id="a5206060_218"><p><code class="code" id="a5206060_219">%t</code></p></td><td id="a5206060_220"><p>bool&eacute;en</p></td></tr><tr id="a5206060_221"><td id="a5206060_222"><p><code class="code" id="a5206060_223">%T</code></p></td><td id="a5206060_224"><p>type de la valeur</p></td></tr></tbody></table></div><p id="a5206060_225">Pour les nombres r&eacute;els, on peut sp&eacute;cifier la pr&eacute;cision voulue.</p><div class="code-block" data-lang="go">
package main

import &quot;fmt&quot;

func print3() {
	x := 1234.5678
	fmt.Printf(&quot;%f\n%.2f\n%.f\n&quot;, x, x, x)
}
</div><p id="a5206060_227">Sortie :</p><div class="code-block" data-lang="none">
1234.567800
1234.57
1235
</div></section></section><div class="last-modified">Last modified: 12 février 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="c01s02-les-variables-et-les-types-de-base.html" class="navigation-links__prev">Section 2 : Les variables et les types de base</a><a href="c01s04-les-fonctions.html" class="navigation-links__next">Section 4 : Les fonctions</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.js"></script></body></html>