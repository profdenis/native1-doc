<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-02-26T08:37:32.958900812"><title>Section 3 : Les diff&eacute;rentes fa&ccedil;ons d'&eacute;crire des valeurs | Help Instance</title><script type="application/json" id="virtual-toc-data">[{"id":"crire-dans-une-cha-ne-de-caract-res","level":0,"title":"Écrire dans une chaîne de caractères","anchor":"#crire-dans-une-cha-ne-de-caract-res"},{"id":"crire-selon-un-format","level":0,"title":"Écrire selon un format","anchor":"#crire-selon-un-format"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.css" rel="stylesheet"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="site.webmanifest"><meta name="msapplication-TileColor" content="#000000"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Section 3 : Les diff&eacute;rentes fa&ccedil;ons d'&eacute;crire des valeurs | Help Instance"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Help Instance Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="c01s03-les-differentes-facons-d-ecrire-des-valeurs.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Section 3 : Les diff&eacute;rentes fa&ccedil;ons d'&eacute;crire des valeurs | Help Instance"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "c01s03-les-differentes-facons-d-ecrire-des-valeurs.html#webpage",
    "url": "c01s03-les-differentes-facons-d-ecrire-des-valeurs.html",
    "name": "Section 3 : Les diff&eacute;rentes fa&ccedil;ons d'&eacute;crire des valeurs | Help Instance",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "/#website",
    "url": "/",
    "name": "Help Instance Help"
}</script><!-- End Schema.org --></head><body data-id="c01s03-Les-differentes-facons-d-ecrire-des-valeurs" data-main-title="Section 3 : Les diff&eacute;rentes fa&ccedil;ons d'&eacute;crire des valeurs" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="c01-Les-bases-du-langage-Go.md|Chapitre 1 : Les bases du langage Go"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Help Instance  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="c01s03-Les-differentes-facons-d-ecrire-des-valeurs" id="c01s03-Les-differentes-facons-d-ecrire-des-valeurs.md">Section 3 : Les diff&eacute;rentes fa&ccedil;ons d'&eacute;crire des valeurs</h1><p id="4aa00e33_2">En plus des fonctions <code class="code" id="4aa00e33_3">Print</code>, <code class="code" id="4aa00e33_4">Println</code> et <code class="code" id="4aa00e33_5">Printf</code> qui sont utilis&eacute;es pour &eacute;crire sur le <span class="emphasis" id="4aa00e33_6">stdout</span>, le paquet <code class="code" id="4aa00e33_7">fmt</code> contient des fonctions pour &eacute;crire dans une cha&icirc;ne de caract&egrave;res (<code class="code" id="4aa00e33_8">Sprint</code>, <code class="code" id="4aa00e33_9">Sprintln</code>, <code class="code" id="4aa00e33_10">Sprintf</code>) ou dans un fichier (<code class="code" id="4aa00e33_11">Fprint</code>, <code class="code" id="4aa00e33_12">Fprintln</code>, <code class="code" id="4aa00e33_13">Fprintf</code>).</p><ul class="list _ul" id="4aa00e33_14"><li class="list__item" id="4aa00e33_15"><p>Les fonctions se terminant par <span class="emphasis" id="4aa00e33_16">ln</span> ajoutent un changement de ligne (<code class="code" id="4aa00e33_17">\n</code>) &agrave; la fin de la cha&icirc;ne de caract&egrave;res &agrave; &eacute;crire.</p></li><li class="list__item" id="4aa00e33_18"><p>Les fonctions se terminant par un <span class="emphasis" id="4aa00e33_19">f</span> utilisent une syntaxe sp&eacute;ciale pour <span class="control" id="4aa00e33_20">formatter</span> les cha&icirc;nes de caract&egrave;res.</p></li><li class="list__item" id="4aa00e33_21"><p>Les fonctions commen&ccedil;ant avec un <span class="emphasis" id="4aa00e33_22">S</span> &eacute;crivent dans une cha&icirc;ne de caract&egrave;res (<span class="emphasis" id="4aa00e33_23">S</span> pour <span class="emphasis" id="4aa00e33_24">string</span>)</p></li><li class="list__item" id="4aa00e33_25"><p>Les fonctions commen&ccedil;ant avec un <span class="emphasis" id="4aa00e33_26">F</span> &eacute;crivent dans un fichier (<span class="emphasis" id="4aa00e33_27">F</span> pour <span class="emphasis" id="4aa00e33_28">file</span>) </p><ul class="list _ul" id="4aa00e33_29"><li class="list__item" id="4aa00e33_30"><p>Les fonctions sur les fichiers seront pr&eacute;sent&eacute;es plus loin, dans le chapitre consacr&eacute; &agrave; la gestion des fichiers.</p></li></ul></li></ul><section class="chapter"><h2 id="crire-dans-une-cha-ne-de-caract-res" data-toc="crire-dans-une-cha-ne-de-caract-res">&Eacute;crire dans une cha&icirc;ne de caract&egrave;res</h2><div class="code-block" data-lang="go">
package main

import &quot;fmt&quot;

func print1() {
	year := 2024
	output := fmt.Sprintln(&quot;année =&quot;, year)
	fmt.Println(output)
}
</div><p id="4aa00e33_32">Dans cet exemple simplifi&eacute;, il serait pr&eacute;f&eacute;rable d'utiliser <code class="code" id="4aa00e33_33">Println</code> directement sur les deux valeurs &agrave; &eacute;crire (<code class="code" id="4aa00e33_34">fmt.Pprintln(&quot;ann&eacute;e =&quot;, year)</code>), mais dans un exemple plus complexe, lorsqu'il est n&eacute;cessaire d'&eacute;crire la m&ecirc;me cha&icirc;ne de caract&egrave;res &agrave; plusieurs reprises, possiblement &agrave; des endroits diff&eacute;rents (<span class="emphasis" id="4aa00e33_35">stdout</span>, fichier, ...), &eacute;crire dans une cha&icirc;ne en premier peut simplifier le code plus loin dans le programme, surtout si on a besoin de formatter les valeurs de fa&ccedil;on particuli&egrave;re.</p></section><section class="chapter"><h2 id="crire-selon-un-format" data-toc="crire-selon-un-format">&Eacute;crire selon un format</h2><p id="4aa00e33_36">Le m&ecirc;me principe s'applique aux fonctions <code class="code" id="4aa00e33_37">Printf</code>, <code class="code" id="4aa00e33_38">Sprintf</code> et <code class="code" id="4aa00e33_39">Fprintf</code>: une cha&icirc;ne de caract&egrave;res d&eacute;crivant le format doit &ecirc;tre donn&eacute;e comme premier argument aux fonctions, suivie d'une ou plusieurs valeurs &agrave; formatter.</p><section class="chapter"><h3 id="nombres-entiers" data-toc="nombres-entiers">Nombres entiers</h3><div class="code-block" data-lang="go">
package main

import &quot;fmt&quot;

func print2() {
	year := 2024
	month := 1
	day := 5
	
	fmt.Printf(&quot;année = %d\n&quot;, year)
	fmt.Printf(&quot;%d-%d-%d\n&quot;, year, month, day)
	fmt.Printf(&quot;%4d-%2d-%2d\n&quot;, year, month, day)
	fmt.Printf(&quot;%4d-%02d-%02d\n&quot;, year, month, day)
}
</div><p id="4aa00e33_41">Sortie :</p><div class="code-block" data-lang="none">
année = 2024
2024-1-5
2024- 1- 5
2024-01-05
</div><p id="4aa00e33_43">La cha&icirc;ne de caract&egrave;res d&eacute;crivant le format (<span class="emphasis" id="4aa00e33_44">cha&icirc;ne de format</span>, ou <span class="emphasis" id="4aa00e33_45">format string</span> en anglais) doit inclure au moins une entr&eacute;e d&eacute;butant par le caract&egrave;re <code class="code" id="4aa00e33_46">%</code>, suivi par la description du format. Dans l'exemple pr&eacute;c&eacute;dent, il y a 4 sorties. Dans la premi&egrave;re, la sortie sera identique &agrave; l'exemple pr&eacute;c&eacute;dent. Le <code class="code" id="4aa00e33_47">%d</code> va &ecirc;tre remplac&eacute; par la valeur de la variable <code class="code" id="4aa00e33_48">year</code>. Le <code class="code" id="4aa00e33_49">d</code> indique que la valeur sera un nombre entier en base 10 (<span class="emphasis" id="4aa00e33_50">d&eacute;cimal</span>). On pourrait utiliser</p><ul class="list _ul" id="4aa00e33_51"><li class="list__item" id="4aa00e33_52"><p><code class="code" id="4aa00e33_53">%x</code> pour un nombre entier en base 16 (<span class="emphasis" id="4aa00e33_54">hexad&eacute;cimal</span>)</p></li><li class="list__item" id="4aa00e33_55"><p><code class="code" id="4aa00e33_56">%o</code> pour un nombre entier en base 8 (<span class="emphasis" id="4aa00e33_57">octal</span>)</p></li><li class="list__item" id="4aa00e33_58"><p><code class="code" id="4aa00e33_59">%b</code> pour un nombre entier en base 2 (<span class="emphasis" id="4aa00e33_60">binaire</span>)</p></li></ul><p id="4aa00e33_61">Dans la deuxi&egrave;me sortie, il y a 3 formats &agrave; l'int&eacute;rieur de la cha&icirc;ne de format, et ils sont s&eacute;par&eacute;s par des tirets qui ne font pas partie des formats, mais qui feront partie de la sortie. Le probl&egrave;me est que la sortie n'est pas tr&egrave;s belle parce que les valeurs pour le mois et la journ&eacute;e sont plus petites que 10, alors qu'habituellement, on r&eacute;serve 2 emplacements (ou 2 colonnes) pour ces valeurs m&ecirc;me si elles n'en n'ont pas besoin.</p><p id="4aa00e33_62">On peut remplacer le deuxi&egrave;me format par celui-ci : <code class="code" id="4aa00e33_63">&quot;%4d-%2d-%2d\n&quot;</code>. La sortie sera alors <code class="code" id="4aa00e33_64">2024- 1- 5</code>, ce qui n'est pas vraiment mieux. On sp&eacute;cifie que l'on veut avoir 4 colonnes pour l'ann&eacute;e, 2 colonnes pour le mois et aussi 2 colonnes pour le jour, mais par d&eacute;faut, les colonnes libres sont remplies avec des espaces.</p><p id="4aa00e33_65">Si on remplace le deuxi&egrave;me format par celui-ci : <code class="code" id="4aa00e33_66">&quot;%4d-%02d-%02d&quot;</code>, alors les colonnes libres seront remplies par des z&eacute;ros, ce qui correspond au format habituel <code class="code" id="4aa00e33_67">2024-01-05</code>.</p><p id="4aa00e33_68">Cet exemple montre comment formatter une date dans un format pr&eacute;cis, mais il existe plusieurs autres formats possibles. Formatter des dates est un besoin commun, qui doit supporter des formats diff&eacute;rents selon les param&egrave;tres de localisation de l'application. Le paquet <code class="code" id="4aa00e33_69">time</code> peut &ecirc;tre utilis&eacute; pour, entre autres, formatter les dates et les heures. Pour plus de d&eacute;tails : <a href="https://gosamples.dev/date-time-format-cheatsheet/" id="4aa00e33_70" data-external="true" rel="noopener noreferrer">Date and time format in Go cheatsheet</a></p></section><section class="chapter"><h3 id="formatter-d-autres-types" data-toc="formatter-d-autres-types">Formatter d'autres types</h3><p id="4aa00e33_71">R&eacute;f&eacute;rence : <a href="https://pkg.go.dev/fmt" id="4aa00e33_72" data-external="true" rel="noopener noreferrer">Paquet <code class="code" id="4aa00e33_73">fmt</code></a></p><p id="4aa00e33_74">Les formats les plus courants :</p><div class="table-wrapper"><table class="wide" id="4aa00e33_75"><thead><tr class="ijRowHead" id="4aa00e33_76"><th id="4aa00e33_77"><p>Formats</p></th><th id="4aa00e33_78"><p>D&eacute;tails</p></th></tr></thead><tbody><tr id="4aa00e33_79"><td id="4aa00e33_80"><p><code class="code" id="4aa00e33_81">%v</code></p></td><td id="4aa00e33_82"><p>format par d&eacute;faut</p></td></tr><tr id="4aa00e33_83"><td id="4aa00e33_84"><p><code class="code" id="4aa00e33_85">%d</code>, <code class="code" id="4aa00e33_86">%x</code>, <code class="code" id="4aa00e33_87">%b</code></p></td><td id="4aa00e33_88"><p>nombres entiers en bases 10, 16 et 2</p></td></tr><tr id="4aa00e33_89"><td id="4aa00e33_90"><p><code class="code" id="4aa00e33_91">%f</code>, <code class="code" id="4aa00e33_92">%F</code></p></td><td id="4aa00e33_93"><p>nombres r&eacute;els, avec un point, sans exposant</p></td></tr><tr id="4aa00e33_94"><td id="4aa00e33_95"><p><code class="code" id="4aa00e33_96">%e</code>, <code class="code" id="4aa00e33_97">%E</code></p></td><td id="4aa00e33_98"><p>nombres r&eacute;els, notation scientifique</p></td></tr><tr id="4aa00e33_99"><td id="4aa00e33_100"><p><code class="code" id="4aa00e33_101">%s</code></p></td><td id="4aa00e33_102"><p>cha&icirc;nes de caract&egrave;res</p></td></tr><tr id="4aa00e33_103"><td id="4aa00e33_104"><p><code class="code" id="4aa00e33_105">%t</code></p></td><td id="4aa00e33_106"><p>bool&eacute;en</p></td></tr><tr id="4aa00e33_107"><td id="4aa00e33_108"><p><code class="code" id="4aa00e33_109">%T</code></p></td><td id="4aa00e33_110"><p>type de la valeur</p></td></tr></tbody></table></div><p id="4aa00e33_111">Pour les nombres r&eacute;els, on peut sp&eacute;cifier la pr&eacute;cision voulue.</p><div class="code-block" data-lang="go">
package main

import &quot;fmt&quot;

func print3() {
	x := 1234.5678
	fmt.Printf(&quot;%f\n%.2f\n%.f\n&quot;, x, x, x)
}
</div><p id="4aa00e33_113">Sortie :</p><div class="code-block" data-lang="none">
1234.567800
1234.57
1235
</div></section></section><div class="last-modified">Last modified: 26 février 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="c01s02-les-variables-et-les-types-de-base.html" class="navigation-links__prev">Section 2 : Les variables et les types de base</a><a href="c01s04-les-fonctions.html" class="navigation-links__next">Section 4 : Les fonctions</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.js"></script></body></html>