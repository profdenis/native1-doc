<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex">  <meta name="built-on" content="2024-01-16T11:58:05.085326715"><meta name="build-number" content="${buildNumber}">       <title>Section 3 : Les diff&eacute;rentes fa&ccedil;ons d'&eacute;crire des valeurs | Help Instance</title><script id="virtual-toc-data" type="application/json">[{"id":"crire-dans-une-cha-ne-de-caract-res","level":0,"title":"Écrire dans une chaîne de caractères","anchor":"#crire-dans-une-cha-ne-de-caract-res"},{"id":"crire-selon-un-format","level":0,"title":"Écrire selon un format","anchor":"#crire-selon-un-format"}]</script><script id="topic-shortcuts" type="application/json"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Section 3 : Les diff&eacute;rentes fa&ccedil;ons d'&eacute;crire des valeurs | Help Instance"/><meta property="og:description" content=""/><meta property="og:image" content=""/><meta property="og:site_name" content="Help Instance Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="c01s03-les-differentes-facons-d-ecrire-des-valeurs.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Section 3 : Les diff&eacute;rentes fa&ccedil;ons d'&eacute;crire des valeurs | Help Instance"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "c01s03-les-differentes-facons-d-ecrire-des-valeurs.html#webpage", "url": "c01s03-les-differentes-facons-d-ecrire-des-valeurs.html", "name": "Section 3 : Les diff&eacute;rentes fa&ccedil;ons d'&eacute;crire des valeurs | Help Instance", "description": "", "image": "", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "/#website", "url": "/", "name": "Help Instance Help" }</script><!-- End Schema.org --></head>      <body data-id="c01s03-Les-differentes-facons-d-ecrire-des-valeurs" data-main-title="Section 3 : Les diff&eacute;rentes fa&ccedil;ons d'&eacute;crire des valeurs" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="c01-Les-bases-du-langage-Go.md|Chapitre 1 : Les bases du langage Go"  >   <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Help Instance  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="c01s03-Les-differentes-facons-d-ecrire-des-valeurs"   id="c01s03-Les-differentes-facons-d-ecrire-des-valeurs.md">Section 3 : Les diff&eacute;rentes fa&ccedil;ons d'&eacute;crire des valeurs</h1>  <p id="d49cd2e0_3023">En plus des fonctions <code class="code" id="d49cd2e0_3024">Print</code>, <code class="code" id="d49cd2e0_3025">Println</code> et <code class="code" id="d49cd2e0_3026">Printf</code> qui sont utilis&eacute;es pour &eacute;crire sur le <span class="emphasis" id="d49cd2e0_3027">stdout</span>, le paquet <code class="code" id="d49cd2e0_3028">fmt</code> contient des fonctions pour &eacute;crire dans une cha&icirc;ne de caract&egrave;res (<code class="code" id="d49cd2e0_3029">Sprint</code>, <code class="code" id="d49cd2e0_3030">Sprintln</code>, <code class="code" id="d49cd2e0_3031">Sprintf</code>) ou dans un fichier (<code class="code" id="d49cd2e0_3032">Fprint</code>, <code class="code" id="d49cd2e0_3033">Fprintln</code>, <code class="code" id="d49cd2e0_3034">Fprintf</code>).</p><ul class="list _ul" id="d49cd2e0_3035"><li class="list__item" id="d49cd2e0_3036"><p>Les fonctions se terminant par <span class="emphasis" id="d49cd2e0_3037">ln</span> ajoutent un changement de ligne (<code class="code" id="d49cd2e0_3038">\n</code>) &agrave; la fin de la cha&icirc;ne de caract&egrave;res &agrave; &eacute;crire.</p></li><li class="list__item" id="d49cd2e0_3039"><p>Les fonctions se terminant par un <span class="emphasis" id="d49cd2e0_3040">f</span> utilisent une syntaxe sp&eacute;ciale pour <span class="control" id="d49cd2e0_3041">formatter</span> les cha&icirc;nes de caract&egrave;res.</p></li><li class="list__item" id="d49cd2e0_3042"><p>Les fonctions commen&ccedil;ant avec un <span class="emphasis" id="d49cd2e0_3043">S</span> &eacute;crivent dans une cha&icirc;ne de caract&egrave;res (<span class="emphasis" id="d49cd2e0_3044">S</span> pour <span class="emphasis" id="d49cd2e0_3045">string</span>)</p></li><li class="list__item" id="d49cd2e0_3046"><p>Les fonctions commen&ccedil;ant avec un <span class="emphasis" id="d49cd2e0_3047">F</span> &eacute;crivent dans un fichier (<span class="emphasis" id="d49cd2e0_3048">F</span> pour <span class="emphasis" id="d49cd2e0_3049">file</span>) </p><ul class="list _ul" id="d49cd2e0_3050"><li class="list__item" id="d49cd2e0_3051"><p>Les fonctions sur les fichiers seront pr&eacute;sent&eacute;es plus loin, dans le chapitre consacr&eacute; &agrave; la gestion des fichiers.</p></li></ul></li></ul><section class="chapter"><h2 id="crire-dans-une-cha-ne-de-caract-res" data-toc="crire-dans-une-cha-ne-de-caract-res"   >&Eacute;crire dans une cha&icirc;ne de caract&egrave;res</h2><div class="code-block" data-lang="go"         >
package main

import &quot;fmt&quot;

func print1() {
	year := 2024
	output := fmt.Sprintln(&quot;ann&eacute;e =&quot;, year)
	fmt.Println(output)
}
</div><p id="d49cd2e0_3053">Dans cet exemple simplifi&eacute;, il serait pr&eacute;f&eacute;rable d'utiliser <code class="code" id="d49cd2e0_3054">Println</code> directement sur les deux valeurs &agrave; &eacute;crire (<code class="code" id="d49cd2e0_3055">fmt.Pprintln(&quot;ann&eacute;e =&quot;, year)</code>), mais dans un exemple plus complexe, lorsqu'il est n&eacute;cessaire d'&eacute;crire la m&ecirc;me cha&icirc;ne de caract&egrave;res &agrave; plusieurs reprises, possiblement &agrave; des endroits diff&eacute;rents (<span class="emphasis" id="d49cd2e0_3056">stdout</span>, fichier, ...), &eacute;crire dans une cha&icirc;ne en premier peut simplifier le code plus loin dans le programme, surtout si on a besoin de formatter les valeurs de fa&ccedil;on particuli&egrave;re.</p></section><section class="chapter"><h2 id="crire-selon-un-format" data-toc="crire-selon-un-format"   >&Eacute;crire selon un format</h2><p id="d49cd2e0_3057">Le m&ecirc;me principe s'applique aux fonctions <code class="code" id="d49cd2e0_3058">Printf</code>, <code class="code" id="d49cd2e0_3059">Sprintf</code> et <code class="code" id="d49cd2e0_3060">Fprintf</code>: une cha&icirc;ne de caract&egrave;res d&eacute;crivant le format doit &ecirc;tre donn&eacute;e comme premier argument aux fonctions, suivie d'une ou plusieurs valeurs &agrave; formatter.</p><section class="chapter"><h3 id="nombres-entiers" data-toc="nombres-entiers"   >Nombres entiers</h3><div class="code-block" data-lang="go"         >
package main

import &quot;fmt&quot;

func print2() {
	year := 2024
	month := 1
	day := 5
	
	fmt.Printf(&quot;ann&eacute;e = %d\n&quot;, year)
	fmt.Printf(&quot;%d-%d-%d\n&quot;, year, month, day)
	fmt.Printf(&quot;%4d-%2d-%2d\n&quot;, year, month, day)
	fmt.Printf(&quot;%4d-%02d-%02d\n&quot;, year, month, day)
}
</div><p id="d49cd2e0_3062">Sortie :</p><div class="code-block" data-lang="none"         >
ann&eacute;e = 2024
2024-1-5
2024- 1- 5
2024-01-05
</div><p id="d49cd2e0_3064">La cha&icirc;ne de caract&egrave;res d&eacute;crivant le format (<span class="emphasis" id="d49cd2e0_3065">cha&icirc;ne de format</span>, ou <span class="emphasis" id="d49cd2e0_3066">format string</span> en anglais) doit inclure au moins une entr&eacute;e d&eacute;butant par le caract&egrave;re <code class="code" id="d49cd2e0_3067">%</code>, suivi par la description du format. Dans l'exemple pr&eacute;c&eacute;dent, il y a 4 sorties. Dans la premi&egrave;re, la sortie sera identique &agrave; l'exemple pr&eacute;c&eacute;dent. Le <code class="code" id="d49cd2e0_3068">%d</code> va &ecirc;tre remplac&eacute; par la valeur de la variable <code class="code" id="d49cd2e0_3069">year</code>. Le <code class="code" id="d49cd2e0_3070">d</code> indique que la valeur sera un nombre entier en base 10 (<span class="emphasis" id="d49cd2e0_3071">d&eacute;cimal</span>). On pourrait utiliser</p><ul class="list _ul" id="d49cd2e0_3072"><li class="list__item" id="d49cd2e0_3073"><p><code class="code" id="d49cd2e0_3074">%x</code> pour un nombre entier en base 16 (<span class="emphasis" id="d49cd2e0_3075">hexad&eacute;cimal</span>)</p></li><li class="list__item" id="d49cd2e0_3076"><p><code class="code" id="d49cd2e0_3077">%o</code> pour un nombre entier en base 8 (<span class="emphasis" id="d49cd2e0_3078">octal</span>)</p></li><li class="list__item" id="d49cd2e0_3079"><p><code class="code" id="d49cd2e0_3080">%b</code> pour un nombre entier en base 2 (<span class="emphasis" id="d49cd2e0_3081">binaire</span>)</p></li></ul><p id="d49cd2e0_3082">Dans la deuxi&egrave;me sortie, il y a 3 formats &agrave; l'int&eacute;rieur de la cha&icirc;ne de format, et ils sont s&eacute;par&eacute;s par des tirets qui ne font pas partie des formats, mais qui feront partie de la sortie. Le probl&egrave;me est que la sortie n'est pas tr&egrave;s belle parce que les valeurs pour le mois et la journ&eacute;e sont plus petites que 10, alors qu'habituellement, on r&eacute;serve 2 emplacements (ou 2 colonnes) pour ces valeurs m&ecirc;me si elles n'en n'ont pas besoin.</p><p id="d49cd2e0_3083">On peut remplacer le deuxi&egrave;me format par celui-ci : <code class="code" id="d49cd2e0_3084">&quot;%4d-%2d-%2d\n&quot;</code>. La sortie sera alors <code class="code" id="d49cd2e0_3085">2024- 1- 5</code>, ce qui n'est pas vraiment mieux. On sp&eacute;cifie que l'on veut avoir 4 colonnes pour l'ann&eacute;e, 2 colonnes pour le mois et aussi 2 colonnes pour le jour, mais par d&eacute;faut, les colonnes libres sont remplies avec des espaces.</p><p id="d49cd2e0_3086">Si on remplace le deuxi&egrave;me format par celui-ci : <code class="code" id="d49cd2e0_3087">&quot;%4d-%02d-%02d&quot;</code>, alors les colonnes libres seront remplies par des z&eacute;ros, ce qui correspond au format habituel <code class="code" id="d49cd2e0_3088">2024-01-05</code>.</p><p id="d49cd2e0_3089">Cet exemple montre comment formatter une date dans un format pr&eacute;cis, mais il existe plusieurs autres formats possibles. Formatter des dates est un besoin commun, qui doit supporter des formats diff&eacute;rents selon les param&egrave;tres de localisation de l'application. Le paquet <code class="code" id="d49cd2e0_3090">time</code> peut &ecirc;tre utilis&eacute; pour, entre autres, formatter les dates et les heures. Pour plus de d&eacute;tails : <a href="https://gosamples.dev/date-time-format-cheatsheet/" id="d49cd2e0_3091"   data-external="true" rel="noopener noreferrer" >Date and time format in Go cheatsheet</a></p></section><section class="chapter"><h3 id="formatter-d-autres-types" data-toc="formatter-d-autres-types"   >Formatter d'autres types</h3><p id="d49cd2e0_3092">R&eacute;f&eacute;rence : <a href="https://pkg.go.dev/fmt" id="d49cd2e0_3093"   data-external="true" rel="noopener noreferrer" >Paquet <code class="code" id="d49cd2e0_3094">fmt</code></a></p><p id="d49cd2e0_3095">Les formats les plus courants :</p><div class="table-wrapper"><table class="wide" id="d49cd2e0_3096"><thead><tr class="ijRowHead" id="d49cd2e0_3097"><th id="d49cd2e0_3098"><p>Formats</p></th><th id="d49cd2e0_3099"><p>D&eacute;tails</p></th></tr></thead><tbody><tr id="d49cd2e0_3100"><td id="d49cd2e0_3101"><p><code class="code" id="d49cd2e0_3102">%v</code></p></td><td id="d49cd2e0_3103"><p>format par d&eacute;faut</p></td></tr><tr id="d49cd2e0_3104"><td id="d49cd2e0_3105"><p><code class="code" id="d49cd2e0_3106">%d</code>, <code class="code" id="d49cd2e0_3107">%x</code>, <code class="code" id="d49cd2e0_3108">%b</code></p></td><td id="d49cd2e0_3109"><p>nombres entiers en bases 10, 16 et 2</p></td></tr><tr id="d49cd2e0_3110"><td id="d49cd2e0_3111"><p><code class="code" id="d49cd2e0_3112">%f</code>, <code class="code" id="d49cd2e0_3113">%F</code></p></td><td id="d49cd2e0_3114"><p>nombres r&eacute;els, avec un point, sans exposant</p></td></tr><tr id="d49cd2e0_3115"><td id="d49cd2e0_3116"><p><code class="code" id="d49cd2e0_3117">%e</code>, <code class="code" id="d49cd2e0_3118">%E</code></p></td><td id="d49cd2e0_3119"><p>nombres r&eacute;els, notation scientifique</p></td></tr><tr id="d49cd2e0_3120"><td id="d49cd2e0_3121"><p><code class="code" id="d49cd2e0_3122">%s</code></p></td><td id="d49cd2e0_3123"><p>cha&icirc;nes de caract&egrave;res</p></td></tr><tr id="d49cd2e0_3124"><td id="d49cd2e0_3125"><p><code class="code" id="d49cd2e0_3126">%t</code></p></td><td id="d49cd2e0_3127"><p>bool&eacute;en</p></td></tr><tr id="d49cd2e0_3128"><td id="d49cd2e0_3129"><p><code class="code" id="d49cd2e0_3130">%T</code></p></td><td id="d49cd2e0_3131"><p>type de la valeur</p></td></tr></tbody></table></div><p id="d49cd2e0_3132">Pour les nombres r&eacute;els, on peut sp&eacute;cifier la pr&eacute;cision voulue.</p><div class="code-block" data-lang="go"         >
package main

import &quot;fmt&quot;

func print3() {
	x := 1234.5678
	fmt.Printf(&quot;%f\n%.2f\n%.f\n&quot;, x, x, x)
}
</div><p id="d49cd2e0_3134">Sortie :</p><div class="code-block" data-lang="none"         >
1234.567800
1234.57
1235
</div></section></section><div class="last-modified"> Last modified: 16 janvier 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="c01s02-les-variables-et-les-types-de-base.html">Section 2 : Les variables et les types de base</a>   <a class="navigation-links__next" href="c01s04-les-fonctions.html">Section 4 : Les fonctions</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.js"></script></body></html>