<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-04-03T16:56:02.394343229"><title>Exemple 8 : Listes | Help Instance</title><script type="application/json" id="virtual-toc-data">[{"id":"fonction-makenumberslist","level":0,"title":"Fonction makeNumbersList()","anchor":"#fonction-makenumberslist"},{"id":"fonction-makepersonlist","level":0,"title":"Fonction makePersonList()","anchor":"#fonction-makepersonlist"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b224/app.css" rel="stylesheet"><link rel="manifest" href="site.webmanifest"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Exemple 8 : Listes | Help Instance"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Help Instance Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/ch09s08-exemple-8-listes.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Exemple 8 : Listes | Help Instance"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/ch09s08-exemple-8-listes.html#webpage",
    "url": "writerside-documentation/ch09s08-exemple-8-listes.html",
    "name": "Exemple 8 : Listes | Help Instance",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Help Instance Help"
}</script><!-- End Schema.org --></head><body data-id="ch09s08-Exemple-8-Listes" data-main-title="Exemple 8 : Listes" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="ch09-Chapitre-9-Interfaces-graphiques.md|Chapitre 9 : Interfaces graphiques"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Help Instance  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="ch09s08-Exemple-8-Listes" id="ch09s08-Exemple-8-Listes.md">Exemple 8 : Listes</h1><p id="l6aezj_144"><a href="https://github.com/profdenis/native1/tree/master/chap9/08_listes" id="l6aezj_145" data-external="true" rel="noopener noreferrer">Code</a></p><p id="l6aezj_146">La fonction <code class="code" id="l6aezj_147">main</code>: Cette fonction initialise une instance d'application en utilisant <code class="code" id="l6aezj_148">app.New()</code>, et cr&eacute;e une nouvelle fen&ecirc;tre intitul&eacute;e <span class="emphasis" id="l6aezj_149">&quot;Exemple 08: listes&quot;</span>. Elle cr&eacute;e ensuite des onglets interactifs sur la fen&ecirc;tre en utilisant la fonction <code class="code" id="l6aezj_150">makeTabs</code>, d&eacute;finit le contenu de la fen&ecirc;tre sur ces onglets, d&eacute;finit la taille de la fen&ecirc;tre et enfin, affiche la fen&ecirc;tre et d&eacute;marre la boucle d'&eacute;v&eacute;nements de l'application.</p><p id="l6aezj_151">La fonction <code class="code" id="l6aezj_152">makeTabs(win fyne.Window) *container.AppTabs { ... }</code>: Cette fonction cr&eacute;e deux listes : une pour des nombres et une pour des personnes. Ces listes sont pass&eacute;es &agrave; <code class="code" id="l6aezj_153">container.NewAppTabs()</code>, qui cr&eacute;e des onglets pour chaque liste. La fonction <code class="code" id="l6aezj_154">container.NewTabItem()</code> est utilis&eacute;e pour cr&eacute;er des onglets individuels &agrave; partir de ces listes.</p><p id="l6aezj_155">La fonction <code class="code" id="l6aezj_156">makeNumbersList() *container.Scroll { ... }</code>: Cette fonction cr&eacute;e une liste d&eacute;roulante de nombres. Le tableau de nombres est utilis&eacute; pour d&eacute;finir les &eacute;l&eacute;ments de la liste. Chaque &eacute;l&eacute;ment de la liste est une &eacute;tiquette affichant un nombre du tableau, et la s&eacute;lection d'un &eacute;l&eacute;ment incr&eacute;mente le nombre correspondant.</p><p id="l6aezj_157">La fonction <code class="code" id="l6aezj_158">makePersonList(win fyne.Window) *container.Scroll { ... }</code>: Cette fonction est similaire &agrave; <code class="code" id="l6aezj_159">makeNumbersList()</code>, mais elle cr&eacute;e une liste d&eacute;roulante de personnes &agrave; la place. Chaque personne est affich&eacute;e comme une &eacute;tiquette dans la liste, et la s&eacute;lection d'une personne affiche une bo&icirc;te de dialogue d'information avec le nom de la personne s&eacute;lectionn&eacute;e.</p><section class="chapter"><h2 id="fonction-makenumberslist" data-toc="fonction-makenumberslist">Fonction <code class="code" id="l6aezj_161">makeNumbersList()</code></h2><p id="l6aezj_162">La fonction <code class="code" id="l6aezj_163">makeNumbersList()</code> dans le code Go fourni est utilis&eacute;e pour cr&eacute;er une liste d&eacute;roulante de nombres. Voici une explication des diff&eacute;rentes parties de la fonction :</p><ol class="list _decimal" id="l6aezj_164" type="1"><li class="list__item" id="l6aezj_165"><p id="l6aezj_166">La fonction <code class="code" id="l6aezj_167">makeNumbersList()</code> renvoie un pointeur vers un <code class="code" id="l6aezj_168">container.Scroll</code>, qui est un type de conteneur d&eacute;roulant dans la biblioth&egrave;que Fyne.</p></li><li class="list__item" id="l6aezj_169"><p id="l6aezj_170">Un tableau d'entiers appel&eacute; <code class="code" id="l6aezj_171">numbers</code> est initialis&eacute; avec un ensemble de nombres.</p></li><li class="list__item" id="l6aezj_172"><p id="l6aezj_173">La fonction <code class="code" id="l6aezj_174">widget.NewList</code> est utilis&eacute;e pour cr&eacute;er un nouveau widget de liste. Cette fonction accepte trois arguments :</p><ol class="list _decimal" id="l6aezj_175" type="1"><li class="list__item" id="l6aezj_176"><p id="l6aezj_177">Une fonction qui renvoie le nombre d'&eacute;l&eacute;ments dans la liste, dans ce cas la longueur de <code class="code" id="l6aezj_178">numbers</code>.</p></li><li class="list__item" id="l6aezj_179"><p id="l6aezj_180">Une fonction qui renvoie une nouvelle instance de l'objet qui constituera chaque &eacute;l&eacute;ment de la liste. Dans ce cas, elle renvoie une &eacute;tiquette avec le texte <span class="emphasis" id="l6aezj_181">&quot;Item&quot;</span>.</p></li><li class="list__item" id="l6aezj_182"><p id="l6aezj_183">Une fonction qui est appel&eacute;e pour mettre &agrave; jour les propri&eacute;t&eacute;s d'un &eacute;l&eacute;ment lorsqu'il devient visible. Ici, cette fonction d&eacute;finit le texte de l'&eacute;tiquette de chaque &eacute;l&eacute;ment pour afficher son index num&eacute;rique dans la liste et la valeur correspondante de la tranche <code class="code" id="l6aezj_184">numbers</code>.</p></li></ol></li><li class="list__item" id="l6aezj_185"><p id="l6aezj_186"><code class="code" id="l6aezj_187">list.OnSelected</code> est un gestionnaire d'&eacute;v&eacute;nements qui est d&eacute;clench&eacute; lorsqu'un &eacute;l&eacute;ment de liste est s&eacute;lectionn&eacute;. Ici, il est d&eacute;fini pour incr&eacute;menter la valeur dans la tranche <code class="code" id="l6aezj_188">numbers</code> &agrave; l'index de l'&eacute;l&eacute;ment s&eacute;lectionn&eacute;, puis rafra&icirc;chir l'affichage de l'&eacute;l&eacute;ment.</p></li><li class="list__item" id="l6aezj_189"><p id="l6aezj_190">Le widget de liste est plac&eacute; dans un conteneur d&eacute;roulant en utilisant <code class="code" id="l6aezj_191">container.NewVScroll(list)</code> et est renvoy&eacute; depuis la fonction.</p></li></ol></section><section class="chapter"><h2 id="fonction-makepersonlist" data-toc="fonction-makepersonlist">Fonction <code class="code" id="l6aezj_193">makePersonList()</code></h2><p id="l6aezj_194">Semblable &agrave; <code class="code" id="l6aezj_195">makeNumbersList()</code>, <code class="code" id="l6aezj_196">makePersonList()</code> cr&eacute;e &eacute;galement un widget de liste mais &agrave; la place des &eacute;l&eacute;ments num&eacute;riques, les &eacute;l&eacute;ments <code class="code" id="l6aezj_197">Person</code> sont cr&eacute;&eacute;s.</p><p id="l6aezj_198">D&eacute;cortiquons en d&eacute;tail la fonction <code class="code" id="l6aezj_199">makePersonList</code>:</p><div class="code-block" data-lang="go">
func makePersonList(win fyne.Window) *container.Scroll {
</div><p id="l6aezj_201">Il s'agit d'une d&eacute;claration de fonction <code class="code" id="l6aezj_202">makePersonList</code> qui prend un param&egrave;tre <code class="code" id="l6aezj_203">fyne.Window</code> et renvoie un <code class="code" id="l6aezj_204">*container.Scroll</code>.</p><div class="code-block" data-lang="go">
people := []Person{
	{Name: &quot;John&quot;, Age: 30},
	{Name: &quot;Jane&quot;, Age: 25},
	{Name: &quot;Alice&quot;, Age: 35},
}
</div><p id="l6aezj_206">Un tableau de type <code class="code" id="l6aezj_207">Person</code> avec trois &eacute;l&eacute;ments est d&eacute;clar&eacute; et initialis&eacute;.</p><div class="code-block" data-lang="go">
list := widget.NewList(
	func() int {
		return len(people)
	},
	func() fyne.CanvasObject {
		return widget.NewLabel(&quot;Personne&quot;)
	},
	func(id widget.ListItemID, item fyne.CanvasObject) {
		person := people[id]
		item.(*widget.Label).SetText(fmt.Sprintf(&quot;Nom : %s, Âge : %d&quot;, person.Name, person.Age))
	},
)
</div><p id="l6aezj_209">Un <code class="code" id="l6aezj_210">widget.List</code> est cr&eacute;&eacute;.</p><ul class="list _bullet" id="l6aezj_211"><li class="list__item" id="l6aezj_212"><p id="l6aezj_213">La premi&egrave;re fonction appelle <code class="code" id="l6aezj_214">len(people)</code> pour obtenir le nombre d'&eacute;l&eacute;ments de la liste.</p></li><li class="list__item" id="l6aezj_215"><p id="l6aezj_216">La deuxi&egrave;me fonction cr&eacute;e un nouvel objet &eacute;tiquette pour chaque &eacute;l&eacute;ment.</p></li><li class="list__item" id="l6aezj_217"><p id="l6aezj_218">La troisi&egrave;me fonction d&eacute;finit le texte pour chaque &eacute;tiquette afin d'afficher le nom et l'&acirc;ge de la personne.</p></li></ul><div class="code-block" data-lang="go">
list.OnSelected = func(id widget.ListItemID) {
	out := fmt.Sprintf(&quot;Personne sélectionnée : %s&quot;, people[id].Name)
	dialog.ShowInformation(fmt.Sprintf(&quot;Personne %d&quot;, id), out, win)
}
</div><p id="l6aezj_220">Une fonction de gestion d'&eacute;v&eacute;nement, pour quand un &eacute;l&eacute;ment est s&eacute;lectionn&eacute;, est d&eacute;finie. Cette fonction affiche une bo&icirc;te de dialogue avec le nom de la personne s&eacute;lectionn&eacute;e.</p><div class="code-block" data-lang="go">
return container.NewVScroll(list)
</div><p id="l6aezj_222">La fonction se termine en cr&eacute;ant un nouveau conteneur de d&eacute;filement vertical pour la liste et en le renvoyant.</p></section><div class="last-modified">Last modified: 03 avril 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="ch09s07-exemple-7-menu.html" class="navigation-links__prev">Exemple 7 : Menu</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b224/app.js"></script></body></html>