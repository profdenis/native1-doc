<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-04-03T16:56:02.408442623"><title>Section 1 : Les dictionnaires (map) | Help Instance</title><script type="application/json" id="virtual-toc-data">[{"id":"les-maps-en-go","level":0,"title":"Les maps en Go","anchor":"#les-maps-en-go"},{"id":"exemple-1","level":0,"title":"Exemple 1","anchor":"#exemple-1"},{"id":"exemple-2","level":0,"title":"Exemple 2","anchor":"#exemple-2"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b224/app.css" rel="stylesheet"><link rel="manifest" href="site.webmanifest"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Section 1 : Les dictionnaires (map) | Help Instance"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Help Instance Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/ch07s01-section-1-les-dictionnaires.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Section 1 : Les dictionnaires (map) | Help Instance"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/ch07s01-section-1-les-dictionnaires.html#webpage",
    "url": "writerside-documentation/ch07s01-section-1-les-dictionnaires.html",
    "name": "Section 1 : Les dictionnaires (map) | Help Instance",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Help Instance Help"
}</script><!-- End Schema.org --></head><body data-id="ch07s01-Section-1-Les-dictionnaires" data-main-title="Section 1 : Les dictionnaires (map)" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="ch07-Chapitre-7-Structures-de-donnees.md|Chapitre 7 : Structures de données"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Help Instance  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="ch07s01-Section-1-Les-dictionnaires" id="ch07s01-Section-1-Les-dictionnaires.md">Section 1 : Les dictionnaires (map)</h1><p id="kj3qy1_2">Dans les sciences de l'informatique, un <span class="control" id="kj3qy1_3">dictionnaire</span>, &eacute;galement connu sous le nom de <span class="emphasis" id="kj3qy1_4">map</span> et de <span class="emphasis" id="kj3qy1_5">tableau associatif</span>, est une structure de donn&eacute;es qui stocke les valeurs en paires de cl&eacute;s et de valeurs. Chaque cl&eacute; unique est associ&eacute;e &agrave; une valeur, ce qui permet de r&eacute;cup&eacute;rer efficacement la valeur &agrave; l'aide de la cl&eacute; correspondante.</p><p id="kj3qy1_6">L'un des principaux avantages d'un dictionnaire est qu'il permet un acc&egrave;s rapide &agrave; ses &eacute;l&eacute;ments. Dans de nombreux cas, l'acc&egrave;s, l'insertion et la suppression d'un &eacute;l&eacute;ment sont tous effectu&eacute;s en temps constant, ind&eacute;pendamment de la taille du dictionnaire. Cela contraste avec des structures de donn&eacute;es telles que les listes ou les tableaux, o&ugrave; le temps n&eacute;cessaire pour trouver un &eacute;l&eacute;ment peut augmenter &agrave; mesure que la taille de la structure de donn&eacute;es augmente.</p><p id="kj3qy1_7">Dans les dictionnaires, la cl&eacute; joue un r&ocirc;le significatif, car elle est utilis&eacute;e pour acc&eacute;der &agrave; la valeur correspondante, et chaque cl&eacute; est unique. Cela signifie que si vous essayez d'ins&eacute;rer une nouvelle cl&eacute; qui existe d&eacute;j&agrave; dans le dictionnaire, la valeur existante de cette cl&eacute; sera remplac&eacute;e par la nouvelle valeur.</p><p id="kj3qy1_8">Les dictionnaires sont utilis&eacute;s dans un grand nombre d'applications. Par exemple, ils sont souvent utilis&eacute;s pour impl&eacute;menter la fonctionnalit&eacute; de recherche rapide dans les bases de donn&eacute;es, o&ugrave; la cl&eacute; serait un identifiant unique et la valeur serait l'enregistrement associ&eacute; &agrave; cet identifiant. D'autres utilisations courantes des dictionnaires incluent la d&eacute;tection de duplications, le comptage d'occurrences d'&eacute;l&eacute;ments, ou le stockage de configuration et de m&eacute;tadonn&eacute;es.</p><p id="kj3qy1_9">Il est important de noter que les dictionnaires, en raison de leur fonctionnement interne, <span class="emphasis" id="kj3qy1_10">ne maintiennent pas d'ordre sp&eacute;cifique des &eacute;l&eacute;ments</span> stock&eacute;s, sauf dans des certaines impl&eacute;mentations sp&eacute;cifiques, comme le <code class="code" id="kj3qy1_11">TreeMap</code> de Java. Par cons&eacute;quent, si vous avez besoin d'une structure de donn&eacute;es ordonn&eacute;e, d'autres options, comme les listes tri&eacute;es ou les arbres, pourraient &ecirc;tre plus appropri&eacute;es.</p><p id="kj3qy1_12">En r&eacute;sum&eacute;, les dictionnaires ou les <span class="emphasis" id="kj3qy1_13">maps</span> sont des structures de donn&eacute;es associatives puissantes et flexibles qui op&egrave;rent sur des paires de cl&eacute;s et de valeurs, offrant un acc&egrave;s rapide et des op&eacute;rations efficaces sur les donn&eacute;es.</p><section class="chapter"><h2 id="les-maps-en-go" data-toc="les-maps-en-go">Les <span class="emphasis" id="kj3qy1_15">maps</span> en Go</h2><p id="kj3qy1_16">Les maps sont une structure de donn&eacute;es fondamentale dans Go, souvent utilis&eacute;es lorsque vous souhaitez stocker des associations cl&eacute;/valeur, similaires aux dictionnaires en Python, au <code class="code" id="kj3qy1_17">HashMap</code> en Java et aux objets en JavaScript.</p><p id="kj3qy1_18">Voici comment d&eacute;clarer une map en Go :</p><div class="code-block" data-lang="go">
var myMap map[string]int
</div><p id="kj3qy1_20">Ceci d&eacute;clare une map appel&eacute;e <code class="code" id="kj3qy1_21">myMap</code> qui a des cl&eacute;s de type <code class="code" id="kj3qy1_22">string</code> et des valeurs de type <code class="code" id="kj3qy1_23">int</code>.</p><p id="kj3qy1_24">Veuillez noter que d&eacute;clarer une map de cette mani&egrave;re l'initialise &agrave; <code class="code" id="kj3qy1_25">nil</code>. Pour assigner une nouvelle map vide &agrave; <code class="code" id="kj3qy1_26">myMap</code>, nous devons utiliser la fonction <code class="code" id="kj3qy1_27">make</code>:</p><div class="code-block" data-lang="go">
myMap = make(map[string]int)
</div><p id="kj3qy1_29">On peut d&eacute;clarer et initialiser une map en une seule d&eacute;claration :</p><div class="code-block" data-lang="go">
myMap := make(map[string]int)
</div><p id="kj3qy1_31">Pour ajouter des valeurs &agrave; notre map :</p><div class="code-block" data-lang="go">
myMap[&quot;One&quot;] = 1
myMap[&quot;Two&quot;] = 2
myMap[&quot;Three&quot;] = 3
</div><p id="kj3qy1_33">Pour r&eacute;cup&eacute;rer une valeur de la map :</p><div class="code-block" data-lang="go">
value := myMap[&quot;Two&quot;]  // value est maintenant égal à 2
</div><p id="kj3qy1_35">Si vous essayez d'acc&eacute;der &agrave; une cl&eacute; qui n'existe pas dans la map, Go retournera la valeur z&eacute;ro pour le type de valeur de la map. Pour un int, cela donnerait 0.</p><p id="kj3qy1_36">Pour v&eacute;rifier si une cl&eacute; existe dans la map, vous pouvez utiliser la d&eacute;claration <code class="code" id="kj3qy1_37">if</code>:</p><div class="code-block" data-lang="go">
val, exists := myMap[&quot;Four&quot;]
if exists {
    fmt.Println(&quot;La valeur existe et est&quot;, val)
} else {
    fmt.Println(&quot;La valeur n'existe pas&quot;)
}
</div><p id="kj3qy1_39">Pour supprimer une entr&eacute;e de la map, utilisez la fonction <code class="code" id="kj3qy1_40">delete</code>:</p><div class="code-block" data-lang="go">
delete(myMap, &quot;Two&quot;)
</div><p id="kj3qy1_42">Cela supprime l'entr&eacute;e avec la cl&eacute; &quot;Two&quot; de la map. Si la cl&eacute; n'existe pas dans la map, <code class="code" id="kj3qy1_43">delete</code> ne fait rien et le programme continue &agrave; fonctionner.</p><p id="kj3qy1_44">Enfin, pour parcourir une map, vous pouvez utiliser une boucle <code class="code" id="kj3qy1_45">for</code>:</p><div class="code-block" data-lang="go">
for key, value := range myMap {
    fmt.Printf(&quot;Clé : %s, Valeur : %d\n&quot;, key, value)
}
</div><p id="kj3qy1_47">Ici, <code class="code" id="kj3qy1_48">range</code> sur une map retourne deux valeurs &agrave; chaque it&eacute;ration, la cl&eacute; et la valeur.</p></section><section class="chapter"><h2 id="exemple-1" data-toc="exemple-1">Exemple 1</h2><div class="code-block" data-lang="go">
var menuStrings = make(map[string]string)

func ShowMenu(name string) {

	if _, ok := menuStrings[name]; !ok {
		menuBytes, err := os.ReadFile(&quot;menu/&quot; + name + &quot;.txt&quot;)
		if err != nil {
			log.Fatalf(&quot;lecture du contenu du menu impossible : %s&quot;, err)
		}
		menuStrings[name] = string(menuBytes)
	}
	fmt.Println(menuStrings[name])
}
</div><ul class="list _bullet" id="kj3qy1_50"><li class="list__item" id="kj3qy1_51"><p id="kj3qy1_52">Tout d'abord, une variable globale <code class="code" id="kj3qy1_53">menuStrings</code> est d&eacute;clar&eacute;e qui est une map avec des cl&eacute;s <code class="code" id="kj3qy1_54">string</code> et des valeurs <code class="code" id="kj3qy1_55">string</code>. Cette variable est initialis&eacute;e avec une map vide &agrave; l'aide de la fonction <code class="code" id="kj3qy1_56">make</code>.</p></li><li class="list__item" id="kj3qy1_57"><p id="kj3qy1_58">Ensuite, une fonction <code class="code" id="kj3qy1_59">ShowMenu</code> est d&eacute;finie, qui prend un param&egrave;tre <code class="code" id="kj3qy1_60">name</code> de type <code class="code" id="kj3qy1_61">string</code>.</p></li><li class="list__item" id="kj3qy1_62"><p id="kj3qy1_63">Dans cette fonction, il y a une v&eacute;rification pour voir si une cl&eacute; correspondant &agrave; <code class="code" id="kj3qy1_64">name</code> existe d&eacute;j&agrave; dans la map <code class="code" id="kj3qy1_65">menuStrings</code>. La syntaxe <code class="code" id="kj3qy1_66">_, ok := menuStrings[name]</code> effectue une recherche de la cl&eacute; dans la map et renvoie deux valeurs : la valeur du dictionnaire &agrave; la cl&eacute;, et un bool&eacute;en indiquant si la cl&eacute; a &eacute;t&eacute; trouv&eacute;e dans la map. Le symbole <code class="code" id="kj3qy1_67">_</code> est un identifiant vide en Go, qui est utilis&eacute; lorsque vous voulez ignorer une valeur retourn&eacute;e. Ici, nous ignorons la valeur renvoy&eacute;e par la map et nous nous int&eacute;ressons seulement &agrave; la valeur bool&eacute;enne <code class="code" id="kj3qy1_68">ok</code>.</p></li><li class="list__item" id="kj3qy1_69"><p id="kj3qy1_70">Si la cl&eacute; n'existe pas dans <code class="code" id="kj3qy1_71">menuStrings</code> (c'est-&agrave;-dire que <code class="code" id="kj3qy1_72">ok</code> est <code class="code" id="kj3qy1_73">false</code>), alors le programme tente de lire un fichier texte du r&eacute;pertoire <code class="code" id="kj3qy1_74">menu/</code> ayant le nom dans la variable<code class="code" id="kj3qy1_75">name</code> avec l'extension <code class="code" id="kj3qy1_76">.txt</code>. L'op&eacute;ration de lecture de fichier peut &eacute;chouer pour diverses raisons (par exemple si le fichier n'existe pas), et dans ce cas une erreur <code class="code" id="kj3qy1_77">err</code> est renvoy&eacute;e.</p></li><li class="list__item" id="kj3qy1_78"><p id="kj3qy1_79">Si une erreur est produite lors de la lecture du fichier, un message d'erreur est affich&eacute; et le programme se termine avec <code class="code" id="kj3qy1_80">log.Fatalf</code>. Sinon, le contenu du fichier, qui est un tableau de bytes (<code class="code" id="kj3qy1_81">menuBytes</code>), est converti en <code class="code" id="kj3qy1_82">string</code> et stock&eacute; dans la map <code class="code" id="kj3qy1_83">menuStrings</code> avec la cl&eacute; &eacute;tant <code class="code" id="kj3qy1_84">name</code>.</p></li><li class="list__item" id="kj3qy1_85"><p id="kj3qy1_86">Enfin, que la valeur ait &eacute;t&eacute; lue &agrave; partir du fichier ou qu'elle existait d&eacute;j&agrave; dans la map, la fonction <code class="code" id="kj3qy1_87">fmt.Println</code> est utilis&eacute;e pour afficher la cha&icirc;ne correspondante &agrave; la cl&eacute; <code class="code" id="kj3qy1_88">name</code> de la map <code class="code" id="kj3qy1_89">menuStrings</code>.</p></li></ul><p id="kj3qy1_90">En somme, ce petit programme effectue une op&eacute;ration de mise en cache des menus bas&eacute;e sur les noms de fichier. Chaque fois que vous demandez un menu par son nom, le programme v&eacute;rifie d'abord s'il a d&eacute;j&agrave; lu le fichier du disque. Si c'est le cas, il utilise la version en cache. Sinon, il lit le fichier du disque, l'ajoute au cache, et l'utilise.</p></section><section class="chapter"><h2 id="exemple-2" data-toc="exemple-2">Exemple 2</h2><div class="code-block" data-lang="go">
package main

import &quot;fmt&quot;

type Person struct {
	Id   int
	Name string
	Age  int
}

func (p Person) String() string {
	return fmt.Sprintf(&quot;ID: %d, Nom : %s, Âge : %d\n&quot;, p.Id, p.Name, p.Age)
}

func main() {
	// Création des personnes
	person1 := &amp;Person{Id: 1, Name: &quot;John Doe&quot;, Age: 30}
	person2 := &amp;Person{Id: 2, Name: &quot;Jane Doe&quot;, Age: 28}
	person3 := &amp;Person{Id: 3, Name: &quot;Richard Roe&quot;, Age: 33}
	person4 := &amp;Person{Id: 4, Name: &quot;Maggie Roe&quot;, Age: 32}
	
	// Création de la map pour stocker les personnes par leur ID
	persons := make(map[int]*Person)

	// Ajout des personnes dans la map
	persons[person1.Id] = person1
	persons[person2.Id] = person2
	persons[person3.Id] = person3
	persons[person4.Id] = person4
	
	// Affichage des personnes de la map
	for _, person := range persons {
		fmt.Print(person)
	}
}
</div><p id="kj3qy1_92">Dans cet exemple, quatre instances de <code class="code" id="kj3qy1_93">Person</code> sont cr&eacute;&eacute;es (elles sont allou&eacute;es avec <code class="code" id="kj3qy1_94">&amp;</code> pour retourner un pointeur vers l'instance). Ensuite une map appel&eacute;e <code class="code" id="kj3qy1_95">persons</code> est cr&eacute;&eacute;e avec <code class="code" id="kj3qy1_96">make(map[int]*Person)</code>. Cette map associe des entiers (les identifiants des personnes) &agrave; des pointeurs de <code class="code" id="kj3qy1_97">Person</code>.</p><p id="kj3qy1_98">Chaque personne est ajout&eacute;e &agrave; la map avec son <code class="code" id="kj3qy1_99">ID</code> comme cl&eacute; et elle-m&ecirc;me comme valeur (<code class="code" id="kj3qy1_100">persons[person1.Id] = person1</code>).</p><p id="kj3qy1_101">Enfin, une boucle <code class="code" id="kj3qy1_102">for</code> est utilis&eacute;e pour parcourir la map <code class="code" id="kj3qy1_103">persons</code> et chaque personne est affich&eacute;e avec son ID et ses d&eacute;tails.</p></section><div class="last-modified">Last modified: 03 avril 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="ch07-chapitre-7-structures-de-donnees.html" class="navigation-links__prev">Chapitre 7 : Structures de donn&eacute;es</a><a href="ch07s02-section-2-les-listes-chainees.html" class="navigation-links__next">Section 2 : Les listes cha&icirc;n&eacute;es</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b224/app.js"></script></body></html>